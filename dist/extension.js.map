{"version":3,"file":"extension.js","mappings":"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","sources":["webpack://vscode-anemona-task/./src/extension.ts","webpack://vscode-anemona-task/./src/services/Core.ts","webpack://vscode-anemona-task/./src/services/Pages.ts","webpack://vscode-anemona-task/./src/services/Projects.ts","webpack://vscode-anemona-task/./src/services/Request.ts","webpack://vscode-anemona-task/./src/services/Tasks.ts","webpack://vscode-anemona-task/./src/services/Users.ts","webpack://vscode-anemona-task/./src/services/Util/Index.ts","webpack://vscode-anemona-task/./src/services/Util/Mime.ts","webpack://vscode-anemona-task/./src/services/nonce.ts","webpack://vscode-anemona-task/./src/webviews/SidebarProvider.ts","webpack://vscode-anemona-task/external commonjs \"vscode\"","webpack://vscode-anemona-task/external node-commonjs \"fs\"","webpack://vscode-anemona-task/external node-commonjs \"http\"","webpack://vscode-anemona-task/external node-commonjs \"https\"","webpack://vscode-anemona-task/external node-commonjs \"path\"","webpack://vscode-anemona-task/external node-commonjs \"querystring\"","webpack://vscode-anemona-task/external node-commonjs \"url\"","webpack://vscode-anemona-task/webpack/bootstrap","webpack://vscode-anemona-task/webpack/startup"],"sourcesContent":["/* eslint-disable curly */\r\nimport { ExtensionContext, window } from \"vscode\";\r\nimport { SidebarProvider } from \"./webviews/SidebarProvider\";\r\nimport Core from \"./services/Core\";\r\n\r\n/**\r\n * this method is called when your extension is activated\r\n  * your extension is activated the very first time the command is executed\r\n**/\r\nexport function activate(context: ExtensionContext) {\r\n  const core = new Core('vscode-anemona-task', context);\r\n  const ext = core.name;\r\n  const sidebarProvider = new SidebarProvider(context, core);\r\n  context.subscriptions.push(\r\n    window.registerWebviewViewProvider(ext + '-sidebar', sidebarProvider),\r\n    core.cmdReg(ext + '.refresh-en', async () => {\r\n      await core.cmdExe(\"workbench.action.closeSidebar\");\r\n      await core.cmdExe(\"workbench.view.extension.\" + ext + \"-sidebar\");\r\n    }),\r\n    core.cmdReg(ext + '.refresh-es', async () => {\r\n      await core.cmdExe(\"workbench.action.closeSidebar\");\r\n      await core.cmdExe(\"workbench.view.extension.\" + ext + \"-sidebar\");\r\n    }),\r\n    core.cmdReg(ext + '.login-en', () => sidebarProvider.page('page/login')),\r\n    core.cmdReg(ext + '.lang-en', () => sidebarProvider.page('page/langEs')),\r\n    //--\r\n    core.cmdReg(ext + '.login-es', () => sidebarProvider.page('page/login')),\r\n    core.cmdReg(ext + '.lang-es', () => sidebarProvider.page('page/langEn')),\r\n    //------\r\n    core.cmdReg(ext + '.logout-en', () => sidebarProvider.page('page/logout')),\r\n    core.cmdReg(ext + '.home-en', () => sidebarProvider.page('page/dash')),\r\n    core.cmdReg(ext + '.tasks-en', () => sidebarProvider.page('page/tasks')),\r\n    //\r\n    core.cmdReg(ext + '.logout-es', () => sidebarProvider.page('page/logout')),\r\n    core.cmdReg(ext + '.home-es', () => sidebarProvider.page('page/dash')),\r\n    core.cmdReg(ext + '.tasks-es', () => sidebarProvider.page('page/tasks')),\r\n  );\r\n  core.setMenu(1);\r\n}\r\n\r\n// this method is called when your extension is deactivated\r\nexport function deactivate() { }\r\n","/* eslint-disable @typescript-eslint/naming-convention */\r\n/* eslint-disable curly */\r\nimport Request from \"./Request\";\r\nimport { ExtensionContext, WebviewView, commands, window } from \"vscode\";\r\n\r\n\r\ntype FunCallPage = (data: any, opc: number) => {};\r\n\r\nexport default class Core {\r\n    private sess: any;\r\n    public user: any;\r\n    public lang: string = 'en';\r\n    public path: string;\r\n    public cmdExe = commands.executeCommand;\r\n    public cmdReg = commands.registerCommand;\r\n\r\n    constructor(\r\n        public name: string,\r\n        public context: ExtensionContext,\r\n        public view?: WebviewView,\r\n        public req?: Request) {\r\n        this.sess = {\r\n            id: name + '.session',\r\n            token: '',\r\n            host: '',\r\n            service: ''\r\n        };\r\n        this.path = '';\r\n        this.user = null;\r\n        this.isAuth();\r\n    }\r\n\r\n    public loadData(callback = (data: any) => { }): void {\r\n        callback(this.user);\r\n    }\r\n\r\n    public getData(): any {\r\n        return this.user ? this.user : this.getStsGlobal(this.sess.id);\r\n    }\r\n\r\n    public setData(host: string, token: string, service: string, data: any) {\r\n        this.user = {\r\n            allow: data.is_admin || service ? true : false,\r\n            token: token,\r\n            host: host,\r\n            service: service,\r\n            id: data.id,\r\n            email: data.email,\r\n            isAdmin: data.is_admin,\r\n            username: data.username,\r\n            name: data.name,\r\n            lastActivity: data.last_activity_on,\r\n            webUrl: data.web_url,\r\n            avatarUrl: data.avatar_url\r\n        };\r\n        this.setStsGlobal(this.sess.id, this.user);\r\n    }\r\n\r\n    public get(id: string) {\r\n        return this.getStsGlobal(this.sess.id + id);\r\n    }\r\n\r\n    public set(id: string, data: any) {\r\n        this.setStsGlobal(this.sess.id + id, data);\r\n    }\r\n\r\n    public updData(data: any) {\r\n        this.setData(this.sess.host, this.sess.token, this.sess.service, data);\r\n    }\r\n\r\n    public isAuth(): boolean {\r\n        const data = this.getData();\r\n        if (data) {\r\n            this.user = data;\r\n            this.sess.token = data.token;\r\n            this.sess.host = data.host;\r\n            this.sess.service = data.service;\r\n            this.req = this.req ? this.req : new Request(this.sess.host, this.sess.token, this.sess.service);\r\n            return true;\r\n        }\r\n        return false;\r\n    }\r\n\r\n    public async login(host: string, token: string, service: string = ''): Promise<boolean> {\r\n        this.req = new Request(host, token, service);\r\n        console.log('session - login init -');\r\n        const data = await this.req.getJson('/api/v4/user');\r\n        if (data && data.id) {\r\n            console.log(data);\r\n            this.setData(host, token, service, data);\r\n            return this.isAuth();\r\n        } else if (data && data.message) this.winMsgError(data.message);\r\n        return false;\r\n    }\r\n\r\n    public async loginSession(data: any, callback: FunCallPage) {\r\n        console.log('session send data', data)\r\n        data && await this.login(data.host, data.token, data.service)\r\n            ? this.loadData((user => {\r\n                callback(user, 2);\r\n            }))\r\n            : callback(null, 1);\r\n    }\r\n\r\n    public dropSession(callback: FunCallPage) {\r\n        this.delStsGlobal(this.sess.id);\r\n        this.sess.token = '';\r\n        this.sess.host = '';\r\n        this.sess.service = '';\r\n        this.user = null;\r\n        callback(null, 1);\r\n    }\r\n\r\n    public validSession(callback: FunCallPage) {\r\n        const auth = this.isAuth();\r\n        callback({ success: auth, lang: this.lang }, auth ? 2 : 1);\r\n    }\r\n\r\n    public routeSession(cmd: [string], data: any, callback: any) {\r\n        switch (cmd.shift()) {\r\n            //case \"lang\": return this.loadLang(callback);\r\n            case \"valid\": return this.validSession(callback);\r\n            case \"drop\": return this.dropSession(callback);\r\n            case \"login\": return this.loginSession(data, callback);\r\n        }\r\n    }\r\n\r\n    public session(cmd: [string], req: any) {\r\n        console.log('session - router:', cmd, req);\r\n        const _cmd = 'session/' + cmd.join('/');\r\n        this.postCmd('lang', this.lang);\r\n        this.routeSession(cmd, req.content, (data: any, opc: number) => {\r\n            console.log('session - _cmd ', _cmd);\r\n            this.setMenu(opc);\r\n            this.postCmd(_cmd, data || {});\r\n        });\r\n    }\r\n\r\n    public initLang() {\r\n        this.lang = this.getStsGlobal('lang') || 'en';\r\n    }\r\n\r\n    public loadLang(cmd: [string], req: any) {\r\n        this.postCmd(req.command, this.lang);\r\n    }\r\n\r\n    public setLang(lang: string) {\r\n        this.lang = lang;\r\n        this.setStsGlobal('lang', lang);\r\n        //this.postCmd('lang', this.lang);\r\n    }\r\n\r\n    public getStsGlobal(key: string): any {\r\n        return this.context.globalState.get(key);\r\n    }\r\n\r\n    public setStsGlobal(key: string, data: any): void {\r\n        this.context.globalState.update(key, data);\r\n        //this.context.globalState.setKeysForSync([key]);\r\n    }\r\n\r\n    public delStsGlobal(key: string): void {\r\n        this.context.globalState.update(key, undefined);\r\n    }\r\n\r\n    public setCtx(id: string, value: any): void {\r\n        this.cmdExe('setContext', this.name + '.' + id, value);\r\n    }\r\n\r\n    public setMenu(option: number): void {\r\n        if (this.lang === 'es') option = option === 1 ? 3 : (option === 2 ? 4 : 0);\r\n        this.setCtx('idMenuOption', option);\r\n    }\r\n\r\n    public postCmd(cmd: string, data: any = {}): void {\r\n        this.view?.webview.postMessage({ cmd: cmd, dat: data });\r\n    };\r\n\r\n    public setRequest(req: Request) {\r\n        this.req = req;\r\n    };\r\n\r\n    public setView(view: WebviewView) {\r\n        this.view = view;\r\n    };\r\n\r\n    public request(): Request | undefined {\r\n        return this.req;\r\n    };\r\n\r\n    public winMsgInfo(message: string | undefined) {\r\n        if (message) window.showInformationMessage(message);\r\n    }\r\n    public winMsgError(message: string | undefined) {\r\n        if (message) window.showErrorMessage(message);\r\n    }\r\n\r\n    public async winOpenImage() {\r\n        return await window.showOpenDialog({\r\n            title: this.lang === 'es' ? 'Selecciona una imagen' : 'Select an image',\r\n            canSelectFiles: true,\r\n            canSelectFolders: false,\r\n            canSelectMany: false,\r\n            filters: { 'Images': ['png', 'jpg'] }\r\n        });\r\n    }\r\n}","/* eslint-disable curly */\r\nimport Core from './Core';\r\n\r\nexport default class Pages {\r\n\r\n    public static me?: Pages;\r\n\r\n    constructor(private core: Core) { }\r\n\r\n    public static self(core?: Core, cmd?: [string], req?: any) {\r\n        if (!Pages.me) Pages.me = core ? new Pages(core) : undefined;\r\n        if (Pages.me && cmd) Pages.me.router(cmd, req);\r\n        return Pages.me;\r\n    }\r\n\r\n    public async router(cmd: [string], req?: any) {\r\n        switch (cmd.shift()) {\r\n            case 'logout': return this.core.postCmd('page/logout');\r\n            case 'login': return this.core.postCmd('page/login');\r\n            case 'profile': return this.core.postCmd('page/profile');\r\n            case 'dash': return this.core.postCmd('page/dash');\r\n            case 'tasks': return this.core.postCmd('page/tasks');\r\n            case 'users': return this.core.postCmd('page/users');\r\n            case 'projects': return this.core.postCmd('page/projects');\r\n            case 'langEs': return this.changeLanguage('es');\r\n            case 'langEn': return this.changeLanguage('en');\r\n\r\n        }\r\n\r\n    }\r\n\r\n    public async changeLanguage(lang: string) {\r\n        this.core.setLang(lang);\r\n        if (this.core.user && this.core.user.id) this.core.setMenu(2);\r\n        else this.core.setMenu(1);\r\n        await this.core.cmdExe(this.core.name + '.refresh-en');\r\n    }\r\n\r\n}","/* eslint-disable curly */\r\nimport Core from './Core';\r\nimport { getList } from './Util/Index';\r\n\r\nexport default class Projects {\r\n\r\n    public static me?: Projects;\r\n\r\n    constructor(private core: Core) { }\r\n\r\n    public static self(core?: Core, cmd?: [string], req?: any) {\r\n        if (!Projects.me) Projects.me = core ? new Projects(core) : undefined;\r\n        if (Projects.me && cmd) Projects.me.router(cmd, req);\r\n        return Projects.me;\r\n    }\r\n\r\n    public async router(cmd: [string], req?: any) {\r\n        switch (cmd.shift()) {\r\n            case 'search': return this.search(req);\r\n            //case 'add':  return this.add(req);\r\n        }\r\n\r\n    } \r\n           \r\n    public async search(req: any) {\r\n        const rd = req.content;\r\n        console.log('search: ', rd.key);\r\n        let data = await this.core.req?.getJson('/api/v4/projects?membership=true&search=' + rd.key);\r\n        data = getList(data, req.format);\r\n        console.log('projects data: ', data);\r\n        this.core.postCmd(req.command, data);\r\n    }\r\n\r\n}","/* eslint-disable curly */\r\n/* eslint-disable @typescript-eslint/naming-convention */\r\nimport { stringify as queryStringify } from \"querystring\";\r\nimport { request as httpRequest, get as getHttp } from \"http\";\r\nimport { request as httpsRequest, get as getHttps } from \"https\";\r\nimport { URL } from \"url\";\r\nimport { readFileSync } from 'fs';\r\nimport { extname, basename, parse } from \"path\";\r\nimport { mimeType } from \"./Util/Mime\";\r\n\r\n\r\nexport default class Request {\r\n\r\n    private protocol: string;\r\n    private host: string;\r\n    private port: string;\r\n    private path: string;\r\n    private httpRequest;\r\n    private httpRequestService;\r\n    private getHttp;\r\n    private allow: any;\r\n\r\n    public lastError: string = '';\r\n\r\n    constructor(private readonly api: string, private readonly token: string,\r\n        private apiService: string) {\r\n        const url = new URL(this.api);\r\n        this.host = url.hostname;\r\n        this.protocol = url.protocol;\r\n        this.port = this.protocol.indexOf('https') > -1 ? '443' : (url.port ? url.port : '80');\r\n        this.path = url.pathname;\r\n        this.allow = null;\r\n        this.httpRequest = this.protocol.indexOf('https') > -1 ? httpsRequest : httpRequest;\r\n        this.httpRequestService = this.protocol.indexOf('https') > -1 ? httpsRequest : httpRequest;\r\n        this.getHttp = this.protocol.indexOf('https') > -1 ? getHttps : getHttp;\r\n        console.log('protocol: ', this.protocol);\r\n        console.log('port:', this.port);\r\n    }\r\n\r\n    public getTypeContent(type: string) {\r\n        switch (type) {\r\n            case 'json': return 'application/json; charset=UTF-8';\r\n            case 'x-form': return 'application/x-www-form-urlencoded; charset=UTF-8';\r\n            case 'form': return 'application/form-data; charset=UTF-8';\r\n        }\r\n        return type;\r\n    }\r\n\r\n    public setAllow(data: any = null) {\r\n        this.allow = data;\r\n    }\r\n\r\n    public getHeaders(ty: string = 'json', data?: any): any {\r\n        const header: any = {\r\n            'PRIVATE-TOKEN': this.allow ? this.allow : this.token,\r\n            'Content-Type': this.getTypeContent(ty)\r\n        };\r\n        if (data) header['Content-Length'] = Buffer.byteLength(data);\r\n        return header;\r\n    }\r\n\r\n    public getOptions(url: string, method: string, ty: string = 'json'): any {\r\n        console.log('URL:::: ', this.path.substring(1) + url);\r\n        url = this.path.substring(1) + url;\r\n        return {\r\n            host: this.host,\r\n            port: this.port,\r\n            path: url,\r\n            method: method,\r\n            headers: this.getHeaders(ty, 0)\r\n        };\r\n    }\r\n\r\n    public getOptionsService(url: string, method: string, ty: string = 'json') {\r\n        const uri = new URL(this.apiService);\r\n        this.httpRequestService = uri.protocol.indexOf('https') > -1 ? httpsRequest : httpRequest;\r\n        const port = uri.protocol.indexOf('https') > -1 ? '443' : (uri.port ? uri.port : '80');\r\n        return {\r\n            host: uri.hostname,\r\n            port: port,\r\n            path: uri.pathname + url,\r\n            method: method,\r\n            headers: this.getHeaders(ty, 0)\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Servicio que conecta con gitlab de forma directa usuario interno\r\n     * @param url \r\n     * @param params \r\n     * @param method \r\n     * @returns \r\n     */\r\n    private send(url: string, params?: any, method: string = 'GET'): Promise<any> {\r\n        return new Promise<any>((resolve, reject) => {\r\n            let options = this.getOptions(url, method);\r\n            let data: string = '';\r\n            console.log('header options: ', options);\r\n            if (params) {\r\n                data = queryStringify(params);\r\n                options.method = method === 'GET' ? 'POST' : method;\r\n                options.headers = this.getHeaders('x-form', data);\r\n            }\r\n            let req = this.httpRequest(options, (res: any) => {\r\n                res.setEncoding('utf8');\r\n                if (res.statusCode >= 200 && res.statusCode <= 299) {\r\n                    let content: string = '';\r\n                    res.on('data', (dd: string) => {\r\n                        content += dd;\r\n                    });\r\n                    res.on('end', () => {\r\n                        resolve(content);\r\n                    });\r\n                } else {\r\n                    this.lastError = 'Can\\'t find the api: ' + this.api;\r\n                    reject('err:' + res.statusCode);\r\n                }\r\n            });\r\n            req.on('error', (err: any) => {\r\n                this.lastError = 'Can\\'t connect to api host:' + this.api;\r\n                reject(err);\r\n            });\r\n            data && req.write(data);\r\n            req.end();\r\n        });\r\n    }\r\n\r\n    /**\r\n     * servicio para realizar tareas de administrador \r\n     * @param url \r\n     * @param data \r\n     * @param files \r\n     * @returns \r\n     */\r\n    async service(url: string, data: any, files?: any, method: string = 'POST', ty: boolean = false): Promise<any> {\r\n        return new Promise<any>((resolve, reject) => {\r\n            const bou = 'zE9Ecx45f41KqWGUxz4b';\r\n            let cc: any = [];\r\n            if (data) for (const key in data) {\r\n                cc.push(this.addBoundary(bou, 'D', key, data[key]));\r\n            }\r\n            if (files) for (const key in files) {\r\n                cc.push(this.addBoundary(bou, 'F', key, files[key]));\r\n                cc.push(this.addBoundaryBinary(files[key]));\r\n                cc.push(Buffer.from(\"\\r\\n\", \"utf8\"));\r\n            }\r\n            cc.push(this.endBoundary(bou));\r\n            const content = Buffer.concat(cc);\r\n            const contentType = \"multipart/form-data; boundary=\" + bou;\r\n            const options = ty\r\n                ? this.getOptions(url, method, contentType)\r\n                : this.getOptionsService(url, method, contentType);\r\n            let dd = '';\r\n            const req = this.httpRequestService(options, response => {\r\n                response.on('data', (chunk: any) => dd += chunk);\r\n                response.on('end', () => {\r\n                    try {\r\n                        resolve(dd ? JSON.parse(dd):dd);\r\n                    } catch (err: any) {\r\n                        console.log('[(' + dd + ')]', err);\r\n                        reject(err.message);\r\n                    }\r\n                });\r\n            });\r\n            req.on('error', (err) => {\r\n                reject(err.message);\r\n                console.error(`problem with request: ${err.message}`);\r\n            });\r\n            req.write(content);\r\n            req.end();\r\n        });\r\n    }\r\n\r\n\r\n    public async sendAllow(url: string, data: any, files?: any, method: string = 'POST', isAdmin:boolean=false): Promise<any> {\r\n        if (this.apiService) {\r\n            let dd: any = {};\r\n            let rs: any = {};\r\n            try {\r\n                rs = await this.service('/allow', { id: 0 });\r\n            } catch (err) {\r\n                dd.success = false;\r\n                dd.message = err;\r\n            }\r\n            if (rs && rs.success && rs.data) {\r\n                this.setAllow(rs.data);\r\n                try {\r\n                    dd = await this.service(url, data, files, method, true);\r\n                } catch (err) {\r\n                    dd.success = false;\r\n                    dd.message = err;\r\n                }\r\n                this.setAllow(null);\r\n            }\r\n            return dd;\r\n        } else { //Privilegios de administrador\r\n            const _api = this.apiService + '';\r\n            this.apiService = this.api + '';\r\n            let dd: any = {};\r\n            try {\r\n                dd = await this.service(url, data, files, method, true);\r\n            } catch (err) {\r\n                dd.success = false;\r\n                dd.message = err;\r\n            }\r\n            this.apiService = _api + '';\r\n            return dd;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Agregar un elemento del formulario\r\n     * @param boundary \r\n     * @param type \r\n     * @param name \r\n     * @param value \r\n     * @returns \r\n     */\r\n    public addBoundary(boundary: string, type: string, name: string, value: string) {\r\n        if (type === 'D') {\r\n            return Buffer.from(\"--\" + boundary + \"\\r\\n\" +\r\n                \"Content-Disposition: form-data; name=\\\"\" + name + \"\\\";\\r\\n\\r\\n\" +\r\n                value + \"\\r\\n\", 'utf8');\r\n        }\r\n        else if (type === 'F') {\r\n            const mime = mimeType(extname(value));\r\n            return Buffer.from(\"--\" + boundary + \"\\r\\n\" +\r\n                \"Content-Disposition: form-data; name=\\\"\" + name + \"\\\"; \" +\r\n                \"filename=\\\"\" + basename(value) + \"\\\"\\r\\n\" +\r\n                \"Content-Type: \" + mime + \"\\r\\n\" +\r\n                \"Content-Type: application/octet-stream\\r\\n\\r\\n\", 'utf8');\r\n        }\r\n    }\r\n\r\n    public addBoundaryBinary($file: string) {\r\n        const content: any = readFileSync($file);\r\n        return Buffer.from(content, 'binary');\r\n    }\r\n\r\n    public endBoundary(boundary: string): any {\r\n        return Buffer.from(\"--\" + boundary + \"--\\r\\n\", 'utf8');\r\n    }\r\n\r\n\r\n    async getJson(action: string, params: any = null, method: string = 'GET'): Promise<any> {\r\n        let data = '';\r\n        try {\r\n            data = await this.send(action, params, method);\r\n            return JSON.parse(data);\r\n        } catch (err: any) {\r\n            console.warn(err, ':::', data);\r\n            return { message: err + ', ' + this.lastError };\r\n            //return err;\r\n        }\r\n    }\r\n\r\n    getB64(url: string): Promise<any> {\r\n        return new Promise<any>((resolve, reject) => {\r\n            this.getHttp(url, (resp) => {\r\n                resp.setEncoding('base64');\r\n                let body = \"\";\r\n                resp.on('data', (data) => { body += data });\r\n                resp.on('end', () => {\r\n                    resolve({ data: body, contentType: resp.headers[\"content-type\"] });\r\n                });\r\n            }).on('error', (e) => {\r\n                reject(`error: ${e.message}`);\r\n            });\r\n        });\r\n    }\r\n\r\n    async getImgB64(url: string): Promise<any> {\r\n        const rd = await this.getB64(url);\r\n        return \"data:\" + rd.contentType + \";base64,\" + rd.data;\r\n    }\r\n\r\n}","/* eslint-disable curly */\r\nimport Core from './Core';\r\nimport { getList } from './Util/Index';\r\n\r\nexport default class Tasks {\r\n\r\n    public static me?: Tasks;\r\n\r\n    constructor(private core: Core) { }\r\n\r\n    public static self(core?: Core, cmd?: [string], req?: any) {\r\n        if (!Tasks.me) Tasks.me = core ? new Tasks(core) : undefined;\r\n        if (Tasks.me && cmd) Tasks.me.router(cmd, req);\r\n        return Tasks.me;\r\n    }\r\n\r\n    public async router(cmd: [string], req?: any) {\r\n        switch (cmd.shift()) {\r\n            //case 'page': return this.core.postCmd('page/tasks');;\r\n            case 'get-statistics': return this.getStatistics(req);\r\n            case 'list': return await this.list(req, 0);\r\n            case 'list-data-0': return await this.list(req, 0);\r\n            case 'list-data-1': return await this.list(req, 1);\r\n            case 'add': return this.add(req);\r\n            case 'del': return this.del(req);\r\n            case 'upd': return this.edit('upd', req);\r\n            case 'state': return this.edit('state', req);\r\n            case 'labels': return this.edit('labels', req);\r\n\r\n        }\r\n    }\r\n\r\n    // public async page(req?: any) {\r\n    //   //  this.core?.postCmd('page/tasks');\r\n    //   //  this.core.postCmd('page/tasks');\r\n    // }\r\n\r\n    //public\r\n\r\n    public regData(rd: any) {\r\n        return {\r\n            id: rd.iid,\r\n            idProject: rd.project_id,\r\n            title: rd.title,\r\n            description: rd.description,\r\n            state: rd.state,\r\n            createdAt: rd.created_at,\r\n            updatedAt: rd.updated_at,\r\n            closedAt: rd.closed_at,\r\n            closedBy: rd.closed_by,\r\n            labels: rd.labels,\r\n            assignee: rd.assignee,\r\n            idUser: rd.assignee ? rd.assignee.id : 0,\r\n            author: rd.author,\r\n            dueDate: rd.due_date\r\n        };\r\n    }\r\n\r\n    public async list(req: any, ty: number = 0, filter?: string) {\r\n        console.log('filter defined :: ', filter, req);\r\n        let project = { id: 0, name: '' };\r\n        let op = '';\r\n        if (req && req.content && req.content.id) {\r\n            project = { id: req.content.id, name: req.content.name };\r\n            this.core.set('project', project);\r\n        }\r\n        else project = this.core.get('project');\r\n        if (project.id) op = 'projects/' + project.id + '/';\r\n        if (ty === 1) filter = '?author_id=' + this.core.user.id;\r\n        else filter = '?assignee_id=' + this.core.user.id;\r\n        //if (ty === 1) filter = '?author_id=' + this.core.user.id;\r\n        //else filter = '?assignee_id=' + this.core.user.id;\r\n\r\n        filter = filter + '&per_page=100';\r\n        console.log('list task - req: ', req);\r\n        const data = await this.core.req?.getJson('/api/v4/' + op + 'issues' + filter);\r\n        console.log('list tasks data: ', data);\r\n        let res = [];\r\n        if (data) {\r\n            for (const x in data) {\r\n                if (ty === 1 && data[x].assignee.id === this.core.user.id) continue;\r\n                res.push(this.regData(data[x]));\r\n            }\r\n        }\r\n        console.log('list task array:::', res);\r\n        return this.core.postCmd(req.command, res);\r\n    }\r\n\r\n    public async add(req: any) {\r\n        const rd = req.content;\r\n        const reg = {\r\n            id: rd.idProject,\r\n            assignee_id: rd.idUser,\r\n            title: rd.title,\r\n            description: rd.description,\r\n            due_date: rd.date,\r\n            labels: rd.priority\r\n        };\r\n        console.log('add task: ', reg);\r\n        let data = await this.core.req?.getJson('/api/v4/projects/' + rd.idProject + '/issues', reg);\r\n        if (data) {\r\n            data = this.regData(data);\r\n        }\r\n        console.log('task result data: ', data);\r\n        this.core.postCmd(req.command, data);\r\n    }\r\n\r\n\r\n    public async edit(ty: string, req: any) {\r\n        const rd = req.content;\r\n        let reg: any = {};\r\n        if (rd.id) reg.issue_iid = rd.id;\r\n        if (rd.idProject) reg.id = rd.idProject;\r\n        if (ty === 'state' || ty === 'upd') {\r\n            if (rd.state) reg.state_event = rd.state === 'closed' ? 'close' : 'reopen';\r\n        }\r\n        if (ty === 'labels' || ty === 'upd') {\r\n            if (rd.labels) reg.labels = rd.labels.join(',');\r\n        }\r\n        if (ty === 'upd') {\r\n            if (rd.idUser) reg.assignee_id = rd.idUser;\r\n            if (rd.title) reg.title = rd.title;\r\n            if (rd.description) reg.description = rd.description;\r\n            if (rd.date) reg.due_date = rd.date;\r\n        }\r\n\r\n        console.log('edit task: ', reg);\r\n        let data = await this.core.req?.getJson('/api/v4/projects/' + rd.idProject + '/issues/' + rd.id, reg, 'PUT');\r\n        if (data) {\r\n            data = this.regData(data);\r\n        }\r\n        console.log('task result data: ', data);\r\n        this.core.postCmd(req.command, data);\r\n    }\r\n\r\n    public async del(req: any) {\r\n        const rd = req.content;\r\n        console.log('tasl delete:: ',rd);\r\n        const dd = await this.core.req?.sendAllow('/api/v4/projects/' + rd.idProject + '/issues/' + rd.id, {}, {}, 'DELETE');\r\n        const data =  dd && dd.message ? dd: rd;\r\n        console.log('data delete task result: ', dd);\r\n        this.core.postCmd(req.command, data);\r\n    }\r\n\r\n\r\n    public async getStatistics(req: any, filter?: string) {\r\n        const rd = req.content;\r\n        let sel = { id: 0, name: '' };\r\n        let op = '';\r\n        console.log('::::::', rd);\r\n        if (rd.id) {\r\n            sel = { id: rd.id, name: rd.name };\r\n            op = 'projects/' + rd.id + '/';\r\n        }\r\n        this.core.set('project', sel);\r\n        if (!filter) filter = '?assignee_id=' + this.core.user.id;\r\n        const url = '/api/v4/' + op + 'issues_statistics' + filter + '&labels=';\r\n        console.log(url);\r\n        const baja = await this.core.req?.getJson(url + 'baja');\r\n        const media = await this.core.req?.getJson(url + 'media');\r\n        const alta = await this.core.req?.getJson(url + 'alta');\r\n        const data = {\r\n            baja: this.dataStatistics(baja),\r\n            media: this.dataStatistics(media),\r\n            alta: this.dataStatistics(alta),\r\n        };\r\n        this.core.postCmd(req.command, data);\r\n    }\r\n\r\n\r\n    public dataStatistics(dd: any) {\r\n        let rs = { opened: 0, closed: 0 };\r\n        if (dd && dd.statistics) rs = {\r\n            opened: dd.statistics.counts.opened,\r\n            closed: dd.statistics.counts.closed\r\n        };\r\n        return rs;\r\n    }\r\n\r\n\r\n    public setState(req: any) {\r\n        console.log('task:;;;MNM', req);\r\n\r\n        // let data = await this.core.req?.getJson('/api/v4/projects/' + rd.idProject + '/issues/' + rd.iid, reg, 'PUT');\r\n        // console.log('task result data: ', data);\r\n        //this.core.postCmd(req.command, data);\r\n\r\n        this.core.postCmd(req.command, { id: 1001 });\r\n    }\r\n}","/* eslint-disable curly */\r\nimport Core from './Core';\r\nimport { getList } from './Util/Index';\r\n\r\nexport default class Users {\r\n\r\n    public static me?: Users;\r\n\r\n    constructor(private core: Core) { }\r\n\r\n    public static self(core?: Core, cmd?: [string], req?: any) {\r\n        if (!Users.me) Users.me = core ? new Users(core) : undefined;\r\n        if (Users.me && cmd) Users.me.router(cmd, req);\r\n        return Users.me;\r\n    }\r\n\r\n    public async router(cmd: [string], req?: any) {\r\n        console.log('user::', cmd, req);\r\n        switch (cmd.shift()) {\r\n            case 'avatar': return this.avatar(req);\r\n            case 'edit': return this.edit(req);\r\n            case 'list-by-project': return this.listByProject(req);\r\n            case 'get-data': return this.getData(req);\r\n            //case 'add':  return this.add(req);\r\n        }\r\n    }\r\n\r\n    public getData(req: any) {\r\n        this.core.loadData((user) => {\r\n            this.core.postCmd(req.command, user);\r\n        });\r\n    }\r\n\r\n    public async edit(req: any) {\r\n        const rd = req.content;\r\n        let dd: any;\r\n        if (rd.user) {\r\n            rd.user.id = this.core.user.id;\r\n            //dd = await this.core.req?.getJson('/api/v4/users/' + this.core.user.id, rd.user, 'PUT');\r\n            dd = await this.core.req?.sendAllow('/api/v4/users/' + this.core.user.id, rd.user, undefined, 'PUT');\r\n            console.log('user edit results::', dd);\r\n            if (dd && dd.message) {\r\n                const message = dd.message ? dd.message : 'No se puedo actualizar el avatar...';\r\n                this.core.winMsgError('Edit: ' + message);\r\n            } else if (dd && dd.id) {\r\n                this.core.updData(dd);\r\n                return this.core.postCmd(req.command, this.core.user);\r\n            } else this.core.winMsgError('Edit: Ocurrió un error, intenta mas tarde...');\r\n        }\r\n        this.core.postCmd(req.command);\r\n    }\r\n\r\n    public async avatar(req: any) {\r\n        const rd = req.content;\r\n        const res = await this.core.winOpenImage();\r\n        if (res && res.length) {\r\n\r\n            const dd = await this.core.req?.sendAllow('/api/v4/users/' + this.core.user.id,\r\n                { id: this.core.user.id }, { avatar: res[0].fsPath }, 'PUT',  this.core.user.isAdmin);\r\n            if (dd && dd.message) {\r\n                const message = dd.message.avatar\r\n                    ? dd.message.avatar.toString()\r\n                    : (dd.message ? dd.message : 'No se puedo actualizar el avatar...');\r\n                this.core.winMsgError('Avatar: ' + message);\r\n            } else if (dd && dd.id) {\r\n                this.core.updData(dd);\r\n                return this.core.postCmd(req.command, this.core.user);\r\n            } else this.core.winMsgError('Avatar: Ocurrió un error, intenta mas tarde...');\r\n        }\r\n        this.core.postCmd(req.command);\r\n    }\r\n\r\n    public async listByProject(req: any) {\r\n        const rd = req.content;\r\n        console.log('listByProject: ', rd.id);\r\n        let data = await this.core.req?.getJson('/api/v4/projects/' + rd.id + '/users');\r\n        data = getList(data, req.format);\r\n        console.log('users data: ', data);\r\n        this.core.postCmd(req.command, data);\r\n    }\r\n\r\n}","/* eslint-disable curly */\r\n\r\n export function getListOptions(data: any): any {\r\n    let res = [];\r\n    if (data) {\r\n        for (const x in data) {\r\n            if (data[x].state === undefined || data[x].state === \"active\") res.push({\r\n                id: data[x].id,\r\n                value: data[x].name || data[x].title\r\n            });\r\n        }\r\n    }\r\n    return res;\r\n}\r\n\r\nexport function getList(data: any, format: string = 'options') {\r\n    return getListOptions(data);\r\n}","/* eslint-disable curly */\r\n\r\nconst mimes: any = {\r\n    \"application/geo+json\": [\"geojson\"],\r\n    \"application/json\": [\"json\", \"map\"],\r\n    \"application/msword\": [\"doc\", \"dot\"],\r\n    \"application/octet-stream\": [\"bin\", \"dms\", \"lrf\", \"mar\", \"so\", \"dist\", \"distz\", \"pkg\", \"bpk\", \"dump\", \"elc\", \"deploy\", \"exe\", \"dll\", \"deb\", \"dmg\", \"iso\", \"img\", \"msi\", \"msp\", \"msm\", \"buffer\"],\r\n    \"application/pdf\": [\"pdf\"],\r\n    \"application/zip\": [\"zip\"],\r\n    \"audio/mpeg\": [\"mpga\", \"mp2\", \"mp2a\", \"mp3\", \"m2a\", \"m3a\"],\r\n    \"audio/ogg\": [\"oga\", \"ogg\", \"spx\", \"opus\"],\r\n    \"audio/wav\": [\"wav\"],\r\n    \"image/bmp\": [\"bmp\"],\r\n    \"image/gif\": [\"gif\"],\r\n    \"image/jpeg\": [\"jpeg\", \"jpg\", \"jpe\"],\r\n    \"image/png\": [\"png\"],\r\n    \"image/svg+xml\": [\"svg\", \"svgz\"],\r\n    \"image/webp\": [\"webp\"],\r\n    \"text/css\": [\"css\"],\r\n    \"text/csv\": [\"csv\"],\r\n    \"text/html\": [\"html\", \"htm\", \"shtml\"],\r\n    \"text/plain\": [\"txt\", \"text\", \"conf\", \"def\", \"list\", \"log\", \"in\", \"ini\"],\r\n    \"video/mp4\": [\"mp4\", \"mp4v\", \"mpg4\"],\r\n    \"video/mpeg\": [\"mpeg\", \"mpg\", \"mpe\", \"m1v\", \"m2v\"],\r\n    \"video/ogg\": [\"ogv\"],\r\n    \"video/quicktime\": [\"qt\", \"mov\"],\r\n    \"video/webm\": [\"webm\"]\r\n};\r\n\r\nexport function mimeType(ext: string): any {\r\n    ext = ext.replace('.', '');\r\n    for (const mime in mimes) {\r\n        if (mimes[mime].indexOf(ext) !== -1) return mime;\r\n    }\r\n    return null;\r\n}","export function getNonce() {\r\n\tlet text = '';\r\n\tconst possible = 'ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789';\r\n\tfor (let i = 0; i < 32; i++) {\r\n\t\ttext += possible.charAt(Math.floor(Math.random() * possible.length));\r\n\t}\r\n\treturn text;\r\n}","/* eslint-disable curly */\r\nimport { ExtensionContext, Webview, WebviewViewProvider, WebviewView, TextDocument, Uri, window, commands } from \"vscode\";\r\nimport { getNonce } from \"../services/nonce\";\r\nimport Core from \"../services/Core\";\r\nimport Projects from \"../services/Projects\";\r\nimport Users from \"../services/Users\";\r\nimport Tasks from \"../services/Tasks\";\r\nimport Pages from \"../services/Pages\";\r\n\r\nexport class SidebarProvider implements WebviewViewProvider {\r\n\r\n  private readonly _extensionUri: Uri;\r\n  public _view?: WebviewView;\r\n  public _doc?: TextDocument;\r\n\r\n  constructor(private readonly _context: ExtensionContext, public core: Core) {\r\n    this.core = core;\r\n    this._extensionUri = this._context.extensionUri;\r\n  }\r\n\r\n  public page(name: string) {\r\n    this.command({ command: name, data: {} });\r\n  }\r\n\r\n  public async command(req: any) {\r\n    req = req ? req : {};\r\n    const cmd = req.command.split('/');\r\n    console.log('vsc recibe: ', req);\r\n    this.core.initLang();\r\n    switch (cmd.shift()) {\r\n      //case 'lang': return this.core.loadLang(cmd, req);\r\n      case 'session': return this.core.session(cmd, req);\r\n      case 'project': return Projects.self(this.core, cmd, req);\r\n      case 'user': return Users.self(this.core, cmd, req);\r\n      case 'task': return Tasks.self(this.core, cmd, req);\r\n      case 'page':  return Pages.self(this.core, cmd, req);\r\n    }\r\n    switch (req.command) {\r\n      case \"reload\": return await this.core.cmdExe(this.core.name + '.refresh-en');\r\n      case \"onInfo\": return this.core.winMsgInfo(req.content);\r\n      case \"onError\": return this.core.winMsgError(req.content);\r\n    }\r\n  }\r\n  /**\r\n   * \r\n   * @param webviewView \r\n   */\r\n  public resolveWebviewView(webviewView: WebviewView) {\r\n    this._view = webviewView;\r\n    this.core?.setView(webviewView);\r\n    webviewView.webview.options = {\r\n      enableScripts: true,\r\n      localResourceRoots: [this._extensionUri],\r\n    };\r\n    webviewView.webview.html = this._getHtmlForWebview(webviewView.webview);\r\n    webviewView.webview.onDidReceiveMessage(async (req) => await this.command(req));\r\n  }\r\n  /**\r\n   * \r\n   * @param panel \r\n   */\r\n  public revive(panel: WebviewView) {\r\n    this._view = panel;\r\n  }\r\n  /**\r\n   * \r\n   * @param webview \r\n   * @returns \r\n   */\r\n  private _getHtmlForWebview(webview: Webview) {\r\n\r\n    this.core.path = '' + webview.asWebviewUri(Uri.joinPath(this._extensionUri));\r\n\r\n    const styleResetUri = webview.asWebviewUri(\r\n      Uri.joinPath(this._extensionUri, \"assets\", \"css/reset.css\")\r\n    );\r\n    const styleMainUri = webview.asWebviewUri(\r\n      Uri.joinPath(this._extensionUri, \"dist\", \"App.css\")\r\n    );\r\n    const styleVSCodeUri = webview.asWebviewUri(\r\n      Uri.joinPath(this._extensionUri, \"assets\", \"css/vscode.css\")\r\n    );\r\n    const styleBassCssUri = webview.asWebviewUri(\r\n      Uri.joinPath(this._extensionUri, \"assets\", \"plugins/basscss/basscss.min.css\")\r\n    );\r\n    const fontawesomeV6CssUri = webview.asWebviewUri(\r\n      Uri.joinPath(this._extensionUri, \"assets\", \"plugins/fontawesome-6/css/all.min.css\")\r\n    );\r\n    //Javascript\r\n    const scriptUri = webview.asWebviewUri(\r\n      Uri.joinPath(this._extensionUri, \"dist\", \"App.js\")\r\n    );\r\n\r\n    // Use a nonce to only allow a specific script to be run.\r\n    const nonce = getNonce();\r\n    /* Politicas que se puede aplicar a la pagina \r\n              <meta http-equiv=\"Content-Security-Policy\" \r\n                content=\"default-src *;\r\n                img-src * 'self' data: https:; \r\n                script-src 'self' 'unsafe-inline' 'unsafe-eval' *;\r\n                style-src  'self' 'unsafe-inline' *; \r\n              \">\r\n              <meta http-equiv=\"Content-Security-Policy\" \r\n                    content=\"default-src *; \r\n                    font-src ${webview.cspSource}; \r\n                    style-src ${webview.cspSource}; \r\n                    img-src ${webview.cspSource} https:; \r\n                    script-src 'nonce-${nonce}';\r\n              \">\r\n    */\r\n    return `<!DOCTYPE html>\r\n\t  <html lang=\"en\">\r\n\t  \t<head>\r\n\t  \t    <meta charset=\"UTF-8\">\r\n          <meta http-equiv=\"Content-Security-Policy\" content=\" font-src ${webview.cspSource}; style-src ${webview.cspSource}; script-src 'nonce-${nonce}';\">\r\n\t  \t    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\r\n\t  \t    <link href=\"${styleResetUri}\" rel=\"stylesheet\">\r\n\t  \t    <link href=\"${styleVSCodeUri}\" rel=\"stylesheet\">\r\n          <link href=\"${styleMainUri}\" rel=\"stylesheet\">\r\n          <link href=\"${styleBassCssUri}\" rel=\"stylesheet\">\r\n          <link href=\"${fontawesomeV6CssUri}\" rel=\"stylesheet\">\r\n\t  \t</head>\r\n        <body>\r\n           <script nonce=\"${nonce}\" src=\"${scriptUri}\"></script>\r\n\t  \t</body>\r\n\t  </html>`;\r\n  }\r\n}","module.exports = require(\"vscode\");","module.exports = require(\"fs\");","module.exports = require(\"http\");","module.exports = require(\"https\");","module.exports = require(\"path\");","module.exports = require(\"querystring\");","module.exports = require(\"url\");","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// startup\n// Load entry module and return exports\n// This entry module is referenced by other modules so it can't be inlined\nvar __webpack_exports__ = __webpack_require__(112);\n"],"names":["context","core","ext","name","sidebarProvider","SidebarProvider","subscriptions","push","window","registerWebviewViewProvider","cmdReg","cmdExe","page","setMenu","constructor","view","req","lang","commands","executeCommand","registerCommand","this","sess","id","token","host","service","path","user","isAuth","loadData","callback","data","getData","getStsGlobal","setData","allow","is_admin","email","isAdmin","username","lastActivity","last_activity_on","webUrl","web_url","avatarUrl","avatar_url","setStsGlobal","get","set","updData","login","console","log","getJson","message","winMsgError","loginSession","dropSession","delStsGlobal","validSession","auth","success","routeSession","cmd","shift","session","_cmd","join","postCmd","content","opc","initLang","loadLang","command","setLang","key","globalState","update","undefined","setCtx","value","option","webview","postMessage","dat","setRequest","setView","request","winMsgInfo","showInformationMessage","showErrorMessage","winOpenImage","showOpenDialog","title","canSelectFiles","canSelectFolders","canSelectMany","filters","Pages","static","me","router","changeLanguage","Projects","search","rd","getList","format","api","apiService","lastError","url","URL","hostname","protocol","port","indexOf","pathname","httpRequest","httpRequestService","getHttp","getTypeContent","type","setAllow","getHeaders","ty","header","Buffer","byteLength","getOptions","method","substring","headers","getOptionsService","uri","send","params","Promise","resolve","reject","options","res","setEncoding","statusCode","on","dd","err","write","end","files","bou","cc","addBoundary","addBoundaryBinary","from","endBoundary","concat","contentType","response","chunk","JSON","parse","error","sendAllow","rs","_api","boundary","mime","mimeType","extname","basename","$file","readFileSync","action","warn","getB64","resp","body","e","getImgB64","Tasks","getStatistics","list","add","del","edit","regData","iid","idProject","project_id","description","state","createdAt","created_at","updatedAt","updated_at","closedAt","closed_at","closedBy","closed_by","labels","assignee","idUser","author","dueDate","due_date","filter","project","op","x","reg","assignee_id","date","priority","issue_iid","state_event","sel","baja","media","alta","dataStatistics","opened","closed","statistics","counts","setState","Users","avatar","listByProject","length","fsPath","toString","getListOptions","mimes","replace","text","possible","i","charAt","Math","floor","random","_context","_extensionUri","extensionUri","split","self","resolveWebviewView","webviewView","_view","enableScripts","localResourceRoots","html","_getHtmlForWebview","onDidReceiveMessage","revive","panel","asWebviewUri","Uri","joinPath","styleResetUri","styleMainUri","styleVSCodeUri","styleBassCssUri","fontawesomeV6CssUri","scriptUri","nonce","getNonce","cspSource","module","exports","require","__webpack_module_cache__","__webpack_exports__","__webpack_require__","moduleId","cachedModule","__webpack_modules__","call"],"sourceRoot":""}