var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function s(e){e.forEach(t)}function l(e){return"function"==typeof e}function a(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let o,r;function c(e,t){return o||(o=document.createElement("a")),o.href=t,e===o.href}function i(e,t,n,s){return e[1]&&s?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](s(t))):n.ctx}function u(e){return null==e?"":e}function d(e,t){e.appendChild(t)}function p(e,t,n){e.insertBefore(t,n||null)}function f(e){e.parentNode.removeChild(e)}function m(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function g(e){return document.createElement(e)}function v(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function h(e){return document.createTextNode(e)}function $(){return h(" ")}function b(){return h("")}function k(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function y(e){return function(t){return t.preventDefault(),e.call(this,t)}}function x(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function w(e,t,n){t in e?e[t]="boolean"==typeof e[t]&&""===n||n:x(e,t,n)}function _(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function j(e,t){e.value=null==t?"":t}function C(e,t,n,s){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,s?"important":"")}function A(e,t){for(let n=0;n<e.options.length;n+=1){const s=e.options[n];if(s.__value===t)return void(s.selected=!0)}e.selectedIndex=-1}function E(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function q(e,t,n){e.classList[n?"add":"remove"](t)}function z(e){r=e}function P(){if(!r)throw new Error("Function called outside component initialization");return r}function S(e){P().$$.on_mount.push(e)}function O(){const e=P();return(t,n,{cancelable:s=!1}={})=>{const l=e.$$.callbacks[t];if(l){const a=function(e,t,{bubbles:n=!1,cancelable:s=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(e,n,s,t),l}(t,n,{cancelable:s});return l.slice().forEach((t=>{t.call(e,a)})),!a.defaultPrevented}return!0}}const T=[],D=[],M=[],N=[],L=Promise.resolve();let I=!1;function B(e){M.push(e)}const F=new Set;let U=0;function H(){const e=r;do{for(;U<T.length;){const e=T[U];U++,z(e),R(e.$$)}for(z(null),T.length=0,U=0;D.length;)D.pop()();for(let e=0;e<M.length;e+=1){const t=M[e];F.has(t)||(F.add(t),t())}M.length=0}while(T.length);for(;N.length;)N.pop()();I=!1,F.clear(),z(e)}function R(e){if(null!==e.fragment){e.update(),s(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(B)}}const V=new Set;let J;function Y(){J={r:0,c:[],p:J}}function G(){J.r||s(J.c),J=J.p}function W(e,t){e&&e.i&&(V.delete(e),e.i(t))}function X(e,t,n,s){if(e&&e.o){if(V.has(e))return;V.add(e),J.c.push((()=>{V.delete(e),s&&(n&&e.d(1),s())})),e.o(t)}}const K="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function Q(e,t){e.d(1),t.delete(e.key)}function Z(e,t,n,s,l,a,o,r,c,i,u,d){let p=e.length,f=a.length,m=p;const g={};for(;m--;)g[e[m].key]=m;const v=[],h=new Map,$=new Map;for(m=f;m--;){const e=d(l,a,m),r=n(e);let c=o.get(r);c?s&&c.p(e,t):(c=i(r,e),c.c()),h.set(r,v[m]=c),r in g&&$.set(r,Math.abs(m-g[r]))}const b=new Set,k=new Set;function y(e){W(e,1),e.m(r,u),o.set(e.key,e),u=e.first,f--}for(;p&&f;){const t=v[f-1],n=e[p-1],s=t.key,l=n.key;t===n?(u=t.first,p--,f--):h.has(l)?!o.has(s)||b.has(s)?y(t):k.has(l)?p--:$.get(s)>$.get(l)?(k.add(s),y(t)):(b.add(l),p--):(c(n,o),p--)}for(;p--;){const t=e[p];h.has(t.key)||c(t,o)}for(;f;)y(v[f-1]);return v}function ee(e){e&&e.c()}function te(e,n,a,o){const{fragment:r,on_mount:c,on_destroy:i,after_update:u}=e.$$;r&&r.m(n,a),o||B((()=>{const n=c.map(t).filter(l);i?i.push(...n):s(n),e.$$.on_mount=[]})),u.forEach(B)}function ne(e,t){const n=e.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function se(e,t){-1===e.$$.dirty[0]&&(T.push(e),I||(I=!0,L.then(H)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function le(t,l,a,o,c,i,u,d=[-1]){const p=r;z(t);const m=t.$$={fragment:null,ctx:null,props:i,update:e,not_equal:c,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l.context||(p?p.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:l.target||p.$$.root};u&&u(m.root);let g=!1;if(m.ctx=a?a(t,l.props||{},((e,n,...s)=>{const l=s.length?s[0]:n;return m.ctx&&c(m.ctx[e],m.ctx[e]=l)&&(!m.skip_bound&&m.bound[e]&&m.bound[e](l),g&&se(t,e)),n})):[],m.update(),g=!0,s(m.before_update),m.fragment=!!o&&o(m.ctx),l.target){if(l.hydrate){const e=function(e){return Array.from(e.childNodes)}(l.target);m.fragment&&m.fragment.l(e),e.forEach(f)}else m.fragment&&m.fragment.c();l.intro&&W(t.$$.fragment),te(t,l.target,l.anchor,l.customElement),H()}z(p)}class ae{$destroy(){ne(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function oe(t){let n,s;return{c(){n=v("svg"),s=v("circle"),x(s,"class","path svelte-10a1n9q"),x(s,"cx","25"),x(s,"cy","25"),x(s,"r","20"),x(s,"fill","none"),x(s,"stroke-width",ce),x(n,"class","spinner svelte-10a1n9q"),x(n,"viewBox","0 0 50 50"),x(n,"width",re),x(n,"height",re),C(n,"--speed",ie+"ms")},m(e,t){p(e,n,t),d(n,s)},p:e,i:e,o:e,d(e){e&&f(n)}}}let re=50,ce=3,ie=2e3;class ue extends ae{constructor(e){super(),le(this,e,null,oe,a,{})}}const de=acquireVsCodeApi();class pe{static addEventListener(e){pe.funcEvent=e}static run(e,t){pe.funcEvent(e,t)}static drop(){pe.rd={},de.setState(pe.rd)}static get(e,t=null){return pe.rd[e]?pe.rd[e]:(pe.rd=de.getState()||{},pe.rd[e]?pe.rd[e]:null!==t?(pe.set(e,t),t):null)}static set(e,t){pe.rd[e]=t,de.setState(pe.rd)}static dispatch(e,t){if(e)return t(!0);window.setTimeout((()=>{"function"==typeof t&&t((e=>{pe.dispatch(e,t)}))}),100)}}pe.rd={},pe.funcEvent=(e,t)=>{};class fe{static call(e){return!(!e||!e.cmd||"function"!=typeof fe.db[e.cmd])&&(fe.db[e.cmd](e.dat||null),fe.db[e.cmd]=void 0,!0)}static send(e,t=null,n=null){"function"==typeof t&&(n=t,t={});const s=t||{};return"function"==typeof n&&(fe.db[e]=n),de.postMessage({command:e,content:s})}}fe.db={};var me={"personal-access-tokens":"Token de Acceso Personal","gitlab-host":"Servidor control de versiones GitLab","log-in":"Iniciar sesión","show-token":"Ver token","api-services":"Api para acciones de administrador (opcional)",connect:"Conectar","select-project":"Selecciona un proyecto",pending:"Pendientes",paused:"Pausadas",solved:"Resueltas","high-priority":"Prioridad Alta","medium-priority":"Prioridad Media","low-priority":"Prioridad Baja",loading:"Cargando","select-option":"Selecciona un opción",search:"Buscar",all:"Todas",open:"Abiertas",close:"Cerradas",assigned:"Asignadas",delegates:"Delegadas","new-task":"Agregar una nueva tarea",back:"Regresar","assign-user":"Asignar un usuario","edit-task":"Editar tarea (Incidencia)",title:"Título",description:"Descripción","select-priority":"Selecciona una opción",deadline:"Fecha de entrega",add:"Agregar",save:"Guardar","delete-task":"Eliminar tarea (incidencia)","are-you-sure-you-want-to-delete":"¿Está seguro de que desea eliminar esta tarea (incidencia)?",cancel:"Cancelar",remove:"Eliminar","are-you-sure-you-want-to-log-out":"¿Estás seguro de que quieres cerrar sesión?",disconnect:"Desconectar","403forbidden":"403 Prohibido",err:"An error occurred, please try again later","no-tasks-assigned":"No hay tareas asignadas para este proyecto","no-tasks-delegated":"No hay tareas delegadas para este proyecto","progress-percentage":"Porcentaje de avances",project:"Proyecto",logs:"Bitácora",priority:"Prioridad",author:"Author",assign:"Asignado",comments:"Comentarios","created-at":"Creado el",comment:"Comentario","new-comment":"Nuevo comentario",closed:"Cerrado",opened:"Abierto","updated-at":"Actualizado el","closed-at":"Cerrado el","unknown-problem-occurred":"Ocurrió un problema desconocido",alternatives:"Alternativas","please-refresh":"Presiona el icono de Recargar que esta en barra superior  de la extensión","close-and-open":"Cerrar y abrir la pestaña o vista","sign-out-and-sign":"Cerrar e Iniciar sesión","start-date":"Fecha de inicio","customize-start-date":"Definir la fecha de inicio","paused-tasks":"Tareas pausadas","pending-tasks":"Tareas pendientes","there-are-no-pending-activities":"No hay actividades pendientes","pause-task":"Pausar tarea","paused-task":"Tarea pausada","activate-task":"Activar tarea","show-more":"Mostrar más","show-less":"Mostrar menos","expired-delivery-date":"Fecha de entrega vencida","delivery-available-time-bar":"Barra de tiempo disponible de entrega"},ge={"personal-access-tokens":"Personal Access Tokens","gitlab-host":"GitLab version control server","log-in":"Log in","show-token":"Show Token","api-services":"API for admin actions (optional)",connect:"Connect","select-project":"Select a project",pending:"Pending tasks",paused:"Paused tasks",solved:"Solved tasks","high-priority":"High priority","medium-priority":"Medium priority","low-priority":"Low priority",loading:"Loading","select-option":"Select an option",search:"Search",all:"All",open:"Open",close:"Closed",assigned:"Assigned",delegates:"Delegates","new-task":"New task (Issue)",back:"Go back","assign-user":"Assign to user","edit-task":"Edit Task (Issue)",title:"Title",description:"Description","select-priority":"Select a priority",deadline:"Deadline",add:"Add",save:"Save","delete-task":"Delete Task (Issue)","are-you-sure-you-want-to-delete":"Are you sure you want to delete this task (issue)?",cancel:"Cancel",remove:"Remove","are-you-sure-you-want-to-log-out":"Are you sure you want to log out?",disconnect:"Disconnect","403forbidden":"403 Forbidden",err:"An error occurred, please try again later","no-tasks-assigned":"There are no assigned tasks for this project","no-tasks-delegated":"There are no delegated tasks for this project","progress-percentage":"Progress percentage",project:"Project",logs:"logs",priority:"Priority",author:"Author",assign:"Assigned",comments:"Comments","created-at":"Created at",comment:"Comment","new-comment":"New comment",closed:"closed",opened:"open","updated-at":"Updated at","closed-at":"Closed at","unknown-problem-occurred":"An unknown problem occurred",alternatives:"Alternatives","please-refresh":"Press the Reload icon that is on the top bar of the extension","close-and-open":"Close and open tabs or views","sign-out-and-sign":"Sign out and sign in again","start-date":"Start date","customize-start-date":"Customize start date","paused-tasks":"Paused tasks","pending-tasks":"Pending tasks","there-are-no-pending-activities":"There are no pending activities","pause-task":"Pause task","paused-task":"Paused task","activate-task":"Activate task","show-more":"Show more","show-less":"Show less","expired-delivery-date":"Expired delivery date","delivery-available-time-bar":"Delivery available time bar"};class ve{static key(e){const t=e.toLowerCase().replace(/[^a-z0-9-]/g,"");return ve.get(t)||e}static load(e){"es"===e?ve.rd=me:"en"===e&&(ve.rd=ge),ve.id=e}static get(e){return ve.rd||(ve.rd="es"===ve.id?me:ge),ve.rd[e]||""}}ve.id="en",ve.rd=null;class he{static clean(){pe.set("page",[])}static setScroll(e,t=0){window.setTimeout((()=>{window.scrollTo(0,pe.get("scroll_"+e)||0)}),t)}static addEventListener(e){he.funcEvent=e}static back(){const e=he.get()||"dash";he.funcEvent(e,"back")}static put(e){he.funcEvent(e,"put")}static set(e){const t=pe.get("page")||[];t.length&&t[t.length-1]===e||(t.push(e),t.length>9&&t.shift(),pe.set("page",t))}static get(){let e=pe.get("page");e=e instanceof Array?e:[];let t=null;return e.pop()&&(t=e.pop()),pe.set("page",e),t}static last(){let e=pe.get("page")||[],t=e.pop();return pe.set("page",e),t}}he.funcEvent=(e,t)=>{};let $e={};class be{static set(e){$e=e,pe.set("user",$e)}static get(){return be.load(),$e}static allow(){return!(!$e||!$e.id)&&$e.allow}static load(){$e=$e&&$e.id?$e:pe.get("user")||{}}static getApiService(e){return-1!==e.indexOf("aidev.work")?e.replace("git.","").replace(":8082","")+"/api-task/v1":""}static wAuth(){return fe.send("session/init",$e,(e=>{}))}static onAuth(e){if(ve.load(e&&e.lang?e.lang:"en"),be.isView)e&&e.id?(e.id&&be.set(e),he.put(be.type)):he.put("closed");else{if(!e||!0!==e.success)return fe.send("session/drop",(()=>{he.put("login")}));{e.id&&be.set(e);const t=he.last();he.put(t&&"login"!==t?t:"dash"),pe.run("refresh")}}}static auth(e){return be.isView="sidebar"!==e,be.type=e,be.load(),this.isView||$e.id&&$e.host&&$e.token?fe.send("session/init",$e,(e=>{be.onAuth(e)})):fe.send("session/global",(e=>{be.onAuth(e)}))}static login(e,t){e.service=be.getApiService(e.host),fe.send("session/login",e,(e=>{e&&e.id&&(pe.set("user",e),pe.set("page",[]),he.put("dash"),fe.send("reloads"),t(!0)),t(!1)}))}static drop(){$e={},pe.set("user",$e),fe.send("session/drop",(()=>{he.put("login")}))}}function ke(t){let n;return{c(){n=g("button"),n.textContent=`${ve.get("connect")}`,x(n,"type","submit")},m(e,t){p(e,n,t)},p:e,i:e,o:e,d(e){e&&f(n)}}}function ye(t){let n,s;return n=new ue({}),{c(){ee(n.$$.fragment)},m(e,t){te(n,e,t),s=!0},p:e,i(e){s||(W(n.$$.fragment,e),s=!0)},o(e){X(n.$$.fragment,e),s=!1},d(e){ne(n,e)}}}function xe(e){let t,n,l,a,o,r,c,i,u,m,v,h,b,w,_,C,A,E,q,z,P,S,O;const T=[ye,ke],D=[];function M(e,t){return e[0]?0:1}return q=M(e),z=D[q]=T[q](e),{c(){t=g("h3"),t.textContent=`${ve.get("log-in")}`,n=$(),l=g("form"),a=g("div"),o=g("label"),o.textContent=`${ve.get("gitlab-host")}`,r=$(),c=g("input"),i=$(),u=g("div"),m=g("label"),m.textContent=`${ve.get("personal-access-tokens")}`,v=$(),h=g("input"),b=$(),w=g("div"),_=g("input"),C=$(),A=g("label"),A.textContent=`${ve.get("show-token")}`,E=$(),z.c(),x(t,"class","pb1"),x(o,"for","apiHost"),x(c,"type","url"),c.required=!0,x(m,"for","privateToken"),x(h,"type","password"),h.required=!0,x(_,"type","checkbox"),x(_,"id","showprivateToken"),x(A,"for","showprivateToken")},m(s,f){p(s,t,f),p(s,n,f),p(s,l,f),d(l,a),d(a,o),d(a,r),d(a,c),e[5](c),j(c,e[1].host),d(l,i),d(l,u),d(u,m),d(u,v),d(u,h),e[7](h),j(h,e[1].token),d(l,b),d(l,w),d(w,_),d(w,C),d(w,A),d(l,E),D[q].m(l,null),P=!0,S||(O=[k(c,"input",e[6]),k(h,"input",e[8]),k(_,"change",e[4]),k(l,"submit",y(e[3]))],S=!0)},p(e,[t]){2&t&&j(c,e[1].host),2&t&&h.value!==e[1].token&&j(h,e[1].token);let n=q;q=M(e),q===n?D[q].p(e,t):(Y(),X(D[n],1,1,(()=>{D[n]=null})),G(),z=D[q],z?z.p(e,t):(z=D[q]=T[q](e),z.c()),W(z,1),z.m(l,null))},i(e){P||(W(z),P=!0)},o(e){X(z),P=!1},d(a){a&&f(t),a&&f(n),a&&f(l),e[5](null),e[7](null),D[q].d(),S=!1,s(O)}}}function we(e,t,n){let s=!1;const l={host:"",token:""},a={host:null,token:null};return S((()=>{pe.drop(),a.host.focus()})),[s,l,a,()=>{n(0,s=!0),be.login(l,(e=>n(0,s=!e)))},e=>{a.token.setAttribute("type",e.target.checked?"text":"password")},function(e){D[e?"unshift":"push"]((()=>{a.host=e,n(2,a)}))},function(){l.host=this.value,n(1,l)},function(e){D[e?"unshift":"push"]((()=>{a.token=e,n(2,a)}))},function(){l.token=this.value,n(1,l)}]}be.isView=!1,be.type="sidebar";class _e extends ae{constructor(e){super(),le(this,e,we,xe,a,{})}}function je(t){let n,l,a,o,r,c,i,u,m,v,h,b,y;return{c(){n=g("div"),l=g("h3"),l.textContent=`${ve.get("are-you-sure-you-want-to-log-out")}`,a=$(),o=g("div"),r=g("div"),c=g("input"),i=$(),u=g("div"),m=g("button"),m.textContent=`${ve.get("disconnect")}`,v=$(),h=g("div"),x(l,"class","p2"),x(c,"type","button"),x(c,"class","btn svelte-1br32mt"),c.value=ve.get("cancel"),x(r,"class","col col-6 center"),x(m,"type","button"),x(m,"class","svelte-1br32mt"),x(u,"class","col col-6 center"),x(o,"class","clearfix"),x(n,"class","box-content svelte-1br32mt")},m(e,s){p(e,n,s),d(n,l),d(n,a),d(n,o),d(o,r),d(r,c),d(o,i),d(o,u),d(u,m),d(n,v),d(n,h),b||(y=[k(c,"click",t[0]),k(m,"click",t[1])],b=!0)},p:e,i:e,o:e,d(e){e&&f(n),b=!1,s(y)}}}function Ce(e){return[()=>he.back(),()=>{fe.send("web-task/closed"),be.drop()}]}class Ae extends ae{constructor(e){super(),le(this,e,Ce,je,a,{})}}function Ee(e){let t,n,s,l;return{c(){t=g("span"),n=h(e[0]),x(t,"class","svelte-ak7jq7")},m(a,o){p(a,t,o),d(t,n),s||(l=k(t,"click",e[4]),s=!0)},p(e,t){1&t&&_(n,e[0])},d(e){e&&f(t),s=!1,l()}}}function qe(e){let t,n,l,a,o,r,c,i,m,v,h;return{c(){t=g("div"),n=g("input"),l=$(),a=g("button"),o=g("i"),r=$(),c=g("button"),i=g("i"),n.disabled=e[3],x(n,"type","text"),x(n,"class","svelte-ak7jq7"),x(o,"class","fas fa-xmark"),a.disabled=e[3],x(a,"class","btn-cancel svelte-ak7jq7"),x(a,"type","button"),x(i,"class",m=u(e[2])+" svelte-ak7jq7"),c.disabled=e[3],x(c,"type","button"),x(c,"class","svelte-ak7jq7"),x(t,"class","item-group svelte-ak7jq7")},m(s,u){p(s,t,u),d(t,n),j(n,e[0]),d(t,l),d(t,a),d(a,o),d(t,r),d(t,c),d(c,i),v||(h=[k(n,"input",e[8]),k(a,"click",e[9]),k(c,"click",e[5])],v=!0)},p(e,t){8&t&&(n.disabled=e[3]),1&t&&n.value!==e[0]&&j(n,e[0]),8&t&&(a.disabled=e[3]),4&t&&m!==(m=u(e[2])+" svelte-ak7jq7")&&x(i,"class",m),8&t&&(c.disabled=e[3])},d(e){e&&f(t),v=!1,s(h)}}}function ze(t){let n;function s(e,t){return!0===e[1]?qe:Ee}let l=s(t),a=l(t);return{c(){n=g("div"),a.c()},m(e,t){p(e,n,t),a.m(n,null)},p(e,[t]){l===(l=s(e))&&a?a.p(e,t):(a.d(1),a=l(e),a&&(a.c(),a.m(n,null)))},i:e,o:e,d(e){e&&f(n),a.d()}}}function Pe(e,t,n){let{id:s=""}=t,{text:l=""}=t,{onSave:a=(e=>{})}=t,o=l,r=!1,c="fas fa-edit",i=!1;function u(){n(1,r=!r)}return e.$$set=e=>{"id"in e&&n(6,s=e.id),"text"in e&&n(0,l=e.text),"onSave"in e&&n(7,a=e.onSave)},[l,r,c,i,u,function(){n(3,i=!0),n(2,c="fas fa-spinner fa-spin"),a(s,l,(e=>{n(3,i=!1),n(2,c="fas fa-edit"),void 0!==e?(o=e,n(0,l=e)):n(0,l=o),u()}))},s,a,function(){l=this.value,n(0,l)},()=>{u()}]}class Se extends ae{constructor(e){super(),le(this,e,Pe,ze,a,{id:6,text:0,onSave:7})}}const Oe=e=>({}),Te=e=>({});function De(e){let t,n;const s=e[1].content,l=function(e,t,n,s){if(e){const l=i(e,t,n,s);return e[0](l)}}(s,e,e[0],Te);return{c(){t=g("div"),l&&l.c(),x(t,"class","card mb1 svelte-aq82fr")},m(e,s){p(e,t,s),l&&l.m(t,null),n=!0},p(e,[t]){l&&l.p&&(!n||1&t)&&function(e,t,n,s,l,a){if(l){const o=i(t,n,s,a);e.p(o,l)}}(l,s,e,e[0],n?function(e,t,n,s){if(e[2]&&s){const l=e[2](s(n));if(void 0===t.dirty)return l;if("object"==typeof l){const e=[],n=Math.max(t.dirty.length,l.length);for(let s=0;s<n;s+=1)e[s]=t.dirty[s]|l[s];return e}return t.dirty|l}return t.dirty}(s,e[0],t,Oe):function(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}(e[0]),Te)},i(e){n||(W(l,e),n=!0)},o(e){X(l,e),n=!1},d(e){e&&f(t),l&&l.d(e)}}}function Me(e,t,n){let{$$slots:s={},$$scope:l}=t;return e.$$set=e=>{"$$scope"in e&&n(0,l=e.$$scope)},[l,s]}class Ne extends ae{constructor(e){super(),le(this,e,Me,De,a,{})}}function Le(t){let n,s,l=t[0].name+"";return{c(){n=g("div"),s=h(l)},m(e,t){p(e,n,t),d(n,s)},p(e,t){1&t&&l!==(l=e[0].name+"")&&_(s,l)},i:e,o:e,d(e){e&&f(n)}}}function Ie(e){let t,n;return t=new Se({props:{id:"name",text:e[0].name,onSave:e[1]}}),{c(){ee(t.$$.fragment)},m(e,s){te(t,e,s),n=!0},p(e,n){const s={};1&n&&(s.text=e[0].name),t.$set(s)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){X(t.$$.fragment,e),n=!1},d(e){ne(t,e)}}}function Be(e){let t;return{c(){t=g("span"),t.textContent="admin",x(t,"class","svelte-12psqso")},m(e,n){p(e,t,n)},d(e){e&&f(t)}}}function Fe(e){let t,n,s,l,a,o,r,i,u,m,v,b,y,w,j,C,A,E,q,z,P,S=e[0].username+"",O=e[0].email+"";const T=[Ie,Le],D=[];function M(e,t){return e[0].allow?0:1}w=M(e),j=D[w]=T[w](e);let N=e[0].isAdmin&&Be();return{c(){t=g("div"),n=g("div"),n.innerHTML='<li class="fa fa-cog"></li>',s=$(),l=g("div"),l.textContent="12",a=$(),o=g("div"),r=g("img"),u=$(),m=g("h2"),v=h(S),b=$(),y=g("p"),j.c(),C=$(),A=h(O),E=$(),N&&N.c(),x(n,"class","options svelte-12psqso"),x(l,"class","notify svelte-12psqso"),c(r.src,i=e[0].avatarUrl)||x(r,"src",i),x(r,"alt",""),x(r,"class","profile svelte-12psqso"),x(o,"class","cover-photo svelte-12psqso"),x(m,"class","svelte-12psqso"),x(y,"class","svelte-12psqso"),x(t,"slot","content")},m(c,i){p(c,t,i),d(t,n),d(t,s),d(t,l),d(t,a),d(t,o),d(o,r),d(t,u),d(t,m),d(m,v),d(t,b),d(t,y),D[w].m(y,null),d(y,C),d(y,A),d(t,E),N&&N.m(t,null),q=!0,z||(P=k(r,"click",e[2]),z=!0)},p(e,n){(!q||1&n&&!c(r.src,i=e[0].avatarUrl))&&x(r,"src",i),(!q||1&n)&&S!==(S=e[0].username+"")&&_(v,S);let s=w;w=M(e),w===s?D[w].p(e,n):(Y(),X(D[s],1,1,(()=>{D[s]=null})),G(),j=D[w],j?j.p(e,n):(j=D[w]=T[w](e),j.c()),W(j,1),j.m(y,C)),(!q||1&n)&&O!==(O=e[0].email+"")&&_(A,O),e[0].isAdmin?N||(N=Be(),N.c(),N.m(t,null)):N&&(N.d(1),N=null)},i(e){q||(W(j),q=!0)},o(e){X(j),q=!1},d(e){e&&f(t),D[w].d(),N&&N.d(),z=!1,P()}}}function Ue(e){let t,n;return t=new Ne({props:{$$slots:{content:[Fe]},$$scope:{ctx:e}}}),{c(){ee(t.$$.fragment)},m(e,s){te(t,e,s),n=!0},p(e,[n]){const s={};9&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){X(t.$$.fragment,e),n=!1},d(e){ne(t,e)}}}function He(e,t,n){let{user:s={}}=t;return e.$$set=e=>{"user"in e&&n(0,s=e.user)},[s,(e,t,l)=>{n(0,s.name=t,s);const a={};a[e]=t,fe.send("user/edit",{user:a},(e=>{e&&e.id&&(n(0,s=e),be.set(s)),"function"==typeof l&&l(e&&e.name?e.name:void 0)}))},()=>{s.allow&&fe.send("user/avatar",(e=>{e.avatarUrl&&(n(0,s=e),be.set(s),n(0,s.avatarUrl=e.avatarUrl+"?"+Math.random(),s))}))}]}class Re extends ae{constructor(e){super(),le(this,e,He,Ue,a,{user:0})}}function Ve(e,t,n){const s=e.slice();return s[20]=t[n],s}function Je(e){let t,n,s,l;return{c(){t=g("button"),n=h(e[0]),x(t,"class","mb1")},m(a,o){p(a,t,o),d(t,n),s||(l=k(t,"click",e[8]),s=!0)},p(e,t){1&t&&_(n,e[0])},d(e){e&&f(t),s=!1,l()}}}function Ye(e){let t,n,l,a,o,r,c,i,v,b,y,w,C,E,q,z,P,S,O,T,D,M,N,L=e[5],I=[];for(let t=0;t<L.length;t+=1)I[t]=Ge(Ve(e,L,t));return{c(){t=g("div"),n=g("div"),l=g("h3"),a=h(e[0]),o=$(),r=g("div"),c=g("button"),i=g("i"),v=$(),b=g("div"),y=g("input"),w=$(),C=g("button"),E=g("i"),q=$(),z=g("button"),P=g("i"),O=$(),T=g("div"),D=g("select");for(let e=0;e<I.length;e+=1)I[e].c();x(l,"class","svelte-1jrx3uc"),x(n,"class","left"),x(i,"class","fas fa-xmark"),c.disabled=e[3],x(c,"class","btn btn-cancel svelte-1jrx3uc"),x(r,"class","right"),x(t,"class","clearfix mb1"),y.disabled=e[3],x(y,"placeholder",ve.get("search")+"..."),x(y,"type","text"),x(y,"class","svelte-1jrx3uc"),x(E,"class","fas fa-eraser"),C.disabled=e[3],x(C,"class","btn btn-clean svelte-1jrx3uc"),x(P,"class",S=u(e[4])+" svelte-1jrx3uc"),x(z,"class","btn btn-search svelte-1jrx3uc"),z.disabled=e[3],x(b,"class","item-group svelte-1jrx3uc"),x(D,"class","select svelte-1jrx3uc"),void 0===e[6].id&&B((()=>e[16].call(D))),x(T,"class","mt1")},m(s,u){p(s,t,u),d(t,n),d(n,l),d(l,a),d(t,o),d(t,r),d(r,c),d(c,i),p(s,v,u),p(s,b,u),d(b,y),j(y,e[2]),d(b,w),d(b,C),d(C,E),d(b,q),d(b,z),d(z,P),p(s,O,u),p(s,T,u),d(T,D);for(let e=0;e<I.length;e+=1)I[e].m(D,null);e[15](D),A(D,e[6].id),M||(N=[k(c,"click",e[12]),k(y,"input",e[13]),k(C,"click",e[14]),k(z,"click",e[9]),k(D,"change",e[16]),k(D,"change",e[10])],M=!0)},p(e,t){if(1&t&&_(a,e[0]),8&t&&(c.disabled=e[3]),8&t&&(y.disabled=e[3]),4&t&&y.value!==e[2]&&j(y,e[2]),8&t&&(C.disabled=e[3]),16&t&&S!==(S=u(e[4])+" svelte-1jrx3uc")&&x(P,"class",S),8&t&&(z.disabled=e[3]),32&t){let n;for(L=e[5],n=0;n<L.length;n+=1){const s=Ve(e,L,n);I[n]?I[n].p(s,t):(I[n]=Ge(s),I[n].c(),I[n].m(D,null))}for(;n<I.length;n+=1)I[n].d(1);I.length=L.length}96&t&&A(D,e[6].id)},d(n){n&&f(t),n&&f(v),n&&f(b),n&&f(O),n&&f(T),m(I,n),e[15](null),M=!1,s(N)}}}function Ge(e){let t,n,s,l=e[20].value+"";return{c(){t=g("option"),n=h(l),t.__value=s=e[20].id,t.value=t.__value},m(e,s){p(e,t,s),d(t,n)},p(e,a){32&a&&l!==(l=e[20].value+"")&&_(n,l),32&a&&s!==(s=e[20].id)&&(t.__value=s,t.value=t.__value)},d(e){e&&f(t)}}}function We(t){let n;function s(e,t){return!0===e[1]?Ye:Je}let l=s(t),a=l(t);return{c(){n=g("div"),a.c()},m(e,t){p(e,n,t),a.m(n,null)},p(e,[t]){l===(l=s(e))&&a?a.p(e,t):(a.d(1),a=l(e),a&&(a.c(),a.m(n,null)))},i:e,o:e,d(e){e&&f(n),a.d()}}}function Xe(e,t,n){let{id:s=""}=t,{label:l=""}=t;const a=O();let o=!1,r="",c=!1,i="fas fa-search",u=[],d={id:0,name:""},p=null;const f=e=>{n(1,o=!o),(e=>{a("EventExpand",e)})(o)},m=e=>{n(3,c=e),e&&(n(5,u=[{id:"",value:ve.get("loading")+"..."}]),n(6,d.id="",d)),n(4,i="fas fa-"+(c?"spinner fa-spin":"search"))};return e.$$set=e=>{"id"in e&&n(11,s=e.id),"label"in e&&n(0,l=e.label)},[l,o,r,c,i,u,d,p,f,()=>{m(!0),a("EventSelect",{id:s,value:r||"",fun:e=>{e.unshift({id:"",value:ve.get("select-option")+"..."}),n(5,u=e),m(!1),a("EventSelect",{id:s,data:{id:0,name:""}})}})},()=>{n(6,d.name=p.options[p.selectedIndex].text,d),a("EventSelect",{id:s,data:d})},s,()=>f(),function(){r=this.value,n(2,r)},()=>n(2,r=""),function(e){D[e?"unshift":"push"]((()=>{p=e,n(7,p)}))},function(){d.id=E(this),n(6,d),n(5,u)}]}class Ke extends ae{constructor(e){super(),le(this,e,Xe,We,a,{id:11,label:0})}}function Qe(t){let n,s,l,a,o;return{c(){n=g("div"),s=g("div"),l=g("div"),a=$(),o=g("div"),x(l,"class","gauge__fill svelte-sk2b6t"),x(o,"class","gauge__cover svelte-sk2b6t"),x(s,"class","gauge__body svelte-sk2b6t"),x(n,"class","gauge svelte-sk2b6t")},m(e,r){p(e,n,r),d(n,s),d(s,l),t[3](l),d(s,a),d(s,o),t[4](o)},p:e,i:e,o:e,d(e){e&&f(n),t[3](null),t[4](null)}}}function Ze(e,t,n){let{value:s=0}=t,l=null,a=null;return S((()=>{var e;(e=s)<0||e>1||(n(0,l.style.transform=`rotate(${e/2}turn)`,l),n(1,a.textContent=`${Math.round(100*e)}%`,a))})),e.$$set=e=>{"value"in e&&n(2,s=e.value)},[l,a,s,function(e){D[e?"unshift":"push"]((()=>{l=e,n(0,l)}))},function(e){D[e?"unshift":"push"]((()=>{a=e,n(1,a)}))}]}class et extends ae{constructor(e){super(),le(this,e,Ze,Qe,a,{value:2})}}function tt(t){let n,s,l,a,o,r,c,i,u;return{c(){n=g("div"),s=g("div"),l=h("Progress\r\n        "),a=g("div"),o=$(),r=g("span"),c=h(t[0]),i=h("%"),x(a,"class","progress-bar--inner svelte-szwwex"),C(a,"width",t[0]+"%"),x(s,"class","progress-bar svelte-szwwex"),x(r,"class","progress-bar--counter svelte-szwwex"),x(n,"class",u="progress-bar--wrap progress-bar--"+t[1]+" svelte-szwwex")},m(e,t){p(e,n,t),d(n,s),d(s,l),d(s,a),d(n,o),d(n,r),d(r,c),d(r,i)},p(e,[t]){1&t&&C(a,"width",e[0]+"%"),1&t&&_(c,e[0]),2&t&&u!==(u="progress-bar--wrap progress-bar--"+e[1]+" svelte-szwwex")&&x(n,"class",u)},i:e,o:e,d(e){e&&f(n)}}}function nt(e,t,n){let{value:s=0}=t,{color:l="green"}=t;return e.$$set=e=>{"value"in e&&n(0,s=e.value),"color"in e&&n(1,l=e.color)},[s,l]}class st extends ae{constructor(e){super(),le(this,e,nt,tt,a,{value:0,color:1})}}function lt(e){let t,n,s,l;return t=new Ne({props:{$$slots:{content:[ot]},$$scope:{ctx:e}}}),s=new Ne({props:{$$slots:{content:[rt]},$$scope:{ctx:e}}}),{c(){ee(t.$$.fragment),n=$(),ee(s.$$.fragment)},m(e,a){te(t,e,a),p(e,n,a),te(s,e,a),l=!0},p(e,n){const l={};8193&n&&(l.$$scope={dirty:n,ctx:e}),t.$set(l);const a={};8193&n&&(a.$$scope={dirty:n,ctx:e}),s.$set(a)},i(e){l||(W(t.$$.fragment,e),W(s.$$.fragment,e),l=!0)},o(e){X(t.$$.fragment,e),X(s.$$.fragment,e),l=!1},d(e){ne(t,e),e&&f(n),ne(s,e)}}}function at(t){let n,s;return n=new ue({}),{c(){ee(n.$$.fragment)},m(e,t){te(n,e,t),s=!0},p:e,i(e){s||(W(n.$$.fragment,e),s=!0)},o(e){X(n.$$.fragment,e),s=!1},d(e){ne(n,e)}}}function ot(e){let t,n,s,l,a,o,r,c,i,u,m,v,b,k=ve.get("pending")+"",y=e[0].opened.num+"";return c=new st({props:{value:e[0].opened.val,color:"orange"}}),v=new st({props:{value:e[0].progress.val,color:"blue"}}),{c(){t=g("div"),n=g("h2"),s=h(k),l=h(" ("),a=h(y),o=h(")"),r=$(),ee(c.$$.fragment),i=$(),u=g("h2"),u.textContent=`${ve.get("progress-percentage")}`,m=$(),ee(v.$$.fragment),x(n,"class","mt2 mb1"),x(u,"class","mt2 mb1"),x(t,"slot","content")},m(e,f){p(e,t,f),d(t,n),d(n,s),d(n,l),d(n,a),d(n,o),d(t,r),te(c,t,null),d(t,i),d(t,u),d(t,m),te(v,t,null),b=!0},p(e,t){(!b||1&t)&&y!==(y=e[0].opened.num+"")&&_(a,y);const n={};1&t&&(n.value=e[0].opened.val),c.$set(n);const s={};1&t&&(s.value=e[0].progress.val),v.$set(s)},i(e){b||(W(c.$$.fragment,e),W(v.$$.fragment,e),b=!0)},o(e){X(c.$$.fragment,e),X(v.$$.fragment,e),b=!1},d(e){e&&f(t),ne(c),ne(v)}}}function rt(e){let t,n,s,l,a,o,r,c,i,u,m,v,b,k,y,w,j,C,A,E,q,z,P,S,O,T,D,M,N,L,I,B,F,U=ve.get("solved")+"",H=e[0].closed.num+"",R=ve.get("high-priority")+"",V=e[0].alta.tot+"",J=ve.get("medium-priority")+"",Y=e[0].media.tot+"",G=ve.get("low-priority")+"",K=e[0].baja.tot+"";return c=new et({props:{value:e[0].porcent.val}}),w=new st({props:{value:e[0].alta.val,color:"red"}}),S=new st({props:{value:e[0].media.val,color:"yellow"}}),B=new st({props:{value:e[0].baja.val,color:"green"}}),{c(){t=g("div"),n=g("h2"),s=h(U),l=h(" ("),a=h(H),o=h(")"),r=$(),ee(c.$$.fragment),i=$(),u=g("h3"),m=h(R),v=h(" ("),b=h(V),k=h(")"),y=$(),ee(w.$$.fragment),j=$(),C=g("h3"),A=h(J),E=h(" ("),q=h(Y),z=h(")"),P=$(),ee(S.$$.fragment),O=$(),T=g("h3"),D=h(G),M=h(" ("),N=h(K),L=h(")"),I=$(),ee(B.$$.fragment),x(n,"class","mt2 mb1"),x(u,"class","mt2 mb1"),x(C,"class","mt2 mb1"),x(T,"class","mt2 mb1"),x(t,"slot","content")},m(e,f){p(e,t,f),d(t,n),d(n,s),d(n,l),d(n,a),d(n,o),d(t,r),te(c,t,null),d(t,i),d(t,u),d(u,m),d(u,v),d(u,b),d(u,k),d(t,y),te(w,t,null),d(t,j),d(t,C),d(C,A),d(C,E),d(C,q),d(C,z),d(t,P),te(S,t,null),d(t,O),d(t,T),d(T,D),d(T,M),d(T,N),d(T,L),d(t,I),te(B,t,null),F=!0},p(e,t){(!F||1&t)&&H!==(H=e[0].closed.num+"")&&_(a,H);const n={};1&t&&(n.value=e[0].porcent.val),c.$set(n),(!F||1&t)&&V!==(V=e[0].alta.tot+"")&&_(b,V);const s={};1&t&&(s.value=e[0].alta.val),w.$set(s),(!F||1&t)&&Y!==(Y=e[0].media.tot+"")&&_(q,Y);const l={};1&t&&(l.value=e[0].media.val),S.$set(l),(!F||1&t)&&K!==(K=e[0].baja.tot+"")&&_(N,K);const o={};1&t&&(o.value=e[0].baja.val),B.$set(o)},i(e){F||(W(c.$$.fragment,e),W(w.$$.fragment,e),W(S.$$.fragment,e),W(B.$$.fragment,e),F=!0)},o(e){X(c.$$.fragment,e),X(w.$$.fragment,e),X(S.$$.fragment,e),X(B.$$.fragment,e),F=!1},d(e){e&&f(t),ne(c),ne(w),ne(S),ne(B)}}}function ct(e){let t,n,s,l,a,o;t=new Ke({props:{id:"Project",label:e[1]}}),t.$on("EventSelect",e[3]);const r=[at,lt],c=[];function i(e,t){return e[2]?0:1}return s=i(e),l=c[s]=r[s](e),{c(){ee(t.$$.fragment),n=$(),l.c(),a=b()},m(e,l){te(t,e,l),p(e,n,l),c[s].m(e,l),p(e,a,l),o=!0},p(e,[n]){const o={};2&n&&(o.label=e[1]),t.$set(o);let u=s;s=i(e),s===u?c[s].p(e,n):(Y(),X(c[u],1,1,(()=>{c[u]=null})),G(),l=c[s],l?l.p(e,n):(l=c[s]=r[s](e),l.c()),W(l,1),l.m(a.parentNode,a))},i(e){o||(W(t.$$.fragment,e),W(l),o=!0)},o(e){X(t.$$.fragment,e),X(l),o=!1},d(e){ne(t,e),e&&f(n),c[s].d(e),e&&f(a)}}}function it(e,t,n){let s={},l="",a=!0,o={id:0,name:""};const r=e=>{var t;n(1,l=(t=e).id?t.name:ve.get("select-project")),o=e,pe.set("project",o)},c=(e,t)=>t?Math.round(e.num/t*100):0;function i(e){n(0,s={progress:{val:0,num:0,tot:0},opened:{val:0,num:0,tot:0},closed:{val:0,num:0,tot:0},baja:{val:0,num:0,tot:0},media:{val:0,num:0,tot:0},alta:{val:0,num:0,tot:0},porcent:{val:0,num:0,tot:0}}),n(0,s.opened.num=0,s),n(0,s.closed.num=0,s);for(const t in e)n(0,s.porcent.tot+=e[t].opened+e[t].closed,s),n(0,s.closed.num+=e[t].closed,s),n(0,s.opened.num+=e[t].opened,s),n(0,s[t].tot=e[t].opened+e[t].closed,s),n(0,s[t].num=e[t].closed,s),n(0,s[t].val=s[t].tot?Math.round(s[t].num/s[t].tot*100):0,s);n(0,s.opened.val=c(s.opened,s.porcent.tot),s),n(0,s.closed.val=c(s.closed,s.porcent.tot),s),n(0,s.porcent.val=s.closed.val/100,s)}const u=e=>{const t=e.detail;t.data?t.data.id&&(n(2,a=!0),r(t.data),fe.send("task/get-statistics",t.data,(e=>{const t={};t[o.id]=e,pe.set("tasks-0",[]),pe.set("tasks-1",[]),pe.set("statistics",t),i(e),p((()=>{n(2,a=!1)}))}))):fe.send("project/search",{key:t.value},t.fun)},d=(e,t)=>{for(let t in e)"opened"===e[t].state&&(n(0,s.progress.tot+=100,s),n(0,s.progress.num+=e[t].progress,s));n(0,s.progress.val=c(s.progress,s.progress.tot),s),t()},p=e=>{if(!s.opened.num)return e();let t=pe.get("tasks-0");if(t&&t.length)return d(t,e);fe.send("task/list-opened",o,(t=>{d(t,e)}))};return S((()=>{r(pe.get("project",o));const e=(()=>{const e=pe.get("statistics",[]);return e[0]={baja:{opened:0,closed:0},media:{opened:0,closed:0},alta:{opened:0,closed:0}},e})();e&&e[o.id]?(i(e[o.id]),p((()=>{n(2,a=!1)}))):u({detail:{data:o}})})),[s,l,a,u]}class ut extends ae{constructor(e){super(),le(this,e,it,ct,a,{})}}function dt(e){let t,n,s,l;return t=new Re({props:{user:e[1]}}),s=new ut({}),{c(){ee(t.$$.fragment),n=$(),ee(s.$$.fragment)},m(e,a){te(t,e,a),p(e,n,a),te(s,e,a),l=!0},p(e,n){const s={};2&n&&(s.user=e[1]),t.$set(s)},i(e){l||(W(t.$$.fragment,e),W(s.$$.fragment,e),l=!0)},o(e){X(t.$$.fragment,e),X(s.$$.fragment,e),l=!1},d(e){ne(t,e),e&&f(n),ne(s,e)}}}function pt(t){let n,s;return n=new ue({}),{c(){ee(n.$$.fragment)},m(e,t){te(n,e,t),s=!0},p:e,i(e){s||(W(n.$$.fragment,e),s=!0)},o(e){X(n.$$.fragment,e),s=!1},d(e){ne(n,e)}}}function ft(e){let t,n,s,l;const a=[pt,dt],o=[];function r(e,t){return e[0]?0:1}return t=r(e),n=o[t]=a[t](e),{c(){n.c(),s=b()},m(e,n){o[t].m(e,n),p(e,s,n),l=!0},p(e,[l]){let c=t;t=r(e),t===c?o[t].p(e,l):(Y(),X(o[c],1,1,(()=>{o[c]=null})),G(),n=o[t],n?n.p(e,l):(n=o[t]=a[t](e),n.c()),W(n,1),n.m(s.parentNode,s))},i(e){l||(W(n),l=!0)},o(e){X(n),l=!1},d(e){o[t].d(e),e&&f(s)}}}function mt(e,t,n){let s=!0,l={};return S((()=>{(e=>{let t=be.get();if(t&&t.id)return e(t);fe.send("user/get-data",(t=>{if(t&&t.id)return be.set(t),e(t);e(null)}))})((e=>{e?(n(1,l=e),n(0,s=!1)):fe.send("session/form-login")}))})),[s,l]}class gt extends ae{constructor(e){super(),le(this,e,mt,ft,a,{})}}function vt(t){let n,s,l,a,o,r=be.allow(),c=r&&function(t){let n,s,l,a,o;return{c(){n=g("span"),n.innerHTML='<i class="fas fa-trash red svelte-11mizk4"></i>',s=$(),l=g("i"),x(n,"class","svelte-11mizk4"),x(l,"class","line svelte-11mizk4")},m(e,r){p(e,n,r),p(e,s,r),p(e,l,r),a||(o=k(n,"click",t[1]),a=!0)},p:e,d(e){e&&f(n),e&&f(s),e&&f(l),a=!1,o()}}}(t);return{c(){n=g("span"),c&&c.c(),s=$(),l=g("span"),l.innerHTML='<i class="fa fa-edit blue"></i>',x(l,"class","svelte-11mizk4"),x(n,"class","opc text-center svelte-11mizk4")},m(e,r){p(e,n,r),c&&c.m(n,null),d(n,s),d(n,l),a||(o=k(l,"click",t[2]),a=!0)},p(e,[t]){r&&c.p(e,t)},i:e,o:e,d(e){e&&f(n),c&&c.d(),a=!1,o()}}}function ht(e,t,n){let{selOpc:s=(e=>{})}=t;return e.$$set=e=>{"selOpc"in e&&n(0,s=e.selOpc)},[s,()=>s("D"),()=>s("E")]}class $t extends ae{constructor(e){super(),le(this,e,ht,vt,a,{selOpc:0})}}function bt(e){let t,n,s,l,a,o,r,c;return r=new $t({props:{selOpc:e[0]}}),{c(){t=g("div"),n=g("i"),s=$(),l=g("span"),l.textContent="•••",a=$(),o=g("div"),ee(r.$$.fragment),x(n,"class","db2 svelte-1qkjnkz"),x(n,"tabindex","0"),x(l,"class","dropbtn svelte-1qkjnkz"),x(o,"class","dropdown-content svelte-1qkjnkz"),x(o,"tabindex","0"),x(t,"class","dropdown svelte-1qkjnkz"),x(t,"tabindex","0")},m(e,i){p(e,t,i),d(t,n),d(t,s),d(t,l),d(t,a),d(t,o),te(r,o,null),c=!0},p(e,[t]){const n={};1&t&&(n.selOpc=e[0]),r.$set(n)},i(e){c||(W(r.$$.fragment,e),c=!0)},o(e){X(r.$$.fragment,e),c=!1},d(e){e&&f(t),ne(r)}}}function kt(e,t,n){let{selOpc:s=(()=>{})}=t;return e.$$set=e=>{"selOpc"in e&&n(0,s=e.selOpc)},[s]}class yt extends ae{constructor(e){super(),le(this,e,kt,bt,a,{selOpc:0})}}function xt(e){let t,n,l,a,o,r,c,i,m,v,b,y,j,C,A,E,q,z,P,S,O,T,D,M,N,L,I,B,F,U,H,R,V,J,K,Q,Z,se,le,ae,oe,re,ce=e[0].title+"",ie=e[0].dueDate+"",ue=e[0].description+"",de=e[0].comments+"",pe="opened"===e[0].state&&_t(e),fe=e[4].id===e[0].author.id&&"opened"===e[0].state&&qt(e);F=new st({props:{value:e[2],color:"cyan"}});let me=e[3]===e[7]&&"opened"===e[0].state&&zt(e),ge="opened"===e[0].state&&Pt(e),he=e[0].assignee&&e[0].assignee.id!==e[4].id&&St(e);return{c(){t=g("message-item"),pe&&pe.c(),n=$(),l=g("div"),o=$(),r=g("input"),c=$(),i=g("span"),m=g("i"),v=$(),b=g("span"),y=g("em"),j=$(),C=g("header"),A=g("div"),E=g("span"),q=h(ce),z=$(),P=g("span"),S=h(ie),O=$(),fe&&fe.c(),T=$(),D=g("main"),M=g("p"),N=h(ue),L=$(),I=g("div"),B=g("div"),ee(F.$$.fragment),U=$(),me&&me.c(),H=$(),ge&&ge.c(),R=$(),V=g("span"),J=g("i"),K=h(" ("),Q=h(de),Z=h(")"),se=$(),he&&he.c(),x(l,"class",a="tag "+e[6]+" svelte-t3knm3"),x(r,"class","checkbox svelte-t3knm3"),x(r,"type","checkbox"),r.checked=e[5],x(m,"class","fa fa-bell  svelte-t3knm3"),x(i,"class","notify "+Tt+" d-none svelte-t3knm3"),x(b,"class","days "+Tt+" svelte-t3knm3"),x(E,"class","subject svelte-t3knm3"),x(P,"class","date svelte-t3knm3"),x(A,"class","sender-info svelte-t3knm3"),x(C,"class","svelte-t3knm3"),x(M,"class","svelte-t3knm3"),x(B,"class","progress svelte-t3knm3"),x(J,"class","fa fa-comment"),x(V,"class","comment svelte-t3knm3"),x(V,"title",ve.get("comments")),x(I,"class","svelte-t3knm3"),x(D,"class","svelte-t3knm3"),w(t,"class",le=u("opened"===e[0].state?"unread":"done")+" svelte-t3knm3")},m(s,a){p(s,t,a),pe&&pe.m(t,null),d(t,n),d(t,l),d(t,o),d(t,r),d(t,c),d(t,i),d(i,m),d(t,v),d(t,b),d(b,y),d(t,j),d(t,C),d(C,A),d(A,E),d(E,q),d(A,z),d(A,P),d(P,S),d(C,O),fe&&fe.m(C,null),d(t,T),d(t,D),d(D,M),d(M,N),d(D,L),d(D,I),d(I,B),te(F,B,null),d(I,U),me&&me.m(I,null),d(I,H),ge&&ge.m(I,null),d(I,R),d(I,V),d(V,J),d(V,K),d(V,Q),d(V,Z),d(t,se),he&&he.m(t,null),ae=!0,oe||(re=[k(r,"change",e[8]),k(A,"click",e[12]),k(B,"click",e[14]),k(V,"click",e[12])],oe=!0)},p(e,s){"opened"===e[0].state?pe?pe.p(e,s):(pe=_t(e),pe.c(),pe.m(t,n)):pe&&(pe.d(1),pe=null),(!ae||64&s&&a!==(a="tag "+e[6]+" svelte-t3knm3"))&&x(l,"class",a),(!ae||32&s)&&(r.checked=e[5]),(!ae||1&s)&&ce!==(ce=e[0].title+"")&&_(q,ce),(!ae||1&s)&&ie!==(ie=e[0].dueDate+"")&&_(S,ie),e[4].id===e[0].author.id&&"opened"===e[0].state?fe?(fe.p(e,s),17&s&&W(fe,1)):(fe=qt(e),fe.c(),W(fe,1),fe.m(C,null)):fe&&(Y(),X(fe,1,1,(()=>{fe=null})),G()),(!ae||1&s)&&ue!==(ue=e[0].description+"")&&_(N,ue);const o={};4&s&&(o.value=e[2]),F.$set(o),e[3]===e[7]&&"opened"===e[0].state?me?me.p(e,s):(me=zt(e),me.c(),me.m(I,H)):me&&(me.d(1),me=null),"opened"===e[0].state?ge?ge.p(e,s):(ge=Pt(e),ge.c(),ge.m(I,R)):ge&&(ge.d(1),ge=null),(!ae||1&s)&&de!==(de=e[0].comments+"")&&_(Q,de),e[0].assignee&&e[0].assignee.id!==e[4].id?he?he.p(e,s):(he=St(e),he.c(),he.m(t,null)):he&&(he.d(1),he=null),(!ae||1&s&&le!==(le=u("opened"===e[0].state?"unread":"done")+" svelte-t3knm3"))&&w(t,"class",le)},i(e){ae||(W(fe),W(F.$$.fragment,e),ae=!0)},o(e){X(fe),X(F.$$.fragment,e),ae=!1},d(e){e&&f(t),pe&&pe.d(),fe&&fe.d(),ne(F),me&&me.d(),ge&&ge.d(),he&&he.d(),oe=!1,s(re)}}}function wt(t){let n,s,l,a,o,r,c,i,u,m,v,b,y,j=t[0].title+"";return{c(){n=g("message-item"),s=g("div"),l=$(),a=g("span"),o=g("i"),r=$(),c=g("main"),i=g("span"),u=h(j),m=$(),v=g("small"),v.textContent=`${ve.get("paused-task")}`,x(s,"class","tag svelte-t3knm3"),x(o,"class","far fa-play-circle"),x(a,"class","paused svelte-t3knm3"),x(a,"title",ve.get("activate-task")),x(i,"class","subject-paused svelte-t3knm3"),x(v,"class","svelte-t3knm3"),x(c,"class","svelte-t3knm3"),w(n,"class","suspend svelte-t3knm3")},m(e,f){p(e,n,f),d(n,s),d(n,l),d(n,a),d(a,o),d(n,r),d(n,c),d(c,i),d(i,u),d(c,m),d(c,v),b||(y=k(a,"click",t[11]),b=!0)},p(e,t){1&t&&j!==(j=e[0].title+"")&&_(u,j)},i:e,o:e,d(e){e&&f(n),b=!1,y()}}}function _t(e){let t,n;function s(e,t){return e[0].timeOutPor?Ct:jt}let l=s(e),a=l(e);return{c(){t=g("div"),a.c(),x(t,"class","day-out svelte-t3knm3"),x(t,"title",n=ve.get("delivery-available-time-bar"))},m(e,n){p(e,t,n),a.m(t,null)},p(e,n){l===(l=s(e))&&a?a.p(e,n):(a.d(1),a=l(e),a&&(a.c(),a.m(t,null)))},d(e){e&&f(t),a.d()}}}function jt(e){let t,n,s;function l(e,t){return 0==e[0].timeOut?Et:At}let a=l(e),o=a(e);return{c(){t=g("span"),o.c(),n=$(),s=g("span"),x(t,"class","day-alert svelte-t3knm3"),x(t,"title",ve.get("expired-delivery-date")),x(s,"class","danger svelte-t3knm3")},m(e,l){p(e,t,l),o.m(t,null),p(e,n,l),p(e,s,l)},p(e,n){a!==(a=l(e))&&(o.d(1),o=a(e),o&&(o.c(),o.m(t,null)))},d(e){e&&f(t),o.d(),e&&f(n),e&&f(s)}}}function Ct(e){let t,n;return{c(){t=g("span"),n=g("span"),x(n,"class","bar svelte-t3knm3"),C(n,"width",e[0].timeOutPor+"%"),x(t,"class","success svelte-t3knm3")},m(e,s){p(e,t,s),d(t,n)},p(e,t){1&t&&C(n,"width",e[0].timeOutPor+"%")},d(e){e&&f(t)}}}function At(e){let t;return{c(){t=g("i"),x(t,"class","fas fa-exclamation fa-2x svelte-t3knm3")},m(e,n){p(e,t,n)},d(e){e&&f(t)}}}function Et(e){let t;return{c(){t=g("i"),x(t,"class","fas fa-hourglass-end svelte-t3knm3")},m(e,n){p(e,t,n)},d(e){e&&f(t)}}}function qt(e){let t,n,s;return n=new yt({props:{selOpc:e[13]}}),{c(){t=g("span"),ee(n.$$.fragment),x(t,"class","menu svelte-t3knm3")},m(e,l){p(e,t,l),te(n,t,null),s=!0},p(e,t){const s={};3&t&&(s.selOpc=e[13]),n.$set(s)},i(e){s||(W(n.$$.fragment,e),s=!0)},o(e){X(n.$$.fragment,e),s=!1},d(e){e&&f(t),ne(n)}}}function zt(e){let t,n,l,a,o,r,c,i,u,m,v,h,b,y,w,_,C,A;return{c(){t=g("div"),n=g("input"),l=$(),a=g("datalist"),o=g("option"),r=g("option"),c=g("option"),i=g("option"),u=g("option"),m=g("option"),v=g("option"),h=g("option"),b=g("option"),y=g("option"),w=g("option"),_=g("input"),x(n,"type","range"),x(n,"class","input-range"),x(n,"step","10"),x(n,"list","tickmarks"),o.__value="0",o.value=o.__value,x(o,"label","0%"),r.__value="10",r.value=r.__value,c.__value="20",c.value=c.__value,i.__value="30",i.value=i.__value,u.__value="40",u.value=u.__value,m.__value="50",m.value=m.__value,x(m,"label","50%"),v.__value="60",v.value=v.__value,h.__value="70",h.value=h.__value,b.__value="80",b.value=b.__value,y.__value="90",y.value=y.__value,w.__value="100",w.value=w.__value,x(w,"label","100%"),x(a,"id","tickmarks")},m(s,f){p(s,t,f),d(t,n),j(n,e[2]),d(t,l),d(t,a),d(a,o),d(a,r),d(a,c),d(a,i),d(a,u),d(a,m),d(a,v),d(a,h),d(a,b),d(a,y),d(a,w),d(a,_),C||(A=[k(n,"change",e[9]),k(n,"change",e[15]),k(n,"input",e[15])],C=!0)},p(e,t){4&t&&j(n,e[2])},d(e){e&&f(t),C=!1,s(A)}}}function Pt(t){let n,s,l,a,o;return{c(){n=g("span"),s=g("i"),x(s,"class","far fa-pause-circle gray"),x(n,"class","suspend svelte-t3knm3"),x(n,"title",l=ve.get("pause-task"))},m(e,l){p(e,n,l),d(n,s),a||(o=k(n,"click",t[11]),a=!0)},p:e,d(e){e&&f(n),a=!1,o()}}}function St(e){let t,n,s,l,a,o,r,i,u,m=e[0].assignee.name+"";return{c(){t=g("footer"),n=g("strong"),n.textContent=`${ve.get("assign")}:`,s=$(),l=g("div"),a=g("img"),r=$(),i=g("span"),u=h(m),x(n,"class","svelte-t3knm3"),c(a.src,o=e[0].assignee.avatar_url)||x(a,"src",o),x(a,"alt",""),x(a,"class","svelte-t3knm3"),x(i,"class","svelte-t3knm3"),x(l,"class","svelte-t3knm3"),x(t,"class","svelte-t3knm3")},m(e,o){p(e,t,o),d(t,n),d(t,s),d(t,l),d(l,a),d(l,r),d(l,i),d(i,u)},p(e,t){1&t&&!c(a.src,o=e[0].assignee.avatar_url)&&x(a,"src",o),1&t&&m!==(m=e[0].assignee.name+"")&&_(u,m)},d(e){e&&f(t)}}}function Ot(e){let t,n,s,l;const a=[wt,xt],o=[];function r(e,t){return e[0].suspend?0:1}return t=r(e),n=o[t]=a[t](e),{c(){n.c(),s=b()},m(e,n){o[t].m(e,n),p(e,s,n),l=!0},p(e,[l]){let c=t;t=r(e),t===c?o[t].p(e,l):(Y(),X(o[c],1,1,(()=>{o[c]=null})),G(),n=o[t],n?n.p(e,l):(n=o[t]=a[t](e),n.c()),W(n,1),n.m(s.parentNode,s))},i(e){l||(W(n),l=!0)},o(e){X(n),l=!1},d(e){o[t].d(e),e&&f(s)}}}let Tt="none";function Dt(e,t,n){let{selOpc:s=(()=>{})}=t,{task:l={}}=t,a=0,o="";const r=e=>{const t=l.labels.indexOf(e);return t>-1?l.labels[t]:void 0};let c={},i=l.id,u="",d="none",p=!1;const f=e=>{"opened"===l.state&&n(3,o=e===o?"":e)};S((()=>{n(4,c=be.get())}));return e.$$set=e=>{"selOpc"in e&&n(1,s=e.selOpc),"task"in e&&n(0,l=e.task)},e.$$.update=()=>{1&e.$$.dirty&&n(6,(l.labels,d=r("alta")||r("media")||r("baja")||"none")),1&e.$$.dirty&&n(5,u="closed"===l.state?"checked":""),1&e.$$.dirty&&(()=>{n(3,o="");let e=0;for(let n=0;n<=10;n++)t=(10*n).toString(),e=l.labels.indexOf(t)>-1?10*n:e;var t;void 0!==a&&n(2,a=e)})(l.labels)},[l,s,a,o,c,u,d,i,()=>{n(0,l.state="opened"===l.state?"closed":"opened",l),n(0,l.progress="closed"===l.state?0:1,l),fe.send("task/state",l,(e=>{pe.run("refresh"),fe.send("web-task/refresh",l)}))},()=>{n(0,l.labels=[d,a.toString()],l),fe.send("task/labels",l,(e=>{pe.run("refresh"),fe.send("web-task/refresh",l)}))},f,()=>{n(0,l.suspend=!l.suspend,l),fe.send("task/upd",l,(e=>{pe.run("refresh"),fe.send("web-task/refresh",l)}))},()=>{p||(p=!0,fe.send("web-task/comments",l),setTimeout((()=>p=!1),500))},e=>s(e+":"+l.id),()=>f(i),function(){var e;e=this.value,a=""===e?null:+e,n(2,a)}]}class Mt extends ae{constructor(e){super(),le(this,e,Dt,Ot,a,{selOpc:1,task:0})}}function Nt(e,t,n){const s=e.slice();return s[2]=t[n],s}function Lt(t){let n,s=ve.get("no-tasks-"+(pe.get("filter_tasks")?"delegated":"assigned"))+"";return{c(){n=h(s)},m(e,t){p(e,n,t)},p:e,i:e,o:e,d(e){e&&f(n)}}}function It(e){let t,n,s,l=e[1],a=[];for(let t=0;t<l.length;t+=1)a[t]=Bt(Nt(e,l,t));const o=e=>X(a[e],1,1,(()=>{a[e]=null}));return{c(){t=g("div"),n=g("div");for(let e=0;e<a.length;e+=1)a[e].c();x(n,"class","inbox-list svelte-1wb9h1m"),x(t,"class","inbox svelte-1wb9h1m")},m(e,l){p(e,t,l),d(t,n);for(let e=0;e<a.length;e+=1)a[e].m(n,null);s=!0},p(e,t){if(3&t){let s;for(l=e[1],s=0;s<l.length;s+=1){const o=Nt(e,l,s);a[s]?(a[s].p(o,t),W(a[s],1)):(a[s]=Bt(o),a[s].c(),W(a[s],1),a[s].m(n,null))}for(Y(),s=l.length;s<a.length;s+=1)o(s);G()}},i(e){if(!s){for(let e=0;e<l.length;e+=1)W(a[e]);s=!0}},o(e){a=a.filter(Boolean);for(let e=0;e<a.length;e+=1)X(a[e]);s=!1},d(e){e&&f(t),m(a,e)}}}function Bt(e){let t,n;return t=new Mt({props:{task:e[2],selOpc:e[0]}}),{c(){ee(t.$$.fragment)},m(e,s){te(t,e,s),n=!0},p(e,n){const s={};2&n&&(s.task=e[2]),1&n&&(s.selOpc=e[0]),t.$set(s)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){X(t.$$.fragment,e),n=!1},d(e){ne(t,e)}}}function Ft(e){let t,n,s,l;const a=[It,Lt],o=[];function r(e,t){return e[1]instanceof Array&&e[1].length?0:1}return t=r(e),n=o[t]=a[t](e),{c(){n.c(),s=b()},m(e,n){o[t].m(e,n),p(e,s,n),l=!0},p(e,[l]){let c=t;t=r(e),t===c?o[t].p(e,l):(Y(),X(o[c],1,1,(()=>{o[c]=null})),G(),n=o[t],n?n.p(e,l):(n=o[t]=a[t](e),n.c()),W(n,1),n.m(s.parentNode,s))},i(e){l||(W(n),l=!0)},o(e){X(n),l=!1},d(e){o[t].d(e),e&&f(s)}}}function Ut(e,t,n){let{selOpc:s=(()=>{})}=t,{tasks:l=[]}=t;return S((()=>{he.setScroll("tasks")})),e.$$set=e=>{"selOpc"in e&&n(0,s=e.selOpc),"tasks"in e&&n(1,l=e.tasks)},[s,l]}class Ht extends ae{constructor(e){super(),le(this,e,Ut,Ft,a,{selOpc:0,tasks:1})}}function Rt(e,t,n){const s=e.slice();return s[23]=t[n],s}function Vt(t){let n,l,a,o,r,c,i,u,v,b,w,C,E,q,z,P,S,O,T,D,M,N,L,I,F,U,H,R,V,J,Y,G,W,X,K,Q,Z,ee,te,ne,se=ve.get(t[0].id?"edit-task":"new-task")+"",le=ve.get("customize-start-date")+"",ae=ve.get("pause-task")+"",oe=ve.get(t[0].id?"save":"add")+"",re=t[3],ce=[];for(let e=0;e<re.length;e+=1)ce[e]=Yt(Rt(t,re,e));let ie=t[5]&&Gt(t);return{c(){n=g("form"),l=g("h3"),l.textContent=`${t[6].name}`,a=$(),o=g("h4"),r=h(se),c=$(),i=g("input"),u=$(),v=g("textarea"),b=$(),w=g("select");for(let e=0;e<ce.length;e+=1)ce[e].c();C=$(),E=g("select"),q=g("option"),q.textContent=`${ve.get("select-priority")}`,z=g("option"),z.textContent=`${ve.get("low-priority")}`,P=g("option"),P.textContent=`${ve.get("medium-priority")}`,S=g("option"),S.textContent=`${ve.get("high-priority")}`,O=$(),T=g("label"),D=g("input"),M=$(),N=h(le),L=$(),ie&&ie.c(),I=$(),F=g("h4"),F.textContent=`${ve.get("deadline")}:`,U=$(),H=g("input"),R=$(),V=g("label"),J=g("input"),Y=$(),G=h(ae),W=$(),X=g("br"),K=$(),Q=g("div"),Z=g("button"),ee=h(oe),x(o,"class","mb1"),i.required=!0,x(i,"type","text"),x(i,"class","input mb1"),x(i,"placeholder",ve.get("title")),x(v,"class","textarea mb2"),x(v,"rows","4"),x(v,"placeholder",ve.get("description")),x(w,"id","idUsers"),x(w,"class","select mb2"),w.required=!0,void 0===t[4].idUser&&B((()=>t[11].call(w))),q.__value="",q.value=q.__value,z.__value="baja",z.value=z.__value,P.__value="media",P.value=P.__value,S.__value="alta",S.value=S.__value,x(E,"class","select mb1"),E.required=!0,void 0===t[4].priority&&B((()=>t[12].call(E))),x(D,"type","checkbox"),x(F,"class","mb1"),x(H,"type","date"),x(H,"clas","mb1"),x(J,"type","checkbox"),x(Z,"class","btn"),x(Z,"type","submit"),x(Q,"class","mt2"),x(n,"class","p1")},m(e,s){p(e,n,s),d(n,l),d(n,a),d(n,o),d(o,r),d(n,c),d(n,i),t[8](i),j(i,t[4].title),d(n,u),d(n,v),j(v,t[4].description),d(n,b),d(n,w);for(let e=0;e<ce.length;e+=1)ce[e].m(w,null);A(w,t[4].idUser),d(n,C),d(n,E),d(E,q),d(E,z),d(E,P),d(E,S),A(E,t[4].priority),d(n,O),d(n,T),d(T,D),D.checked=t[5],d(T,M),d(T,N),d(n,L),ie&&ie.m(n,null),d(n,I),d(n,F),d(n,U),d(n,H),j(H,t[4].date),d(n,R),d(n,V),d(V,J),J.checked=t[4].suspend,d(V,Y),d(V,G),d(n,W),d(n,X),d(n,K),d(n,Q),d(Q,Z),d(Z,ee),te||(ne=[k(i,"input",t[9]),k(v,"input",t[10]),k(w,"change",t[11]),k(E,"change",t[12]),k(D,"change",t[13]),k(H,"input",t[15]),k(J,"change",t[16]),k(n,"submit",y(t[7]))],te=!0)},p(e,t){if(1&t&&se!==(se=ve.get(e[0].id?"edit-task":"new-task")+"")&&_(r,se),24&t&&i.value!==e[4].title&&j(i,e[4].title),24&t&&j(v,e[4].description),8&t){let n;for(re=e[3],n=0;n<re.length;n+=1){const s=Rt(e,re,n);ce[n]?ce[n].p(s,t):(ce[n]=Yt(s),ce[n].c(),ce[n].m(w,null))}for(;n<ce.length;n+=1)ce[n].d(1);ce.length=re.length}24&t&&A(w,e[4].idUser),24&t&&A(E,e[4].priority),32&t&&(D.checked=e[5]),e[5]?ie?ie.p(e,t):(ie=Gt(e),ie.c(),ie.m(n,I)):ie&&(ie.d(1),ie=null),24&t&&j(H,e[4].date),24&t&&(J.checked=e[4].suspend),1&t&&oe!==(oe=ve.get(e[0].id?"save":"add")+"")&&_(ee,oe)},i:e,o:e,d(e){e&&f(n),t[8](null),m(ce,e),ie&&ie.d(),te=!1,s(ne)}}}function Jt(t){let n,s;return n=new ue({}),{c(){ee(n.$$.fragment)},m(e,t){te(n,e,t),s=!0},p:e,i(e){s||(W(n.$$.fragment,e),s=!0)},o(e){X(n.$$.fragment,e),s=!1},d(e){ne(n,e)}}}function Yt(e){let t,n,s,l=e[23].value+"";return{c(){t=g("option"),n=h(l),t.__value=s=e[23].id,t.value=t.__value},m(e,s){p(e,t,s),d(t,n)},p(e,a){8&a&&l!==(l=e[23].value+"")&&_(n,l),8&a&&s!==(s=e[23].id)&&(t.__value=s,t.value=t.__value)},d(e){e&&f(t)}}}function Gt(e){let t,n,s,l,a;return{c(){t=g("h4"),t.textContent=`${ve.get("start-date")}:`,n=$(),s=g("input"),x(t,"class","mb1"),x(s,"type","date"),x(s,"clas","mb1")},m(o,r){p(o,t,r),p(o,n,r),p(o,s,r),j(s,e[4].begin),l||(a=k(s,"input",e[14]),l=!0)},p(e,t){24&t&&j(s,e[4].begin)},d(e){e&&f(t),e&&f(n),e&&f(s),l=!1,a()}}}function Wt(e){let t,n,s,l;const a=[Jt,Vt],o=[];function r(e,t){return e[1]?0:1}return t=r(e),n=o[t]=a[t](e),{c(){n.c(),s=b()},m(e,n){o[t].m(e,n),p(e,s,n),l=!0},p(e,[l]){let c=t;t=r(e),t===c?o[t].p(e,l):(Y(),X(o[c],1,1,(()=>{o[c]=null})),G(),n=o[t],n?n.p(e,l):(n=o[t]=a[t](e),n.c()),W(n,1),n.m(s.parentNode,s))},i(e){l||(W(n),l=!0)},o(e){X(n),l=!1},d(e){o[t].d(e),e&&f(s)}}}function Xt(e,t,n){let{task:s={}}=t;const l=O();let a=!0,o=pe.get("project"),r=null,c=[],i={},u=!1;const d=e=>{if(s&&s.labels){const t=s.labels.indexOf(e);return t>-1?s.labels[t]:void 0}};return S((()=>{fe.send("user/list-by-project",{id:o.id},(e=>{e.unshift({id:"",value:ve.get("assign-user")+"..."}),n(3,c=e),n(4,i=function(e){return n(5,u=!!e.begin),n(4,i={suspend:e.suspend||!1,date:(e.dueDate||"")+"",begin:(e.begin||"")+"",title:(e.title||"")+"",description:(e.description||"")+"",idProject:o.id,idUser:(e.assignee?e.assignee.id:"")||"",priority:d("alta")||d("media")||d("baja")||""}),i}(s)),n(1,a=!1)}))})),e.$$set=e=>{"task"in e&&n(0,s=e.task)},[s,a,r,c,i,u,o,function(){s.id,n(4,i.idProject=o.id,i),s.id?function(){if(-1===s.labels.indexOf(i.priority)){const e=[];for(const t in s.labels)-1===["alta","media","baja"].indexOf(s.labels[t])&&e.push(s.labels[t]);e.push(i.priority),n(4,i.labels=e,i)}u||n(4,i.begin=void 0,i),n(4,i.id=s.id,i),n(4,i.idProject=o.id,i),fe.send("task/upd",i,(e=>{if(e&&e.id){const t=be.get(),n=e.assignee.id===t.id?0:1;pe.get("tasks-"+n,[]);const s=pe.get("statistics");s&&s[e.idProject]&&(s[e.idProject]=void 0,pe.set("statistics",s)),pe.set("tasks-0",[]),pe.set("tasks-1",[]),l("EventAdded",{op:"upd",opc:"tasks_"+n})}else fe.send("onError",ve.key(e&&e.message||"err"))}))}():(u||n(4,i.begin=void 0,i),fe.send("task/add",i,(e=>{if(e&&e.id){const t=be.get(),n=e.assignee.id===t.id?0:1,s=pe.get("tasks-"+n,[]),a=pe.get("statistics");a&&a[e.idProject]&&(a[e.idProject]=void 0,pe.set("statistics",a)),s.unshift(e),pe.set("tasks-"+n,s),pe.set("filter_state",0),pe.set("filter_priority",0),l("EventAdded",{op:"add",opc:"tasks_"+n})}else fe.send("onError",ve.key(e&&e.message||"err"))})))},function(e){D[e?"unshift":"push"]((()=>{r=e,n(2,r)}))},function(){i.title=this.value,n(4,i),n(3,c)},function(){i.description=this.value,n(4,i),n(3,c)},function(){i.idUser=E(this),n(4,i),n(3,c)},function(){i.priority=E(this),n(4,i),n(3,c)},function(){u=this.checked,n(5,u)},function(){i.begin=this.value,n(4,i),n(3,c)},function(){i.date=this.value,n(4,i),n(3,c)},function(){i.suspend=this.checked,n(4,i),n(3,c)}]}class Kt extends ae{constructor(e){super(),le(this,e,Xt,Wt,a,{task:0})}}function Qt(t){let n,l,a,o,r,c,i,u,m,v,b,w,j,C,A,E,q,z,P,S,O,T,D,M,N,L,I=t[0].title+"",B=t[0].description+"",F=t[0].dueDate+"";return{c(){n=g("form"),l=g("h3"),l.textContent=`${t[1].name}`,a=$(),o=g("h4"),o.textContent=`${ve.get("delete-task")}`,r=$(),c=g("span"),i=h(I),u=$(),m=g("p"),v=h(B),b=$(),w=g("h4"),w.textContent=`${ve.get("deadline")}`,j=$(),C=g("span"),A=h(F),E=$(),q=g("br"),z=$(),P=g("h4"),P.textContent=`${ve.get("are-you-sure-you-want-to-delete")}`,S=$(),O=g("div"),T=g("input"),D=$(),M=g("button"),M.textContent=`${ve.get("remove")}`,x(o,"class","mb1"),x(c,"class","input mb1 svelte-i0wpt8"),x(m,"class","input mb1 svelte-i0wpt8"),x(w,"class","mb1"),x(C,"class","mb1 svelte-i0wpt8"),x(T,"class","btn"),x(T,"type","button"),T.value=ve.get("cancel"),x(M,"class","btn"),x(M,"type","submit"),x(O,"class","flex mt1"),x(n,"class","p1")},m(e,s){p(e,n,s),d(n,l),d(n,a),d(n,o),d(n,r),d(n,c),d(c,i),d(n,u),d(n,m),d(m,v),d(n,b),d(n,w),d(n,j),d(n,C),d(C,A),d(n,E),d(n,q),d(n,z),d(n,P),d(n,S),d(n,O),d(O,T),d(O,D),d(O,M),N||(L=[k(T,"click",t[3]),k(n,"submit",y(t[2]))],N=!0)},p(e,[t]){1&t&&I!==(I=e[0].title+"")&&_(i,I),1&t&&B!==(B=e[0].description+"")&&_(v,B),1&t&&F!==(F=e[0].dueDate+"")&&_(A,F)},i:e,o:e,d(e){e&&f(n),N=!1,s(L)}}}function Zt(e,t,n){let{task:s={}}=t;const l=O();let a=pe.get("project");return e.$$set=e=>{"task"in e&&n(0,s=e.task)},[s,a,function(){fe.send("task/del",s,(e=>{if(e&&e.id){const t=pe.get("filter_tasks",0);pe.get("tasks-"+t,[]);const n=pe.get("statistics");n&&n[e.idProject]&&(n[e.idProject]=void 0,pe.set("statistics",n)),pe.set("tasks-0",[]),pe.set("tasks-1",[]),l("EventDeleted",{op:"del",opc:"tasks_"+t})}else fe.send("onError",ve.key(e&&e.message||"err"))}))},function(){l("EventDeleted",{opc:"list"})}]}class en extends ae{constructor(e){super(),le(this,e,Zt,Qt,a,{task:0})}}function tn(e,t,n){const s=e.slice();return s[5]=t[n],s[7]=n,s}function nn(e){let t,n,s,l,a,o,r,c=e[5].title+"";function i(){return e[3](e[7])}return{c(){t=g("a"),n=g("i"),l=$(),a=h(c),x(n,"class",s=u(e[5].icon)+" svelte-njfrk6"),x(t,"class","item svelte-njfrk6"),x(t,"href","#option")},m(e,s){p(e,t,s),d(t,n),d(t,l),d(t,a),o||(r=k(t,"click",y(i)),o=!0)},p(t,l){e=t,1&l&&s!==(s=u(e[5].icon)+" svelte-njfrk6")&&x(n,"class",s),1&l&&c!==(c=e[5].title+"")&&_(a,c)},d(e){e&&f(t),o=!1,r()}}}function sn(t){let n,s,l,a,o,r,c=t[0].options,i=[];for(let e=0;e<c.length;e+=1)i[e]=nn(tn(t,c,e));return{c(){n=g("div"),s=g("span"),l=g("i"),o=$(),r=g("div");for(let e=0;e<i.length;e+=1)i[e].c();x(l,"class",a=u(t[1].icon)+" svelte-njfrk6"),x(s,"class","dropbtn svelte-njfrk6"),x(r,"class","dropdown-content svelte-njfrk6"),x(n,"class","dropdown svelte-njfrk6")},m(e,t){p(e,n,t),d(n,s),d(s,l),d(n,o),d(n,r);for(let e=0;e<i.length;e+=1)i[e].m(r,null)},p(e,[t]){if(2&t&&a!==(a=u(e[1].icon)+" svelte-njfrk6")&&x(l,"class",a),5&t){let n;for(c=e[0].options,n=0;n<c.length;n+=1){const s=tn(e,c,n);i[n]?i[n].p(s,t):(i[n]=nn(s),i[n].c(),i[n].m(r,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=c.length}},i:e,o:e,d(e){e&&f(n),m(i,e)}}}function ln(e,t,n){let{btn:s={options:[]}}=t;const l=O();let a={icon:""};const o=e=>{n(0,s.selectedIndex=e,s),n(1,a=s.options[s.selectedIndex]),l("SelectedOption",s)};S((()=>{n(1,a=s.options[s.selectedIndex])}));return e.$$set=e=>{"btn"in e&&n(0,s=e.btn)},[s,a,o,e=>{o(e)}]}class an extends ae{constructor(e){super(),le(this,e,ln,sn,a,{btn:0})}}function on(e,t,n){const s=e.slice();return s[9]=t[n],s}function rn(e,t,n){const s=e.slice();return s[9]=t[n],s}function cn(t){let n,s,l,a,o,r,c;function i(){return t[3](t[9])}return{c(){n=g("span"),s=g("i"),a=$(),x(s,"class",l=u(t[9].icon)+" svelte-1bknspx"),x(n,"class","btn svelte-1bknspx"),x(n,"title",o=t[9].title)},m(e,t){p(e,n,t),d(n,s),d(n,a),r||(c=k(n,"click",i),r=!0)},p(e,a){t=e,1&a&&l!==(l=u(t[9].icon)+" svelte-1bknspx")&&x(s,"class",l),1&a&&o!==(o=t[9].title)&&x(n,"title",o)},i:e,o:e,d(e){e&&f(n),r=!1,c()}}}function un(e){let t,n;return t=new an({props:{btn:e[9]}}),t.$on("SelectedOption",e[1]),{c(){ee(t.$$.fragment)},m(e,s){te(t,e,s),n=!0},p(e,n){const s={};1&n&&(s.btn=e[9]),t.$set(s)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){X(t.$$.fragment,e),n=!1},d(e){ne(t,e)}}}function dn(e){let t,n,s,l;const a=[un,cn],o=[];function r(e,t){return"dropdown"===e[9].type?0:"button"===e[9].type?1:-1}return~(t=r(e))&&(n=o[t]=a[t](e)),{c(){n&&n.c(),s=b()},m(e,n){~t&&o[t].m(e,n),p(e,s,n),l=!0},p(e,l){let c=t;t=r(e),t===c?~t&&o[t].p(e,l):(n&&(Y(),X(o[c],1,1,(()=>{o[c]=null})),G()),~t?(n=o[t],n?n.p(e,l):(n=o[t]=a[t](e),n.c()),W(n,1),n.m(s.parentNode,s)):n=null)},i(e){l||(W(n),l=!0)},o(e){X(n),l=!1},d(e){~t&&o[t].d(e),e&&f(s)}}}function pn(t){let n,s,l,a,o,r,c;function i(){return t[4](t[9])}return{c(){n=g("span"),s=g("i"),a=$(),x(s,"class",l=u(t[9].icon)+" svelte-1bknspx"),x(n,"class","btn svelte-1bknspx"),x(n,"title",o=t[9].title)},m(e,t){p(e,n,t),d(n,s),d(n,a),r||(c=k(n,"click",i),r=!0)},p(e,a){t=e,1&a&&l!==(l=u(t[9].icon)+" svelte-1bknspx")&&x(s,"class",l),1&a&&o!==(o=t[9].title)&&x(n,"title",o)},i:e,o:e,d(e){e&&f(n),r=!1,c()}}}function fn(e){let t,n;return t=new an({props:{btn:e[9]}}),t.$on("EventSeletect",e[1]),{c(){ee(t.$$.fragment)},m(e,s){te(t,e,s),n=!0},p(e,n){const s={};1&n&&(s.btn=e[9]),t.$set(s)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){X(t.$$.fragment,e),n=!1},d(e){ne(t,e)}}}function mn(e){let t,n,s,l;const a=[fn,pn],o=[];function r(e,t){return"dropdown"===e[9].type?0:"button"===e[9].type?1:-1}return~(t=r(e))&&(n=o[t]=a[t](e)),{c(){n&&n.c(),s=b()},m(e,n){~t&&o[t].m(e,n),p(e,s,n),l=!0},p(e,l){let c=t;t=r(e),t===c?~t&&o[t].p(e,l):(n&&(Y(),X(o[c],1,1,(()=>{o[c]=null})),G()),~t?(n=o[t],n?n.p(e,l):(n=o[t]=a[t](e),n.c()),W(n,1),n.m(s.parentNode,s)):n=null)},i(e){l||(W(n),l=!0)},o(e){X(n),l=!1},d(e){~t&&o[t].d(e),e&&f(s)}}}function gn(e){let t,n,s,l,a,o=e[0].left,r=[];for(let t=0;t<o.length;t+=1)r[t]=dn(rn(e,o,t));const c=e=>X(r[e],1,1,(()=>{r[e]=null}));let i=e[0].right,u=[];for(let t=0;t<i.length;t+=1)u[t]=mn(on(e,i,t));const v=e=>X(u[e],1,1,(()=>{u[e]=null}));return{c(){t=g("div"),n=g("div");for(let e=0;e<r.length;e+=1)r[e].c();s=$(),l=g("div");for(let e=0;e<u.length;e+=1)u[e].c();x(n,"class","box-left svelte-1bknspx"),x(l,"class","box-right svelte-1bknspx"),x(t,"class","box-nav svelte-1bknspx")},m(e,o){p(e,t,o),d(t,n);for(let e=0;e<r.length;e+=1)r[e].m(n,null);d(t,s),d(t,l);for(let e=0;e<u.length;e+=1)u[e].m(l,null);a=!0},p(e,[t]){if(3&t){let s;for(o=e[0].left,s=0;s<o.length;s+=1){const l=rn(e,o,s);r[s]?(r[s].p(l,t),W(r[s],1)):(r[s]=dn(l),r[s].c(),W(r[s],1),r[s].m(n,null))}for(Y(),s=o.length;s<r.length;s+=1)c(s);G()}if(3&t){let n;for(i=e[0].right,n=0;n<i.length;n+=1){const s=on(e,i,n);u[n]?(u[n].p(s,t),W(u[n],1)):(u[n]=mn(s),u[n].c(),W(u[n],1),u[n].m(l,null))}for(Y(),n=i.length;n<u.length;n+=1)v(n);G()}},i(e){if(!a){for(let e=0;e<o.length;e+=1)W(r[e]);for(let e=0;e<i.length;e+=1)W(u[e]);a=!0}},o(e){r=r.filter(Boolean);for(let e=0;e<r.length;e+=1)X(r[e]);u=u.filter(Boolean);for(let e=0;e<u.length;e+=1)X(u[e]);a=!1},d(e){e&&f(t),m(r,e),m(u,e)}}}function vn(e,t,n){let{btns:s=""}=t;const l=O();let a={left:{},right:{}};const o={Priority:{type:"dropdown",id:"priority",selectedIndex:pe.get("filter_priority",0),options:[{title:ve.get("all"),icon:"fas fa-square blue"},{title:ve.get("high-priority"),icon:"fas fa-square red"},{title:ve.get("medium-priority"),icon:"fas fa-square yellow"},{title:ve.get("low-priority"),icon:"fas fa-square green"}]},State:{type:"dropdown",id:"state",selectedIndex:pe.get("filter_state",0),options:[{title:ve.get("all"),icon:"far fa-square blue"},{title:ve.get("open"),icon:"far fa-square orange"},{title:ve.get("close"),icon:"far fa-check-square green"}]},Task:{type:"dropdown",id:"tasks",selectedIndex:pe.get("filter_tasks",0),options:[{title:ve.get("assigned"),icon:"far fa-user blue"},{title:ve.get("delegates"),icon:"fas fa-users orange"}]},Add:{type:"button",id:"add",title:ve.get("new-task"),icon:" fas fa-plus blue"},Back:{type:"button",id:"back",title:ve.get("back"),icon:" fas fa-reply blue"}},r=e=>{const t=[],n=e.split(",");for(const e in n)if(o[n[e]]){const s=o[n[e]];s.selectedIndex=pe.get("filter_"+s.id,0),t.push(o[n[e]])}return t},c=e=>{if("string"==typeof e){const t=e.split("/");n(0,a.left=t[0]?r(t[0]):[],a),n(0,a.right=t[0]?r(t[1]):[],a)}return a},i=e=>{e instanceof CustomEvent&&(e=e.detail.id+"_"+e.detail.selectedIndex),l("EventToolsBtns",{opc:e})};S((()=>{n(0,a=c(s))}));return e.$$set=e=>{"btns"in e&&n(2,s=e.btns)},e.$$.update=()=>{4&e.$$.dirty&&n(0,a=c(s))},[a,i,s,e=>i(e.id),e=>i(e.id)]}class hn extends ae{constructor(e){super(),le(this,e,vn,gn,a,{btns:2})}}function $n(e){let t,n;return t=new Ke({props:{id:"Project",label:e[3]}}),t.$on("EventExpand",e[6]),t.$on("EventSelect",e[8]),{c(){ee(t.$$.fragment)},m(e,s){te(t,e,s),n=!0},p(e,n){const s={};8&n&&(s.label=e[3]),t.$set(s)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){X(t.$$.fragment,e),n=!1},d(e){ne(t,e)}}}function bn(e){let t,n;return t=new hn({props:{btns:e[2]}}),t.$on("EventToolsBtns",e[7]),{c(){ee(t.$$.fragment)},m(e,s){te(t,e,s),n=!0},p(e,n){const s={};4&n&&(s.btns=e[2]),t.$set(s)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){X(t.$$.fragment,e),n=!1},d(e){ne(t,e)}}}function kn(t){let n,s;return n=new ue({}),{c(){ee(n.$$.fragment)},m(e,t){te(n,e,t),s=!0},p:e,i(e){s||(W(n.$$.fragment,e),s=!0)},o(e){X(n.$$.fragment,e),s=!1},d(e){ne(n,e)}}}function yn(e){let t,n;return t=new en({props:{task:e[0]}}),t.$on("EventDeleted",e[7]),{c(){ee(t.$$.fragment)},m(e,s){te(t,e,s),n=!0},p(e,n){const s={};1&n&&(s.task=e[0]),t.$set(s)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){X(t.$$.fragment,e),n=!1},d(e){ne(t,e)}}}function xn(e){let t,n;return t=new Kt({props:{task:e[0]}}),t.$on("EventAdded",e[7]),{c(){ee(t.$$.fragment)},m(e,s){te(t,e,s),n=!0},p(e,n){const s={};1&n&&(s.task=e[0]),t.$set(s)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){X(t.$$.fragment,e),n=!1},d(e){ne(t,e)}}}function wn(e){let t,n;return t=new Ht({props:{tasks:e[1],selOpc:e[9]}}),{c(){ee(t.$$.fragment)},m(e,s){te(t,e,s),n=!0},p(e,n){const s={};2&n&&(s.tasks=e[1]),t.$set(s)},i(e){n||(W(t.$$.fragment,e),n=!0)},o(e){X(t.$$.fragment,e),n=!1},d(e){ne(t,e)}}}function _n(e){let t,n,s,l,a,o,r,c,i,m="new"!==e[4]&&$n(e),v="none"!==e[4]&&bn(e);const h=[wn,xn,yn,kn],b=[];function k(e,t){return"list"===e[4]?0:"new"===e[4]||"edit"===e[4]?1:"del"===e[4]?2:"load"===e[4]?3:-1}return~(o=k(e))&&(r=b[o]=h[o](e)),{c(){t=g("header"),m&&m.c(),n=$(),v&&v.c(),l=$(),a=g("main"),r&&r.c(),x(t,"class",s=u(e[5])+" svelte-ob3r67"),x(a,"class",c=u(e[5])+" svelte-ob3r67")},m(e,s){p(e,t,s),m&&m.m(t,null),d(t,n),v&&v.m(t,null),p(e,l,s),p(e,a,s),~o&&b[o].m(a,null),i=!0},p(e,[l]){"new"!==e[4]?m?(m.p(e,l),16&l&&W(m,1)):(m=$n(e),m.c(),W(m,1),m.m(t,n)):m&&(Y(),X(m,1,1,(()=>{m=null})),G()),"none"!==e[4]?v?(v.p(e,l),16&l&&W(v,1)):(v=bn(e),v.c(),W(v,1),v.m(t,null)):v&&(Y(),X(v,1,1,(()=>{v=null})),G()),(!i||32&l&&s!==(s=u(e[5])+" svelte-ob3r67"))&&x(t,"class",s);let d=o;o=k(e),o===d?~o&&b[o].p(e,l):(r&&(Y(),X(b[d],1,1,(()=>{b[d]=null})),G()),~o?(r=b[o],r?r.p(e,l):(r=b[o]=h[o](e),r.c()),W(r,1),r.m(a,null)):r=null),(!i||32&l&&c!==(c=u(e[5])+" svelte-ob3r67"))&&x(a,"class",c)},i(e){i||(W(m),W(v),W(r),i=!0)},o(e){X(m),X(v),X(r),i=!1},d(e){e&&f(t),m&&m.d(),v&&v.d(),e&&f(l),e&&f(a),~o&&b[o].d()}}}function jn(e,t,n){let s={id:0,name:""},l={},a={},o="",r="",c="",i="",u={};const d=e=>{var t;n(3,r=(t=e).id?t.name:ve.get("select-project")),s=e,pe.set("project",s)},p=e=>{if("list"===e){if(!s.id)return n(4,c="none");n(2,o="Priority,State,Task/Add")}else"new"===e?(n(0,l={}),n(2,o="Back/")):n(2,o="edit"===e?"Back/":"");n(4,c=e),"function"==typeof u.set&&u.set(o)},f=(e,t)=>{fe.send("task/list-data-"+e,s,(n=>{pe.set("tasks-"+e,n),m(n,t)}))},m=(e,t)=>{e=(e=>{const t=[],n=pe.get("filter_priority",0);if(0===n)return e;for(const s in e)(1===n&&e[s].labels.indexOf("alta")>-1||2===n&&e[s].labels.indexOf("media")>-1||3===n&&e[s].labels.indexOf("baja")>-1)&&t.push(e[s]);return t})(e=(e=>{const t=[],n=pe.get("filter_state",0);if(0===n)return e;for(const s in e)(1===n&&"opened"===e[s].state||2===n&&"closed"===e[s].state)&&t.push(e[s]);return t})(e)),n(1,a=e),t("list")},g=e=>{const t=pe.get("filter_tasks",0);let n=pe.get("tasks-"+t,[]);n&&n.length?m(n,e):(p("load"),f(t,(()=>{e("list")})))},v=e=>{((e,t)=>{const n=e.split("_");n.length>1?(pe.set("filter_"+n[0],parseInt(n[1])),g(t)):t(e)})(e,(e=>{p("add"===e?"new":"back"===e?"list":e)}))};function h(e){for(const t in a)if(a[t].id===e)return a[t];return{}}return S((()=>{d(pe.get("project",s)),p("load"),f(pe.get("filter_tasks",0),(()=>{p("list")}))})),[l,a,o,r,c,i,e=>{n(5,i=e.detail?"expand":"")},e=>{const t=e.detail;"function"==typeof t.set&&(u=t,u.set(o)),t.op?(t.op,g((()=>{p("list")}))):t.opc&&v(t.opc)},e=>{const t=e.detail;t.data?(d(t.data),p("load"),f(pe.get("filter_tasks",0),(()=>{p("list")}))):fe.send("project/search",{key:t.value},t.fun)},e=>{const t=e.split(":");"E"===t[0]?(n(0,l=h(parseInt(t[1]))),p("edit")):"D"===t[0]&&(n(0,l=h(parseInt(t[1]))),p("del"))}]}class Cn extends ae{constructor(e){super(),le(this,e,jn,_n,a,{})}}function An(e,t,n){const s=e.slice();return s[18]=t[n],s[20]=n,s}function En(e,t,n){const s=e.slice();return s[21]=t[n],s[23]=n,s}function qn(e,t,n){const s=e.slice();return s[24]=t[n],s}function zn(e,t,n){const s=e.slice();return s[24]=t[n],s}function Pn(e,t,n){const s=e.slice();return s[24]=t[n],s}function Sn(e,t,n){const s=e.slice();return s[31]=t[n],s[33]=n,s}function On(e,t){let n,s,l=t[6][(t[33]+t[2])%7]+"";return{key:e,first:null,c(){n=g("span"),s=h(l),x(n,"class","label svelte-3z4zxq"),this.first=n},m(e,t){p(e,n,t),d(n,s)},p(e,n){t=e,4&n[0]&&l!==(l=t[6][(t[33]+t[2])%7]+"")&&_(s,l)},d(e){e&&f(n)}}}function Tn(e){let t,n=[],s=new Map,l={length:7};const a=e=>e[23];for(let t=0;t<l.length;t+=1){let o=En(e,l,t),r=a(o);s.set(r,n[t]=Fn(r,o))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=b()},m(e,s){for(let t=0;t<n.length;t+=1)n[t].m(e,s);p(e,t,s)},p(e,o){3128&o[0]&&(l={length:7},n=Z(n,o,a,1,e,l,s,t.parentNode,Q,Fn,t,En))},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&f(t)}}}function Dn(e){let t,n,s,l,a,o=e[5][0][e[23]]+"",r=e[11](e[5][0][e[23]]),c=[];for(let t=0;t<r.length;t+=1)c[t]=Ln(qn(e,r,t));return{c(){t=g("span"),n=g("span"),s=h(o),l=$();for(let e=0;e<c.length;e+=1)c[e].c();a=$(),x(n,"class","day svelte-3z4zxq"),x(t,"class","date other svelte-3z4zxq")},m(e,o){p(e,t,o),d(t,n),d(n,s),d(t,l);for(let e=0;e<c.length;e+=1)c[e].m(t,null);d(t,a)},p(e,n){if(32&n[0]&&o!==(o=e[5][0][e[23]]+"")&&_(s,o),2080&n[0]){let s;for(r=e[11](e[5][0][e[23]]),s=0;s<r.length;s+=1){const l=qn(e,r,s);c[s]?c[s].p(l,n):(c[s]=Ln(l),c[s].c(),c[s].m(t,a))}for(;s<c.length;s+=1)c[s].d(1);c.length=r.length}},d(e){e&&f(t),m(c,e)}}}function Mn(e){let t,n,s,l,a,o=e[3][e[3].length-1][e[23]]+"",r=e[11](e[3][e[3].length-1][e[23]]),c=[];for(let t=0;t<r.length;t+=1)c[t]=In(zn(e,r,t));return{c(){t=g("span"),n=g("span"),s=h(o),l=$();for(let e=0;e<c.length;e+=1)c[e].c();a=$(),x(n,"class","day svelte-3z4zxq"),x(t,"class","date other svelte-3z4zxq")},m(e,o){p(e,t,o),d(t,n),d(n,s),d(t,l);for(let e=0;e<c.length;e+=1)c[e].m(t,null);d(t,a)},p(e,n){if(8&n[0]&&o!==(o=e[3][e[3].length-1][e[23]]+"")&&_(s,o),2056&n[0]){let s;for(r=e[11](e[3][e[3].length-1][e[23]]),s=0;s<r.length;s+=1){const l=zn(e,r,s);c[s]?c[s].p(l,n):(c[s]=In(l),c[s].c(),c[s].m(t,a))}for(;s<c.length;s+=1)c[s].d(1);c.length=r.length}},d(e){e&&f(t),m(c,e)}}}function Nn(e){let t,n,s,l,a,o=e[4][e[20]][e[23]]+"",r=e[11](e[4][e[20]][e[23]]),c=[];for(let t=0;t<r.length;t+=1)c[t]=Bn(Pn(e,r,t));return{c(){t=g("span"),n=g("span"),s=h(o),l=$();for(let e=0;e<c.length;e+=1)c[e].c();a=$(),x(n,"class","day svelte-3z4zxq"),x(t,"class","date svelte-3z4zxq"),q(t,"today",e[10](e[4][e[20]][e[23]]))},m(e,o){p(e,t,o),d(t,n),d(n,s),d(t,l);for(let e=0;e<c.length;e+=1)c[e].m(t,null);d(t,a)},p(e,n){if(16&n[0]&&o!==(o=e[4][e[20]][e[23]]+"")&&_(s,o),2064&n[0]){let s;for(r=e[11](e[4][e[20]][e[23]]),s=0;s<r.length;s+=1){const l=Pn(e,r,s);c[s]?c[s].p(l,n):(c[s]=Bn(l),c[s].c(),c[s].m(t,a))}for(;s<c.length;s+=1)c[s].d(1);c.length=r.length}1040&n[0]&&q(t,"today",e[10](e[4][e[20]][e[23]]))},d(e){e&&f(t),m(c,e)}}}function Ln(e){let t;return{c(){t=g("span"),x(t,"class","point svelte-3z4zxq"),C(t,"background-color",e[24])},m(e,n){p(e,t,n)},p(e,n){32&n[0]&&C(t,"background-color",e[24])},d(e){e&&f(t)}}}function In(e){let t;return{c(){t=g("span"),x(t,"class","point svelte-3z4zxq"),C(t,"background-color",e[24])},m(e,n){p(e,t,n)},p(e,n){8&n[0]&&C(t,"background-color",e[24])},d(e){e&&f(t)}}}function Bn(e){let t;return{c(){t=g("span"),x(t,"class","point svelte-3z4zxq"),C(t,"background-color",e[24])},m(e,n){p(e,t,n)},p(e,n){16&n[0]&&C(t,"background-color",e[24])},d(e){e&&f(t)}}}function Fn(e,t){let n,s;function l(e,t){return 0!=e[4][e[20]][e[23]]?Nn:e[20]<1?Mn:Dn}let a=l(t),o=a(t);return{key:e,first:null,c(){n=b(),o.c(),s=b(),this.first=n},m(e,t){p(e,n,t),o.m(e,t),p(e,s,t)},p(e,n){a===(a=l(t=e))&&o?o.p(t,n):(o.d(1),o=a(t),o&&(o.c(),o.m(s.parentNode,s)))},d(e){e&&f(n),o.d(e),e&&f(s)}}}function Un(e,t){let n,s,l=t[4][t[20]]&&Tn(t);return{key:e,first:null,c(){n=b(),l&&l.c(),s=b(),this.first=n},m(e,t){p(e,n,t),l&&l.m(e,t),p(e,s,t)},p(e,n){(t=e)[4][t[20]]?l?l.p(t,n):(l=Tn(t),l.c(),l.m(s.parentNode,s)):l&&(l.d(1),l=null)},d(e){e&&f(n),l&&l.d(e),e&&f(s)}}}function Hn(t){let n,l,a,o,r,c,i,u,m,v,b,y,w,j,C=t[7][t[1]]+"",A=[],E=new Map,q=[],z=new Map,P=t[6];const S=e=>e[31];for(let e=0;e<P.length;e+=1){let n=Sn(t,P,e),s=S(n);E.set(s,A[e]=On(s,n))}let O={length:6};const T=e=>e[20];for(let e=0;e<O.length;e+=1){let n=An(t,O,e),s=T(n);z.set(s,q[e]=Un(s,n))}return{c(){n=g("header"),l=g("span"),l.innerHTML='<i class="fas fa-arrow-circle-left"></i>',a=$(),o=g("h4"),r=h(C),c=$(),i=h(t[0]),u=$(),m=g("span"),m.innerHTML='<i class="fas fa-arrow-circle-right"></i>',v=$(),b=g("div");for(let e=0;e<A.length;e+=1)A[e].c();y=$();for(let e=0;e<q.length;e+=1)q[e].c();x(l,"class","svelte-3z4zxq"),x(o,"class","svelte-3z4zxq"),x(m,"class","svelte-3z4zxq"),x(n,"class","svelte-3z4zxq"),x(b,"class","month svelte-3z4zxq")},m(e,s){p(e,n,s),d(n,l),d(n,a),d(n,o),d(o,r),d(o,c),d(o,i),d(n,u),d(n,m),p(e,v,s),p(e,b,s);for(let e=0;e<A.length;e+=1)A[e].m(b,null);d(b,y);for(let e=0;e<q.length;e+=1)q[e].m(b,null);w||(j=[k(l,"click",t[8]),k(m,"click",t[9])],w=!0)},p(e,t){2&t[0]&&C!==(C=e[7][e[1]]+"")&&_(r,C),1&t[0]&&_(i,e[0]),68&t[0]&&(P=e[6],A=Z(A,t,S,1,e,P,E,b,Q,On,y,Sn)),3128&t[0]&&(O={length:6},q=Z(q,t,T,1,e,O,z,b,Q,Un,null,An))},i:e,o:e,d(e){e&&f(n),e&&f(v),e&&f(b);for(let e=0;e<A.length;e+=1)A[e].d();for(let e=0;e<q.length;e+=1)q[e].d();w=!1,s(j)}}}function Rn(e,t){for(var n,s=0,l=0,a=[],o=new Date(e||new Date),r=o.getFullYear(),c=o.getMonth(),i=new Date(r,c,1-(0|t)).getDay(),u=new Date(r,c+1,0).getDate();s<u;){for(l=0,n=Array(7);l<7;){for(;l<i;)n[l++]=0;n[l++]=++s>u?0:s,i=0}a.push(n)}return a}function Vn(e,t,n){let s,l,a,o=new Date,{year:r=o.getFullYear}=t,{month:c=o.getMonth()}=t,{offset:i=0}=t,{today:u=new Date}=t,{dates:d=[]}=t,p=("es"===ve.id?"Dom,Lun,Mar,Mir,Jue,Vie,Sab":"Sun,Mon,Tue,Wed,Thu,Fri,Sat").split(","),f=("es"===ve.id?"Ene,Feb,Mar,Abr,May,Jun,Jul,Ago,Sep,Oct,Nov,Dic":"Jan,Feb,Mar,Apr,May,Jun,July,Aug,Sep,Oct,Nov,Dec").split(","),m=Rn(new Date(r,c-1),i),g=Rn(new Date(r,c),i),v=Rn(new Date(r,c+1),i);return e.$$set=e=>{"year"in e&&n(0,r=e.year),"month"in e&&n(1,c=e.month),"offset"in e&&n(2,i=e.offset),"today"in e&&n(12,u=e.today),"dates"in e&&n(13,d=e.dates)},e.$$.update=()=>{4096&e.$$.dirty[0]&&(s=u&&u.getMonth()),4096&e.$$.dirty[0]&&(l=u&&u.getFullYear()),4096&e.$$.dirty[0]&&(a=u&&u.getDate())},[r,c,i,m,g,v,p,f,function(){n(4,[g,v]=[m,g],g,n(5,v)),n(1,--c)<0&&(n(1,c=11),n(0,r--,r)),n(3,m=Rn(new Date(r,c-1),i))},function(){n(3,[m,g]=[g,v],m,n(4,g)),n(1,++c)>11&&(n(1,c=0),n(0,r++,r)),n(5,v=Rn(new Date(r,c+1),i))},function(e){return u&&l===r&&s===c&&a===e},function(e){let t=c+1;t=(t>9?"":"0")+t;const n=r+"-"+t+"-"+((e>9?"":"0")+e);return d[n]?d[n]:[]},u,d]}class Jn extends ae{constructor(e){super(),le(this,e,Vn,Hn,a,{year:0,month:1,offset:2,today:12,dates:13},null,[-1,-1])}}function Yn(e,t,n){const s=e.slice();return s[6]=t[n],s}function Gn(e){let t,n,s,l,a;function o(e,t){return e[2].length?Kn:Xn}n=new Jn({props:{today:e[3],year:e[3].getFullYear(),dates:e[0]}});let r=o(e),c=r(e);return{c(){t=g("div"),ee(n.$$.fragment),s=$(),c.c(),l=b(),x(t,"class","calendar mb2")},m(e,o){p(e,t,o),te(n,t,null),p(e,s,o),c.m(e,o),p(e,l,o),a=!0},p(e,t){const s={};1&t&&(s.dates=e[0]),n.$set(s),r===(r=o(e))&&c?c.p(e,t):(c.d(1),c=r(e),c&&(c.c(),c.m(l.parentNode,l)))},i(e){a||(W(n.$$.fragment,e),a=!0)},o(e){X(n.$$.fragment,e),a=!1},d(e){e&&f(t),ne(n),e&&f(s),c.d(e),e&&f(l)}}}function Wn(t){let n,s;return n=new ue({}),{c(){ee(n.$$.fragment)},m(e,t){te(n,e,t),s=!0},p:e,i(e){s||(W(n.$$.fragment,e),s=!0)},o(e){X(n.$$.fragment,e),s=!1},d(e){ne(n,e)}}}function Xn(t){let n,s=ve.get("there-are-no-pending-activities")+"";return{c(){n=h(s)},m(e,t){p(e,n,t)},p:e,d(e){e&&f(n)}}}function Kn(e){let t,n=e[2],s=[];for(let t=0;t<n.length;t+=1)s[t]=Qn(Yn(e,n,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=b()},m(e,n){for(let t=0;t<s.length;t+=1)s[t].m(e,n);p(e,t,n)},p(e,l){if(20&l){let a;for(n=e[2],a=0;a<n.length;a+=1){const o=Yn(e,n,a);s[a]?s[a].p(o,l):(s[a]=Qn(o),s[a].c(),s[a].m(t.parentNode,t))}for(;a<s.length;a+=1)s[a].d(1);s.length=n.length}},d(e){m(s,e),e&&f(t)}}}function Qn(e){let t,n,s,l,a,o,r,c,i,u,m,v,b,y,w,j,A,E,q,z,P,S,O=e[6].project.value+"",T=ve.get("pending")+"",D=e[6].opened+"",M=ve.get("paused")+"",N=e[6].paused+"";function L(){return e[5](e[6])}return{c(){t=g("div"),n=g("span"),s=$(),l=g("div"),a=g("div"),o=h(O),r=$(),c=g("span"),c.innerHTML='<i class="fa-solid fa-arrow-up-right-from-square"></i>',i=$(),u=g("div"),m=g("span"),v=h(T),b=h(": "),y=h(D),w=$(),j=g("span"),A=h(M),E=h(": "),q=h(N),z=$(),x(n,"class","square svelte-1srmlxo"),C(n,"background-color",e[6].color),x(a,"class","project-title svelte-1srmlxo"),x(c,"class","svelte-1srmlxo"),x(l,"class","project-head"),x(m,"class"," svelte-1srmlxo"),x(j,"class","svelte-1srmlxo"),x(u,"class","project-info svelte-1srmlxo"),x(t,"class","project-card issues svelte-1srmlxo")},m(e,f){p(e,t,f),d(t,n),d(t,s),d(t,l),d(l,a),d(a,o),d(l,r),d(l,c),d(t,i),d(t,u),d(u,m),d(m,v),d(m,b),d(m,y),d(u,w),d(u,j),d(j,A),d(j,E),d(j,q),d(t,z),P||(S=k(c,"click",L),P=!0)},p(t,s){e=t,4&s&&C(n,"background-color",e[6].color),4&s&&O!==(O=e[6].project.value+"")&&_(o,O),4&s&&D!==(D=e[6].opened+"")&&_(y,D),4&s&&N!==(N=e[6].paused+"")&&_(q,N)},d(e){e&&f(t),P=!1,S()}}}function Zn(e){let t,n,s,l;const a=[Wn,Gn],o=[];function r(e,t){return e[1]?0:1}return t=r(e),n=o[t]=a[t](e),{c(){n.c(),s=b()},m(e,n){o[t].m(e,n),p(e,s,n),l=!0},p(e,[l]){let c=t;t=r(e),t===c?o[t].p(e,l):(Y(),X(o[c],1,1,(()=>{o[c]=null})),G(),n=o[t],n?n.p(e,l):(n=o[t]=a[t](e),n.c()),W(n,1),n.m(s.parentNode,s))},i(e){l||(W(n),l=!0)},o(e){X(n),l=!1},d(e){o[t].d(e),e&&f(s)}}}function es(e,t,n){const s=new Date;let l={},a=!0,o=[];const r=(e,t)=>{pe.set("project",{id:t.id,name:t.value}),he.put("tasks")};S((()=>{fe.send("activity/issues",(e=>{n(2,o=e);for(const e in o)if(o[e].due)for(const t in o[e].due)l[o[e].due[t]]||n(0,l[o[e].due[t]]=[],l),l[o[e].due[t]].push(o[e].color);n(1,a=!1)}))}));return[l,a,o,s,r,e=>r(0,e.project)]}class ts extends ae{constructor(e){super(),le(this,e,es,Zn,a,{})}}function ns(e,t,n){const s=e.slice();return s[28]=t[n],s[30]=n,s}function ss(e,t,n){const s=e.slice();return s[31]=t[n],s}function ls(e,t,n){const s=e.slice();return s[28]=t[n],s[30]=n,s}function as(e,t,n){const s=e.slice();return s[38]=t[n],s}function os(e,t,n){const s=e.slice();return s[35]=t[n],s[37]=n,s}function rs(e){let t,n,l,a,o,r,i,v,b,y,w,j,C,A,E,q,z,P,S,O,T,D,M,N,L,I,B,F,U,H,R,V,J,Y,G,K,Q,Z,se,le,ae,oe,re,ce,ie,ue,de,pe,fe,me,ge,he,$e,be,ke,ye,xe,we,_e,je,Ce,Ae,Ee,qe,ze,Pe,Se,Oe,Te,De,Me,Ne,Le,Ie,Be,Fe=e[3].title+"",Ue=e[3].author.username+"",He=e[3].project.name+"",Re=e[3].description+"",Ve=e[3].dueDate+"",Je=e[3].priority+"",Ye=ve.get("comments")+"",Ge=e[3].comments+"",We=e[3].assignee&&e[3].assignee.id!==e[3].author.id&&is(e);ge=new st({props:{value:e[3].progress,color:"cyan"}});let Xe=e[7].length&&us(e),Ke=e[6],Qe=[];for(let t=0;t<Ke.length;t+=1)Qe[t]=$s(ss(e,Ke,t));function Ze(e,t){return e[2]?ks:"opened"===e[3].state?bs:void 0}let et=Ze(e),tt=et&&et(e);return{c(){t=g("div"),n=g("div"),l=g("div"),a=g("div"),o=g("button"),r=$(),i=g("img"),y=$(),w=g("h2"),j=h(Fe),C=$(),A=g("div"),E=h(e[8]),z=$(),P=g("hr"),S=$(),O=g("div"),T=g("div"),D=g("div"),M=g("strong"),M.textContent=`${ve.get("author")}`,N=$(),L=g("img"),B=$(),F=g("div"),U=h(Ue),H=$(),We&&We.c(),R=$(),V=g("div"),J=g("strong"),J.textContent=`${ve.get("project")}:`,Y=$(),G=g("p"),K=h(He),Q=$(),Z=g("strong"),Z.textContent=`${ve.get("description")}:`,se=$(),le=g("p"),ae=h(Re),oe=$(),re=g("strong"),re.textContent=`${ve.get("deadline")}:`,ce=$(),ie=g("p"),ue=h(Ve),de=$(),pe=g("strong"),pe.textContent=`${ve.get("progress-percentage")}:`,fe=$(),me=g("div"),ee(ge.$$.fragment),he=$(),$e=g("strong"),$e.textContent=`${ve.get("priority")}:`,be=$(),ke=g("div"),ye=g("div"),xe=h(Je),_e=$(),Xe&&Xe.c(),je=$(),Ce=g("br"),Ae=$(),Ee=g("hr"),qe=$(),ze=g("div"),Pe=g("h2"),Se=h(Ye),Oe=h(" ("),Te=h(Ge),De=h(")"),Me=$();for(let e=0;e<Qe.length;e+=1)Qe[e].c();Ne=$(),tt&&tt.c(),x(o,"class","modal-close svelte-1406aft"),x(o,"aria-label","Close modal"),c(i.src,v=e[12])||x(i,"src",v),x(i,"alt",""),x(i,"class","svelte-1406aft"),x(a,"class","modal-content svelte-1406aft"),x(l,"class","modal-body svelte-1406aft"),x(n,"class","modal-wrap svelte-1406aft"),x(t,"class",b="modal-bg "+e[11]+" svelte-1406aft"),x(w,"class","mb2"),x(A,"class",q=u(e[3].state)+" svelte-1406aft"),x(P,"class","svelte-1406aft"),x(M,"class","mb1"),c(L.src,I=e[3].author.avatar_url)||x(L,"src",I),x(L,"alt",""),x(L,"class","svelte-1406aft"),x(D,"class","text-center svelte-1406aft"),x(T,"class","user svelte-1406aft"),x(G,"class","input mb1 svelte-1406aft"),x(le,"class","input mb1 svelte-1406aft"),x(ie,"class","input mb2 svelte-1406aft"),x(me,"class","progress"),x(ye,"class",we="tag "+e[3].priority+" svelte-1406aft"),x(ke,"class","mb2"),x(V,"class","task svelte-1406aft"),x(O,"class","flex mt1"),x(Ee,"class","svelte-1406aft"),x(Pe,"class","mb3")},m(s,c){p(s,t,c),d(t,n),d(n,l),d(l,a),d(a,o),d(a,r),d(a,i),p(s,y,c),p(s,w,c),d(w,j),p(s,C,c),p(s,A,c),d(A,E),p(s,z,c),p(s,P,c),p(s,S,c),p(s,O,c),d(O,T),d(T,D),d(D,M),d(D,N),d(D,L),d(D,B),d(D,F),d(F,U),d(T,H),We&&We.m(T,null),d(O,R),d(O,V),d(V,J),d(V,Y),d(V,G),d(G,K),d(V,Q),d(V,Z),d(V,se),d(V,le),d(le,ae),d(V,oe),d(V,re),d(V,ce),d(V,ie),d(ie,ue),d(V,de),d(V,pe),d(V,fe),d(V,me),te(ge,me,null),d(V,he),d(V,$e),d(V,be),d(V,ke),d(ke,ye),d(ye,xe),d(V,_e),Xe&&Xe.m(V,null),d(V,je),d(V,Ce),p(s,Ae,c),p(s,Ee,c),p(s,qe,c),p(s,ze,c),d(ze,Pe),d(Pe,Se),d(Pe,Oe),d(Pe,Te),d(Pe,De),d(ze,Me);for(let e=0;e<Qe.length;e+=1)Qe[e].m(ze,null);d(ze,Ne),tt&&tt.m(ze,null),Le=!0,Ie||(Be=[k(o,"click",e[18]),k(t,"click",e[18])],Ie=!0)},p(e,n){(!Le||4096&n[0]&&!c(i.src,v=e[12]))&&x(i,"src",v),(!Le||2048&n[0]&&b!==(b="modal-bg "+e[11]+" svelte-1406aft"))&&x(t,"class",b),(!Le||8&n[0])&&Fe!==(Fe=e[3].title+"")&&_(j,Fe),(!Le||256&n[0])&&_(E,e[8]),(!Le||8&n[0]&&q!==(q=u(e[3].state)+" svelte-1406aft"))&&x(A,"class",q),(!Le||8&n[0]&&!c(L.src,I=e[3].author.avatar_url))&&x(L,"src",I),(!Le||8&n[0])&&Ue!==(Ue=e[3].author.username+"")&&_(U,Ue),e[3].assignee&&e[3].assignee.id!==e[3].author.id?We?We.p(e,n):(We=is(e),We.c(),We.m(T,null)):We&&(We.d(1),We=null),(!Le||8&n[0])&&He!==(He=e[3].project.name+"")&&_(K,He),(!Le||8&n[0])&&Re!==(Re=e[3].description+"")&&_(ae,Re),(!Le||8&n[0])&&Ve!==(Ve=e[3].dueDate+"")&&_(ue,Ve);const s={};if(8&n[0]&&(s.value=e[3].progress),ge.$set(s),(!Le||8&n[0])&&Je!==(Je=e[3].priority+"")&&_(xe,Je),(!Le||8&n[0]&&we!==(we="tag "+e[3].priority+" svelte-1406aft"))&&x(ye,"class",we),e[7].length?Xe?Xe.p(e,n):(Xe=us(e),Xe.c(),Xe.m(V,je)):Xe&&(Xe.d(1),Xe=null),(!Le||8&n[0])&&Ge!==(Ge=e[3].comments+"")&&_(Te,Ge),131152&n[0]){let t;for(Ke=e[6],t=0;t<Ke.length;t+=1){const s=ss(e,Ke,t);Qe[t]?Qe[t].p(s,n):(Qe[t]=$s(s),Qe[t].c(),Qe[t].m(ze,Ne))}for(;t<Qe.length;t+=1)Qe[t].d(1);Qe.length=Ke.length}et===(et=Ze(e))&&tt?tt.p(e,n):(tt&&tt.d(1),tt=et&&et(e),tt&&(tt.c(),tt.m(ze,null)))},i(e){Le||(W(ge.$$.fragment,e),Le=!0)},o(e){X(ge.$$.fragment,e),Le=!1},d(e){e&&f(t),e&&f(y),e&&f(w),e&&f(C),e&&f(A),e&&f(z),e&&f(P),e&&f(S),e&&f(O),We&&We.d(),ne(ge),Xe&&Xe.d(),e&&f(Ae),e&&f(Ee),e&&f(qe),e&&f(ze),m(Qe,e),tt&&tt.d(),Ie=!1,s(Be)}}}function cs(t){let n,s;return n=new ue({}),{c(){ee(n.$$.fragment)},m(e,t){te(n,e,t),s=!0},p:e,i(e){s||(W(n.$$.fragment,e),s=!0)},o(e){X(n.$$.fragment,e),s=!1},d(e){ne(n,e)}}}function is(e){let t,n,s,l,a,o,r,i,u,m,v=e[3].assignee.username+"";return{c(){t=g("hr"),n=$(),s=g("div"),l=g("strong"),l.textContent=`${ve.get("assign")}`,a=$(),o=g("img"),i=$(),u=g("div"),m=h(v),x(t,"class","mt2 svelte-1406aft"),x(l,"class","mb1"),c(o.src,r=e[3].assignee.avatar_url)||x(o,"src",r),x(o,"alt",""),x(o,"class","svelte-1406aft"),x(s,"class","text-center mt2 svelte-1406aft")},m(e,r){p(e,t,r),p(e,n,r),p(e,s,r),d(s,l),d(s,a),d(s,o),d(s,i),d(s,u),d(u,m)},p(e,t){8&t[0]&&!c(o.src,r=e[3].assignee.avatar_url)&&x(o,"src",r),8&t[0]&&v!==(v=e[3].assignee.username+"")&&_(m,v)},d(e){e&&f(t),e&&f(n),e&&f(s)}}}function us(e){let t,n,s;function l(e,t){return e[7].length>5&&!e[1]?ps:ds}let a=l(e),o=a(e);return{c(){t=g("strong"),t.textContent=`${ve.get("logs")}:`,n=$(),s=g("ul"),o.c(),x(s,"class","ml3 fs-8px")},m(e,l){p(e,t,l),p(e,n,l),p(e,s,l),o.m(s,null)},p(e,t){a===(a=l(e))&&o?o.p(e,t):(o.d(1),o=a(e),o&&(o.c(),o.m(s,null)))},d(e){e&&f(t),e&&f(n),e&&f(s),o.d()}}}function ds(e){let t,n,s=e[7],l=[];for(let t=0;t<s.length;t+=1)l[t]=fs(as(e,s,t));let a=e[1]&&ms(e);return{c(){for(let e=0;e<l.length;e+=1)l[e].c();t=$(),a&&a.c(),n=b()},m(e,s){for(let t=0;t<l.length;t+=1)l[t].m(e,s);p(e,t,s),a&&a.m(e,s),p(e,n,s)},p(e,o){if(128&o[0]){let n;for(s=e[7],n=0;n<s.length;n+=1){const a=as(e,s,n);l[n]?l[n].p(a,o):(l[n]=fs(a),l[n].c(),l[n].m(t.parentNode,t))}for(;n<l.length;n+=1)l[n].d(1);l.length=s.length}e[1]?a?a.p(e,o):(a=ms(e),a.c(),a.m(n.parentNode,n)):a&&(a.d(1),a=null)},d(e){m(l,e),e&&f(t),a&&a.d(e),e&&f(n)}}}function ps(e){let t,n,s,l,a=Array(5),o=[];for(let t=0;t<a.length;t+=1)o[t]=gs(os(e,a,t));return{c(){for(let e=0;e<o.length;e+=1)o[e].c();t=$(),n=g("a"),n.textContent=`${ve.get("show-more")}...`,x(n,"href","#none"),x(n,"class","show-logs svelte-1406aft")},m(a,r){for(let e=0;e<o.length;e+=1)o[e].m(a,r);p(a,t,r),p(a,n,r),s||(l=k(n,"click",y(e[15])),s=!0)},p(e,n){if(128&n[0]){let s;for(a=Array(5),s=0;s<a.length;s+=1){const l=os(e,a,s);o[s]?o[s].p(l,n):(o[s]=gs(l),o[s].c(),o[s].m(t.parentNode,t))}for(;s<o.length;s+=1)o[s].d(1);o.length=a.length}},d(e){m(o,e),e&&f(t),e&&f(n),s=!1,l()}}}function fs(e){let t,n,s,l,a=e[38].createdAt+"",o=e[38].body+"";return{c(){t=g("li"),n=h(a),s=h(" - "),l=h(o),x(t,"class","fs8px")},m(e,a){p(e,t,a),d(t,n),d(t,s),d(t,l)},p(e,t){128&t[0]&&a!==(a=e[38].createdAt+"")&&_(n,a),128&t[0]&&o!==(o=e[38].body+"")&&_(l,o)},d(e){e&&f(t)}}}function ms(t){let n,s,l;return{c(){n=g("a"),n.textContent=`${ve.get("show-less")}...`,x(n,"href","#none"),x(n,"class","show-logs svelte-1406aft")},m(e,a){p(e,n,a),s||(l=k(n,"click",y(t[15])),s=!0)},p:e,d(e){e&&f(n),s=!1,l()}}}function gs(e){let t,n,s,l,a=e[7][e[37]].createdAt+"",o=e[7][e[37]].body+"";return{c(){t=g("li"),n=h(a),s=h(" - "),l=h(o),x(t,"class","fs8px")},m(e,a){p(e,t,a),d(t,n),d(t,s),d(t,l)},p(e,t){128&t[0]&&a!==(a=e[7][e[37]].createdAt+"")&&_(n,a),128&t[0]&&o!==(o=e[7][e[37]].body+"")&&_(l,o)},d(e){e&&f(t)}}}function vs(e){let t,n=e[31].images,s=[];for(let t=0;t<n.length;t+=1)s[t]=hs(ls(e,n,t));return{c(){t=g("div");for(let e=0;e<s.length;e+=1)s[e].c();x(t,"class","comment-images mt2 svelte-1406aft")},m(e,n){p(e,t,n);for(let e=0;e<s.length;e+=1)s[e].m(t,null)},p(e,l){if(131152&l[0]){let a;for(n=e[31].images,a=0;a<n.length;a+=1){const o=ls(e,n,a);s[a]?s[a].p(o,l):(s[a]=hs(o),s[a].c(),s[a].m(t,null))}for(;a<s.length;a+=1)s[a].d(1);s.length=n.length}},d(e){e&&f(t),m(s,e)}}}function hs(e){let t,n,s,l,a,o;function r(){return e[19](e[31],e[28])}return{c(){t=g("span"),n=g("img"),l=$(),c(n.src,s=e[4].host+e[31].urlPath+e[28])||x(n,"src",s),x(n,"alt","d"),x(n,"class","svelte-1406aft"),x(t,"class","comment-image svelte-1406aft")},m(e,s){p(e,t,s),d(t,n),d(t,l),a||(o=k(n,"click",r),a=!0)},p(t,l){e=t,80&l[0]&&!c(n.src,s=e[4].host+e[31].urlPath+e[28])&&x(n,"src",s)},d(e){e&&f(t),a=!1,o()}}}function $s(e){let t,n,s,l,a,o,r,i,u,m,v,b,k,y,w,j,C,A,E,q,z,P,S=e[31].author.username+"",O=e[31].createdAt+"",T=e[31].body+"",D=e[31].images.length&&vs(e);return{c(){t=g("div"),n=g("div"),s=g("div"),l=g("img"),o=$(),r=g("div"),i=h(S),u=$(),m=g("div"),v=g("strong"),v.textContent=`${ve.get("created-at")}:`,b=$(),k=g("div"),y=h(O),w=$(),j=g("strong"),j.textContent=`${ve.get("comment")}:`,C=$(),A=g("div"),E=h(T),q=$(),D&&D.c(),z=$(),P=g("hr"),c(l.src,a=e[31].author.avatar_url)||x(l,"src",a),x(l,"alt",""),x(l,"class","svelte-1406aft"),x(s,"class","text-center svelte-1406aft"),x(n,"class","user svelte-1406aft"),x(k,"class","input svelte-1406aft"),x(A,"class","input svelte-1406aft"),x(m,"class","task svelte-1406aft"),x(t,"class","flex mb2"),x(P,"class","mb2 svelte-1406aft")},m(e,a){p(e,t,a),d(t,n),d(n,s),d(s,l),d(s,o),d(s,r),d(r,i),d(t,u),d(t,m),d(m,v),d(m,b),d(m,k),d(k,y),d(m,w),d(m,j),d(m,C),d(m,A),d(A,E),d(m,q),D&&D.m(m,null),p(e,z,a),p(e,P,a)},p(e,t){64&t[0]&&!c(l.src,a=e[31].author.avatar_url)&&x(l,"src",a),64&t[0]&&S!==(S=e[31].author.username+"")&&_(i,S),64&t[0]&&O!==(O=e[31].createdAt+"")&&_(y,O),64&t[0]&&T!==(T=e[31].body+"")&&_(E,T),e[31].images.length?D?D.p(e,t):(D=vs(e),D.c(),D.m(m,null)):D&&(D.d(1),D=null)},d(e){e&&f(t),D&&D.d(),e&&f(z),e&&f(P)}}}function bs(e){let t,n,l,a,o,r,c,i,u,v,h,b,w,_,A,E,q,z,P,S=e[10],O=[];for(let t=0;t<S.length;t+=1)O[t]=ys(ns(e,S,t));return{c(){t=g("form"),n=g("strong"),n.textContent=`${ve.get("new-comment")}:`,l=$(),a=g("textarea"),o=$(),r=g("div");for(let e=0;e<O.length;e+=1)O[e].c();c=$(),i=g("span"),i.innerHTML='<i class="fa fa-upload fa-2x" aria-hidden="true"></i> \n                        <div>imagen</div>',u=$(),v=g("input"),h=$(),b=g("div"),w=g("div"),_=$(),A=g("button"),A.textContent=`${ve.get("add")}`,E=$(),q=g("div"),a.required="required",x(a,"class","textarea mb2"),x(a,"rows","4"),x(a,"placeholder",ve.get("comment")),x(i,"class","comment-image new-add text-center svelte-1406aft"),C(v,"display","none"),x(v,"type","file"),x(v,"accept",".jpg, .jpeg, .png"),x(r,"class","comment-images svelte-1406aft"),x(w,"class","spacer svelte-1406aft"),x(A,"class","btn"),x(A,"type","submit"),x(b,"class","flex mt1"),x(t,"class","p1"),x(q,"class","upload")},m(s,f){p(s,t,f),d(t,n),d(t,l),d(t,a),j(a,e[5].body),d(t,o),d(t,r);for(let e=0;e<O.length;e+=1)O[e].m(r,null);d(r,c),d(r,i),d(r,u),d(r,v),e[25](v),d(t,h),d(t,b),d(b,w),d(b,_),d(b,A),p(s,E,f),p(s,q,f),z||(P=[k(a,"input",e[20]),k(i,"click",e[23]),k(v,"change",e[24]),k(t,"submit",y(e[14]))],z=!0)},p(e,t){if(32&t[0]&&j(a,e[5].body),197632&t[0]){let n;for(S=e[10],n=0;n<S.length;n+=1){const s=ns(e,S,n);O[n]?O[n].p(s,t):(O[n]=ys(s),O[n].c(),O[n].m(r,c))}for(;n<O.length;n+=1)O[n].d(1);O.length=S.length}},d(n){n&&f(t),m(O,n),e[25](null),n&&f(E),n&&f(q),z=!1,s(P)}}}function ks(t){let n;return{c(){n=g("div"),x(n,"class","fas fa-spinner fa-spin fa-3x")},m(e,t){p(e,n,t)},p:e,d(e){e&&f(n)}}}function ys(e){let t,n,l,a,o,r,i;function u(){return e[21](e[28])}function m(){return e[22](e[30])}return{c(){t=g("span"),n=g("img"),a=$(),o=g("span"),o.innerHTML='<em class="fa fa-times" aria-hidden="true"></em>',c(n.src,l=e[28])||x(n,"src",l),x(n,"alt","d"),x(n,"class","svelte-1406aft"),x(o,"class","btn-delete text-center svelte-1406aft"),x(t,"class","comment-image svelte-1406aft")},m(e,s){p(e,t,s),d(t,n),d(t,a),d(t,o),r||(i=[k(n,"click",u),k(o,"click",m)],r=!0)},p(t,s){e=t,1024&s[0]&&!c(n.src,l=e[28])&&x(n,"src",l)},d(e){e&&f(t),r=!1,s(i)}}}function xs(e){let t,n,s,l;const a=[cs,rs],o=[];function r(e,t){return e[0]?0:1}return t=r(e),n=o[t]=a[t](e),{c(){n.c(),s=b()},m(e,n){o[t].m(e,n),p(e,s,n),l=!0},p(e,l){let c=t;t=r(e),t===c?o[t].p(e,l):(Y(),X(o[c],1,1,(()=>{o[c]=null})),G(),n=o[t],n?n.p(e,l):(n=o[t]=a[t](e),n.c()),W(n,1),n.m(s.parentNode,s))},i(e){l||(W(n),l=!0)},o(e){X(n),l=!1},d(e){o[t].d(e),e&&f(s)}}}function ws(e,t,n){let s,l=!0,a=!1,o=!1,r={},c=null,i={body:"",idIssue:0,idProject:0},u=[],d=[],p="",f=[],m=[],g="hide",v="";const h=e=>{let t=e.target.files[0];if(t.size>3333333)return void fe.send("onError","Solo se permiten imagenes menor o igual a 3MB");m.push(t.path);let s=new FileReader;s.readAsDataURL(t),s.onload=e=>{n(10,f=f.concat(e.target.result))}};const $=e=>{f.splice(e,1),m.slice(e,1),n(10,f=f.concat([]))},b=e=>{n(12,v=e),n(11,g="show-modal")};S((()=>{n(4,c=pe.get("user")),setTimeout((()=>n(0,l=!1)),5e3),fe.send("task/load",(e=>{e.id?pe.set("task",e):e=pe.get("task",{}),n(3,r=e),"closed"===r.state?n(8,p=ve.get("closed-at")+"  "+r.closedAt):n(8,p=ve.get("opened")+" - "+ve.get("updated-at")+" "+r.updatedAt),fe.send("comments/load",{idProject:r.project.id,id:r.id},(e=>{n(6,u=e.comments),n(7,d=e.notes),n(0,l=!1)}))}))}));return[l,a,o,r,c,i,u,d,p,s,f,g,v,h,function(){n(5,i.idProject=r.idProject,i),n(5,i.idIssue=r.id,i),n(5,i.images=m,i),n(2,o=!0),fe.send("comments/add",i,(e=>{n(2,o=!1),n(10,f=[]),m=[],n(3,r.comments++,r);const t=u.concat([e]);n(6,u=t),n(5,i={})}))},()=>{n(1,a=!a)},$,b,()=>{n(11,g="hide")},(e,t)=>b(c.host+e.urlPath+t),function(){i.body=this.value,n(5,i)},e=>b(e),e=>$(e),()=>s.click(),e=>h(e),function(e){D[e?"unshift":"push"]((()=>{s=e,n(9,s)}))}]}class _s extends ae{constructor(e){super(),le(this,e,ws,xs,a,{},null,[-1,-1])}}function js(t){let n,s,l,a,o,r,c,i,u,m,v,h,b,k,y;return{c(){n=g("div"),s=g("span"),l=$(),a=g("div"),o=g("strong"),o.textContent=`${ve.get("unknown-problem-occurred")}`,r=$(),c=g("div"),i=g("div"),i.textContent=`${ve.get("alternatives")}:`,u=$(),m=g("ul"),v=g("li"),v.textContent=`• ${ve.get("please-refresh")}`,h=$(),b=g("li"),b.textContent=`• ${ve.get("close-and-open")}`,k=$(),y=g("li"),y.textContent=`• ${ve.get("sign-out-and-sign")}`,x(s,"class","dizzy svelte-1c830rm"),x(c,"class","opts mt2 svelte-1c830rm")},m(e,t){p(e,n,t),d(n,s),d(n,l),d(n,a),d(a,o),d(n,r),d(n,c),d(c,i),d(c,u),d(c,m),d(m,v),d(m,h),d(m,b),d(m,k),d(m,y)},p:e,i:e,o:e,d(e){e&&f(n)}}}class Cs extends ae{constructor(e){super(),le(this,e,null,js,a,{})}}const{window:As}=K;function Es(e){let t;return{c(){t=g("textarea"),x(t,"rows","10"),t.value=e[0],x(t,"class","svelte-u43ffz")},m(e,n){p(e,t,n)},p(e,n){1&n&&(t.value=e[0])},d(e){e&&f(t)}}}function qs(e){let t,n,l,a,o,r,c,i,u=!1,d=()=>{u=!1};B(e[4]);var m=e[2];m&&(l=new m({}));let v=""!==e[0]&&Es(e);return{c(){n=g("div"),l&&ee(l.$$.fragment),a=$(),v&&v.c(),o=b(),x(n,"class","anemona-app svelte-u43ffz")},m(s,f){p(s,n,f),l&&te(l,n,null),p(s,a,f),v&&v.m(s,f),p(s,o,f),r=!0,c||(i=[k(As,"scroll",e[3]),k(As,"scroll",(()=>{u=!0,clearTimeout(t),t=setTimeout(d,100),e[4]()}))],c=!0)},p(e,[s]){if(2&s&&!u&&(u=!0,clearTimeout(t),scrollTo(As.pageXOffset,e[1]),t=setTimeout(d,100)),m!==(m=e[2])){if(l){Y();const e=l;X(e.$$.fragment,1,0,(()=>{ne(e,1)})),G()}m?(l=new m({}),ee(l.$$.fragment),W(l.$$.fragment,1),te(l,n,null)):l=null}""!==e[0]?v?v.p(e,s):(v=Es(e),v.c(),v.m(o.parentNode,o)):v&&(v.d(1),v=null)},i(e){r||(l&&W(l.$$.fragment,e),r=!0)},o(e){l&&X(l.$$.fragment,e),r=!1},d(e){e&&f(n),l&&ne(l),e&&f(a),v&&v.d(e),e&&f(o),c=!1,s(i)}}}function zs(e,t,n){let s="",l="sidebar",a=0,o=ue,r="spinner",c={"web-task":_s},i={tasks:Cn,activity:ts,dash:gt,login:_e,logout:Ae};const u=e=>{n(2,o=e)},d=(e,t)=>{u(ue),r=e.shift();let n={};if(n="web-task"===l?c:i,r){if(n[r]&&"closed"!==r)he.set(r);else{if("sidebar"!==l||"closed"===r)return u(Cs);r="dash"}return u(n[r])}u(Cs)},p=()=>{u(ue),be.auth(l)},f=(e,t)=>{switch(e){case"refresh":return void pe.set("statistics",void 0);case"debug":return n(0,s+=t)}};return S((()=>{l=document.body.id,he.addEventListener((e=>d([e]))),pe.addEventListener(((e,t)=>f(e,t))),window.addEventListener("message",(async e=>{const t=e.data||{};if(fe.call(t))return;const n=t.cmd.split("/");switch(n.shift()){case"reloads":return fe.send("reloads"),p();case"reload":return p();case"lang":return ve.load(t.dat);case"loading":return u(ue)}d(n)})),p()})),[s,a,o,function(){n(1,a=a||pe.get("scroll_"+r,.01)),pe.set("scroll_"+r,a)},function(){n(1,a=As.pageYOffset)}]}return new class extends ae{constructor(e){super(),le(this,e,zs,qs,a,{})}}({target:document.body})}();
