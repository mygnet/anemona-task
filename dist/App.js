var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function s(e){e.forEach(t)}function l(e){return"function"==typeof e}function o(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let a,c;function r(e,t){return a||(a=document.createElement("a")),a.href=t,e===a.href}function i(e,t,n,s){if(e){const l=u(e,t,n,s);return e[0](l)}}function u(e,t,n,s){return e[1]&&s?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](s(t))):n.ctx}function d(e,t,n,s){if(e[2]&&s){const l=e[2](s(n));if(void 0===t.dirty)return l;if("object"==typeof l){const e=[],n=Math.max(t.dirty.length,l.length);for(let s=0;s<n;s+=1)e[s]=t.dirty[s]|l[s];return e}return t.dirty|l}return t.dirty}function p(e,t,n,s,l,o){if(l){const a=u(t,n,s,o);e.p(a,l)}}function f(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}function m(e){return null==e?"":e}function g(e,t){e.appendChild(t)}function v(e,t,n){e.insertBefore(t,n||null)}function h(e){e.parentNode.removeChild(e)}function $(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function k(e){return document.createElement(e)}function b(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function y(e){return document.createTextNode(e)}function x(){return y(" ")}function w(){return y("")}function _(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function j(e){return function(t){return t.preventDefault(),e.call(this,t)}}function C(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function z(e,t,n){t in e?e[t]="boolean"==typeof e[t]&&""===n||n:C(e,t,n)}function A(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function E(e,t){e.value=null==t?"":t}function S(e,t,n,s){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,s?"important":"")}function q(e,t){for(let n=0;n<e.options.length;n+=1){const s=e.options[n];if(s.__value===t)return void(s.selected=!0)}e.selectedIndex=-1}function O(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function P(e,t,n){e.classList[n?"add":"remove"](t)}function T(e){c=e}function D(){if(!c)throw new Error("Function called outside component initialization");return c}function M(e){D().$$.on_mount.push(e)}function N(){const e=D();return(t,n,{cancelable:s=!1}={})=>{const l=e.$$.callbacks[t];if(l){const o=function(e,t,{bubbles:n=!1,cancelable:s=!1}={}){const l=document.createEvent("CustomEvent");return l.initCustomEvent(e,n,s,t),l}(t,n,{cancelable:s});return l.slice().forEach((t=>{t.call(e,o)})),!o.defaultPrevented}return!0}}const L=[],I=[],B=[],U=[],H=Promise.resolve();let F=!1;function R(){F||(F=!0,H.then(G))}function V(e){B.push(e)}const J=new Set;let Y=0;function G(){const e=c;do{for(;Y<L.length;){const e=L[Y];Y++,T(e),W(e.$$)}for(T(null),L.length=0,Y=0;I.length;)I.pop()();for(let e=0;e<B.length;e+=1){const t=B[e];J.has(t)||(J.add(t),t())}B.length=0}while(L.length);for(;U.length;)U.pop()();F=!1,J.clear(),T(e)}function W(e){if(null!==e.fragment){e.update(),s(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(V)}}const X=new Set;let K;function Q(){K={r:0,c:[],p:K}}function Z(){K.r||s(K.c),K=K.p}function ee(e,t){e&&e.i&&(X.delete(e),e.i(t))}function te(e,t,n,s){if(e&&e.o){if(X.has(e))return;X.add(e),K.c.push((()=>{X.delete(e),s&&(n&&e.d(1),s())})),e.o(t)}}const ne="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function se(e,t){e.d(1),t.delete(e.key)}function le(e,t,n,s,l,o,a,c,r,i,u,d){let p=e.length,f=o.length,m=p;const g={};for(;m--;)g[e[m].key]=m;const v=[],h=new Map,$=new Map;for(m=f;m--;){const e=d(l,o,m),c=n(e);let r=a.get(c);r?s&&r.p(e,t):(r=i(c,e),r.c()),h.set(c,v[m]=r),c in g&&$.set(c,Math.abs(m-g[c]))}const k=new Set,b=new Set;function y(e){ee(e,1),e.m(c,u),a.set(e.key,e),u=e.first,f--}for(;p&&f;){const t=v[f-1],n=e[p-1],s=t.key,l=n.key;t===n?(u=t.first,p--,f--):h.has(l)?!a.has(s)||k.has(s)?y(t):b.has(l)?p--:$.get(s)>$.get(l)?(b.add(s),y(t)):(k.add(l),p--):(r(n,a),p--)}for(;p--;){const t=e[p];h.has(t.key)||r(t,a)}for(;f;)y(v[f-1]);return v}function oe(e){e&&e.c()}function ae(e,n,o,a){const{fragment:c,on_mount:r,on_destroy:i,after_update:u}=e.$$;c&&c.m(n,o),a||V((()=>{const n=r.map(t).filter(l);i?i.push(...n):s(n),e.$$.on_mount=[]})),u.forEach(V)}function ce(e,t){const n=e.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function re(t,l,o,a,r,i,u,d=[-1]){const p=c;T(t);const f=t.$$={fragment:null,ctx:null,props:i,update:e,not_equal:r,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(l.context||(p?p.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:l.target||p.$$.root};u&&u(f.root);let m=!1;if(f.ctx=o?o(t,l.props||{},((e,n,...s)=>{const l=s.length?s[0]:n;return f.ctx&&r(f.ctx[e],f.ctx[e]=l)&&(!f.skip_bound&&f.bound[e]&&f.bound[e](l),m&&function(e,t){-1===e.$$.dirty[0]&&(L.push(e),R(),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}(t,e)),n})):[],f.update(),m=!0,s(f.before_update),f.fragment=!!a&&a(f.ctx),l.target){if(l.hydrate){const e=function(e){return Array.from(e.childNodes)}(l.target);f.fragment&&f.fragment.l(e),e.forEach(h)}else f.fragment&&f.fragment.c();l.intro&&ee(t.$$.fragment),ae(t,l.target,l.anchor,l.customElement),G()}T(p)}class ie{$destroy(){ce(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function ue(t){let n,s;return{c(){n=b("svg"),s=b("circle"),C(s,"class","path svelte-10a1n9q"),C(s,"cx","25"),C(s,"cy","25"),C(s,"r","20"),C(s,"fill","none"),C(s,"stroke-width",pe),C(n,"class","spinner svelte-10a1n9q"),C(n,"viewBox","0 0 50 50"),C(n,"width",de),C(n,"height",de),S(n,"--speed",fe+"ms")},m(e,t){v(e,n,t),g(n,s)},p:e,i:e,o:e,d(e){e&&h(n)}}}let de=50,pe=3,fe=2e3;class me extends ie{constructor(e){super(),re(this,e,null,ue,o,{})}}const ge=acquireVsCodeApi();class ve{static addEventListener(e){ve.funcEvent=e}static run(e,t){ve.funcEvent(e,t)}static drop(){ve.rd={},ge.setState(ve.rd)}static get(e,t=null){return ve.rd[e]?ve.rd[e]:(ve.rd=ge.getState()||{},ve.rd[e]?ve.rd[e]:null!==t?(ve.set(e,t),t):null)}static set(e,t){ve.rd[e]=t,ge.setState(ve.rd)}static dispatch(e,t){if(e)return t(!0);window.setTimeout((()=>{"function"==typeof t&&t((e=>{ve.dispatch(e,t)}))}),100)}}ve.rd={},ve.funcEvent=(e,t)=>{};class he{static call(e){return!(!e||!e.cmd||"function"!=typeof he.db[e.cmd])&&(he.db[e.cmd](e.dat||null),he.db[e.cmd]=void 0,!0)}static clear(e,t=null){he.send("clear",{id:e,data:t})}static send(e,t=null,n=null){"function"==typeof t&&(n=t,t={});const s=t||{};return"function"==typeof n&&(he.db[e]=n),ge.postMessage({command:e,content:s})}}he.db={};var $e={"personal-access-tokens":"Token de Acceso Personal","gitlab-host":"Servidor control de versiones GitLab","log-in":"Iniciar sesión","show-token":"Ver token","api-services":"Api para acciones de administrador (opcional)",connect:"Conectar","select-project":"Selecciona un proyecto",pending:"Pendientes",paused:"Pausadas",solved:"Resueltas","high-priority":"Prioridad Alta","medium-priority":"Prioridad Media","low-priority":"Prioridad Baja",loading:"Cargando","select-option":"Selecciona un opción",search:"Buscar",all:"Todas",open:"Abiertas",close:"Cerradas",assigned:"Asignadas",delegates:"Delegadas","new-task":"Agregar una nueva tarea",back:"Regresar","assign-user":"Asignar un usuario","edit-task":"Editar tarea (Incidencia)",title:"Título",description:"Descripción","select-priority":"Selecciona una opción",deadline:"Fecha de entrega",add:"Agregar",save:"Guardar",edit:"Editar",delete:"Eliminar",copy:"Copiar","delete-task":"Eliminar tarea (incidencia)","are-you-sure-you-want-to-delete":"¿Está seguro de que desea eliminar esta tarea (incidencia)?",cancel:"Cancelar",remove:"Eliminar","are-you-sure-you-want-to-log-out":"¿Estás seguro de que quieres cerrar sesión?",disconnect:"Desconectar","403forbidden":"403 Prohibido",err:"An error occurred, please try again later","no-tasks-assigned":"No hay tareas asignadas para este proyecto","no-tasks-delegated":"No hay tareas delegadas para este proyecto","progress-percentage":"Porcentaje de avances",project:"Proyecto",logs:"Bitácora",priority:"Prioridad",author:"Author",assign:"Asignado",comments:"Comentarios","created-at":"Creado el",comment:"Comentario","new-comment":"Nuevo comentario",closed:"Cerrado",opened:"Abierto","updated-at":"Actualizado el","closed-at":"Cerrado el","unknown-problem-occurred":"Ocurrió un problema desconocido",alternatives:"Alternativas","please-refresh":"Presiona el icono de Recargar que esta en barra superior  de la extensión","close-and-open":"Cerrar y abrir la pestaña o vista","sign-out-and-sign":"Cerrar e Iniciar sesión","start-date":"Fecha de inicio","customize-start-date":"Definir la fecha de inicio","paused-tasks":"Tareas pausadas","pending-tasks":"Tareas pendientes","there-are-no-pending-activities":"No hay actividades pendientes","pause-task":"Pausar tarea","paused-task":"Tarea pausada","activate-task":"Activar tarea","show-more":"Mostrar más","show-less":"Mostrar menos","expired-delivery-date":"Fecha de entrega vencida","delivery-available-time-bar":"Barra de tiempo disponible de entrega",keychains:"Llaveros","sort-list":"Sort list","open-key":"Abrir llavero","add-key":"Agregar llavero","add-password":"Agregar contraseña",options:"Opciones","see-password":"Ver contraseña",password:"Contraseña",url:"Dirección electrónica","more-information":"Más información","password-clipboard":"Has copiado: contraseña al portapapeles","have-copied":"Has copiado",notes:"Más Información",link:"Link",nick:"Nombre de usuario","passwords-must-be-the-same":"Las contraseñas deben ser las mismas","go-back":"Regresar","hint-or-clue":"Indicio o pista",unlock:"Desbloquear","lock-keychain":"Bloquear llavero",export:"Exportar","alert-lock-keys":"Tenga cuidado al asignar la contraseña para bloquear el llavero, porque si no la recuerda, no puede desbloquear el llavero, ya que la contraseña no se almacena en ningún lado.","confirm-password":"Confirmar contraseña","plain-text":"Texto plano"},ke={"personal-access-tokens":"Personal Access Tokens","gitlab-host":"GitLab version control server","log-in":"Log in","show-token":"Show Token","api-services":"API for admin actions (optional)",connect:"Connect","select-project":"Select a project",pending:"Pending tasks",paused:"Paused tasks",solved:"Solved tasks","high-priority":"High priority","medium-priority":"Medium priority","low-priority":"Low priority",loading:"Loading","select-option":"Select an option",search:"Search",all:"All",open:"Open",close:"Closed",assigned:"Assigned",delegates:"Delegates","new-task":"New task (Issue)",back:"Go back","assign-user":"Assign to user","edit-task":"Edit Task (Issue)",title:"Title",description:"Description","select-priority":"Select a priority",deadline:"Deadline",add:"Add",save:"Save",edit:"Edit",delete:"Delete",copy:"Copy","delete-task":"Delete Task (Issue)","are-you-sure-you-want-to-delete":"Are you sure you want to delete this task (issue)?",cancel:"Cancel",remove:"Remove","are-you-sure-you-want-to-log-out":"Are you sure you want to log out?",disconnect:"Disconnect","403forbidden":"403 Forbidden",err:"An error occurred, please try again later","no-tasks-assigned":"There are no assigned tasks for this project","no-tasks-delegated":"There are no delegated tasks for this project","progress-percentage":"Progress percentage",project:"Project",logs:"logs",priority:"Priority",author:"Author",assign:"Assigned",comments:"Comments","created-at":"Created at",comment:"Comment","new-comment":"New comment",closed:"closed",opened:"open","updated-at":"Updated at","closed-at":"Closed at","unknown-problem-occurred":"An unknown problem occurred",alternatives:"Alternatives","please-refresh":"Press the Reload icon that is on the top bar of the extension","close-and-open":"Close and open tabs or views","sign-out-and-sign":"Sign out and sign in again","start-date":"Start date","customize-start-date":"Customize start date","paused-tasks":"Paused tasks","pending-tasks":"Pending tasks","there-are-no-pending-activities":"There are no pending activities","pause-task":"Pause task","paused-task":"Paused task","activate-task":"Activate task","show-more":"Show more","show-less":"Show less","expired-delivery-date":"Expired delivery date","delivery-available-time-bar":"Delivery available time bar",keychains:"keychains","sort-list":"Sort list","open-key":"Open keychain","add-key":"Add keychain","add-password":"Add password",options:"Options","see-password":"See Password",password:"Password",url:"Electronic address","more-information":"More information","password-clipboard":"You have copied: password to clipboard","have-copied":"You have copied",notes:"More information",link:"Link",nick:"User name","passwords-must-be-the-same":"Passwords must be the same","invalid-password":"Invalid password","go-back":"Go back","hint-or-clue":"Hint or clue",unlock:"Unlock","lock-keychain":"Lock keychain",export:"Export","alert-lock-keys":"Be careful when assigning the password to lock the keychain, because if you don't remember it, you can't unlock the keychain, since the password is not stored anywhere.","confirm-password":"Confirm password","plain-text":"Plain text"};class be{static key(e){const t=e.toLowerCase().replace(/[^a-z0-9-]/g,"");return be.get(t)||e}static load(e){"es"===e?be.rd=$e:"en"===e&&(be.rd=ke),be.id=e}static get(e){return be.rd||(be.rd="es"===be.id?$e:ke),be.rd[e]||""}}be.id="en",be.rd=null;const ye=be.get,xe=be.key;class we{static clean(){ve.set("page",[])}static setScroll(e,t=0){window.setTimeout((()=>{window.scrollTo(0,ve.get("scroll_"+e)||0)}),t)}static addEventListener(e){we.funcEvent=e}static back(){const e=we.get()||"dash";we.funcEvent(e,"back")}static put(e){we.funcEvent(e,"put")}static set(e){const t=ve.get("page")||[];t.length&&t[t.length-1]===e||(t.push(e),t.length>9&&t.shift(),ve.set("page",t))}static get(){let e=ve.get("page");e=e instanceof Array?e:[];let t=null;return e.pop()&&(t=e.pop()),ve.set("page",e),t}static last(){let e=ve.get("page")||[],t=e.pop();return ve.set("page",e),t}}we.funcEvent=(e,t)=>{};let _e={};class je{static set(e){_e=e,ve.set("user",_e)}static get(){return je.load(),_e}static allow(){return!(!_e||!_e.id)&&_e.allow}static load(){_e=_e&&_e.id?_e:ve.get("user")||{}}static getApiService(e){return-1!==e.indexOf("aidev.work")?e.replace("git.","").replace(":8082","")+"/api-task/v1":""}static wAuth(){return he.send("session/init",_e,(e=>{}))}static onAuth(e){if(be.load(e&&e.lang?e.lang:"en"),je.isView)e&&e.id?(e.id&&je.set(e),we.put(je.type)):we.put("closed");else{if(!e||!0!==e.success)return he.send("session/drop",(()=>{we.put("login")}));{e.id&&je.set(e);const t=we.last();we.put(t&&"login"!==t?t:"dash"),ve.run("refresh")}}}static auth(e){return je.isView="sidebar"!==e,je.type=e,je.load(),this.isView||_e.id&&_e.host&&_e.token?he.send("session/init",_e,(e=>{je.onAuth(e)})):he.send("session/global",(e=>{je.onAuth(e)}))}static login(e,t){e.service=je.getApiService(e.host),he.send("session/login",e,(e=>{e&&e.id&&(ve.set("user",e),ve.set("page",[]),we.put("dash"),he.send("reloads"),t(!0)),t(!1)}))}static drop(){_e={},ve.set("user",_e),he.send("session/drop",(()=>{we.put("login")}))}}function Ce(t){let n;return{c(){n=k("button"),n.textContent=`${be.get("connect")}`,C(n,"type","submit")},m(e,t){v(e,n,t)},p:e,i:e,o:e,d(e){e&&h(n)}}}function ze(t){let n,s;return n=new me({}),{c(){oe(n.$$.fragment)},m(e,t){ae(n,e,t),s=!0},p:e,i(e){s||(ee(n.$$.fragment,e),s=!0)},o(e){te(n.$$.fragment,e),s=!1},d(e){ce(n,e)}}}function Ae(e){let t,n,l,o,a,c,r,i,u,d,p,f,m,$,b,y,w,z,A,S,q,O,P;const T=[ze,Ce],D=[];function M(e,t){return e[0]?0:1}return A=M(e),S=D[A]=T[A](e),{c(){t=k("h3"),t.textContent=`${be.get("log-in")}`,n=x(),l=k("form"),o=k("div"),a=k("label"),a.textContent=`${be.get("gitlab-host")}`,c=x(),r=k("input"),i=x(),u=k("div"),d=k("label"),d.textContent=`${be.get("personal-access-tokens")}`,p=x(),f=k("input"),m=x(),$=k("div"),b=k("input"),y=x(),w=k("label"),w.textContent=`${be.get("show-token")}`,z=x(),S.c(),C(t,"class","pb1"),C(a,"for","apiHost"),C(r,"type","url"),r.required=!0,C(d,"for","privateToken"),C(f,"type","password"),f.required=!0,C(b,"type","checkbox"),C(b,"id","showprivateToken"),C(w,"for","showprivateToken")},m(s,h){v(s,t,h),v(s,n,h),v(s,l,h),g(l,o),g(o,a),g(o,c),g(o,r),e[5](r),E(r,e[1].host),g(l,i),g(l,u),g(u,d),g(u,p),g(u,f),e[7](f),E(f,e[1].token),g(l,m),g(l,$),g($,b),g($,y),g($,w),g(l,z),D[A].m(l,null),q=!0,O||(P=[_(r,"input",e[6]),_(f,"input",e[8]),_(b,"change",e[4]),_(l,"submit",j(e[3]))],O=!0)},p(e,[t]){2&t&&E(r,e[1].host),2&t&&f.value!==e[1].token&&E(f,e[1].token);let n=A;A=M(e),A===n?D[A].p(e,t):(Q(),te(D[n],1,1,(()=>{D[n]=null})),Z(),S=D[A],S?S.p(e,t):(S=D[A]=T[A](e),S.c()),ee(S,1),S.m(l,null))},i(e){q||(ee(S),q=!0)},o(e){te(S),q=!1},d(o){o&&h(t),o&&h(n),o&&h(l),e[5](null),e[7](null),D[A].d(),O=!1,s(P)}}}function Ee(e,t,n){let s=!1;const l={host:"",token:""},o={host:null,token:null};return M((()=>{ve.drop(),o.host.focus()})),[s,l,o,()=>{n(0,s=!0),je.login(l,(e=>n(0,s=!e)))},e=>{o.token.setAttribute("type",e.target.checked?"text":"password")},function(e){I[e?"unshift":"push"]((()=>{o.host=e,n(2,o)}))},function(){l.host=this.value,n(1,l)},function(e){I[e?"unshift":"push"]((()=>{o.token=e,n(2,o)}))},function(){l.token=this.value,n(1,l)}]}je.isView=!1,je.type="sidebar";class Se extends ie{constructor(e){super(),re(this,e,Ee,Ae,o,{})}}function qe(t){let n,l,o,a,c,r,i,u,d,p,f,m,$;return{c(){n=k("div"),l=k("h3"),l.textContent=`${be.get("are-you-sure-you-want-to-log-out")}`,o=x(),a=k("div"),c=k("div"),r=k("input"),i=x(),u=k("div"),d=k("button"),d.textContent=`${be.get("disconnect")}`,p=x(),f=k("div"),C(l,"class","p2"),C(r,"type","button"),C(r,"class","btn svelte-1br32mt"),r.value=be.get("cancel"),C(c,"class","col col-6 center"),C(d,"type","button"),C(d,"class","svelte-1br32mt"),C(u,"class","col col-6 center"),C(a,"class","clearfix"),C(n,"class","box-content svelte-1br32mt")},m(e,s){v(e,n,s),g(n,l),g(n,o),g(n,a),g(a,c),g(c,r),g(a,i),g(a,u),g(u,d),g(n,p),g(n,f),m||($=[_(r,"click",t[0]),_(d,"click",t[1])],m=!0)},p:e,i:e,o:e,d(e){e&&h(n),m=!1,s($)}}}function Oe(e){return[()=>we.back(),()=>{he.send("web-task/closed"),je.drop()}]}class Pe extends ie{constructor(e){super(),re(this,e,Oe,qe,o,{})}}function Te(e){let t,n,s,l;return{c(){t=k("span"),n=y(e[0]),C(t,"class","svelte-ak7jq7")},m(o,a){v(o,t,a),g(t,n),s||(l=_(t,"click",e[4]),s=!0)},p(e,t){1&t&&A(n,e[0])},d(e){e&&h(t),s=!1,l()}}}function De(e){let t,n,l,o,a,c,r,i,u,d,p;return{c(){t=k("div"),n=k("input"),l=x(),o=k("button"),a=k("i"),c=x(),r=k("button"),i=k("i"),n.disabled=e[3],C(n,"type","text"),C(n,"class","svelte-ak7jq7"),C(a,"class","fas fa-xmark"),o.disabled=e[3],C(o,"class","btn-cancel svelte-ak7jq7"),C(o,"type","button"),C(i,"class",u=m(e[2])+" svelte-ak7jq7"),r.disabled=e[3],C(r,"type","button"),C(r,"class","svelte-ak7jq7"),C(t,"class","item-group svelte-ak7jq7")},m(s,u){v(s,t,u),g(t,n),E(n,e[0]),g(t,l),g(t,o),g(o,a),g(t,c),g(t,r),g(r,i),d||(p=[_(n,"input",e[8]),_(o,"click",e[9]),_(r,"click",e[5])],d=!0)},p(e,t){8&t&&(n.disabled=e[3]),1&t&&n.value!==e[0]&&E(n,e[0]),8&t&&(o.disabled=e[3]),4&t&&u!==(u=m(e[2])+" svelte-ak7jq7")&&C(i,"class",u),8&t&&(r.disabled=e[3])},d(e){e&&h(t),d=!1,s(p)}}}function Me(t){let n;function s(e,t){return!0===e[1]?De:Te}let l=s(t),o=l(t);return{c(){n=k("div"),o.c()},m(e,t){v(e,n,t),o.m(n,null)},p(e,[t]){l===(l=s(e))&&o?o.p(e,t):(o.d(1),o=l(e),o&&(o.c(),o.m(n,null)))},i:e,o:e,d(e){e&&h(n),o.d()}}}function Ne(e,t,n){let{id:s=""}=t,{text:l=""}=t,{onSave:o=(e=>{})}=t,a=l,c=!1,r="fas fa-edit",i=!1;function u(){n(1,c=!c)}return e.$$set=e=>{"id"in e&&n(6,s=e.id),"text"in e&&n(0,l=e.text),"onSave"in e&&n(7,o=e.onSave)},[l,c,r,i,u,function(){n(3,i=!0),n(2,r="fas fa-spinner fa-spin"),o(s,l,(e=>{n(3,i=!1),n(2,r="fas fa-edit"),void 0!==e?(a=e,n(0,l=e)):n(0,l=a),u()}))},s,o,function(){l=this.value,n(0,l)},()=>{u()}]}class Le extends ie{constructor(e){super(),re(this,e,Ne,Me,o,{id:6,text:0,onSave:7})}}const Ie=e=>({}),Be=e=>({});function Ue(e){let t,n;const s=e[1].content,l=i(s,e,e[0],Be);return{c(){t=k("div"),l&&l.c(),C(t,"class","card mb1 svelte-aq82fr")},m(e,s){v(e,t,s),l&&l.m(t,null),n=!0},p(e,[t]){l&&l.p&&(!n||1&t)&&p(l,s,e,e[0],n?d(s,e[0],t,Ie):f(e[0]),Be)},i(e){n||(ee(l,e),n=!0)},o(e){te(l,e),n=!1},d(e){e&&h(t),l&&l.d(e)}}}function He(e,t,n){let{$$slots:s={},$$scope:l}=t;return e.$$set=e=>{"$$scope"in e&&n(0,l=e.$$scope)},[l,s]}class Fe extends ie{constructor(e){super(),re(this,e,He,Ue,o,{})}}function Re(t){let n,s,l=t[0].name+"";return{c(){n=k("div"),s=y(l)},m(e,t){v(e,n,t),g(n,s)},p(e,t){1&t&&l!==(l=e[0].name+"")&&A(s,l)},i:e,o:e,d(e){e&&h(n)}}}function Ve(e){let t,n;return t=new Le({props:{id:"name",text:e[0].name,onSave:e[1]}}),{c(){oe(t.$$.fragment)},m(e,s){ae(t,e,s),n=!0},p(e,n){const s={};1&n&&(s.text=e[0].name),t.$set(s)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){ce(t,e)}}}function Je(e){let t;return{c(){t=k("span"),t.textContent="admin",C(t,"class","svelte-12psqso")},m(e,n){v(e,t,n)},d(e){e&&h(t)}}}function Ye(e){let t,n,s,l,o,a,c,i,u,d,p,f,m,$,b,w,j,z,E,S,q,O=e[0].username+"",P=e[0].email+"";const T=[Ve,Re],D=[];function M(e,t){return e[0].allow?0:1}$=M(e),b=D[$]=T[$](e);let N=e[0].isAdmin&&Je();return{c(){t=k("div"),n=k("div"),n.innerHTML='<li class="fa fa-cog"></li>',s=x(),l=k("div"),l.textContent="12",o=x(),a=k("div"),c=k("img"),u=x(),d=k("h2"),p=y(O),f=x(),m=k("p"),b.c(),w=x(),j=y(P),z=x(),N&&N.c(),C(n,"class","options svelte-12psqso"),C(l,"class","notify svelte-12psqso"),r(c.src,i=e[0].avatarUrl)||C(c,"src",i),C(c,"alt",""),C(c,"class","profile svelte-12psqso"),C(a,"class","cover-photo svelte-12psqso"),C(d,"class","svelte-12psqso"),C(m,"class","svelte-12psqso"),C(t,"slot","content")},m(r,i){v(r,t,i),g(t,n),g(t,s),g(t,l),g(t,o),g(t,a),g(a,c),g(t,u),g(t,d),g(d,p),g(t,f),g(t,m),D[$].m(m,null),g(m,w),g(m,j),g(t,z),N&&N.m(t,null),E=!0,S||(q=_(c,"click",e[2]),S=!0)},p(e,n){(!E||1&n&&!r(c.src,i=e[0].avatarUrl))&&C(c,"src",i),(!E||1&n)&&O!==(O=e[0].username+"")&&A(p,O);let s=$;$=M(e),$===s?D[$].p(e,n):(Q(),te(D[s],1,1,(()=>{D[s]=null})),Z(),b=D[$],b?b.p(e,n):(b=D[$]=T[$](e),b.c()),ee(b,1),b.m(m,w)),(!E||1&n)&&P!==(P=e[0].email+"")&&A(j,P),e[0].isAdmin?N||(N=Je(),N.c(),N.m(t,null)):N&&(N.d(1),N=null)},i(e){E||(ee(b),E=!0)},o(e){te(b),E=!1},d(e){e&&h(t),D[$].d(),N&&N.d(),S=!1,q()}}}function Ge(e){let t,n;return t=new Fe({props:{$$slots:{content:[Ye]},$$scope:{ctx:e}}}),{c(){oe(t.$$.fragment)},m(e,s){ae(t,e,s),n=!0},p(e,[n]){const s={};9&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){ce(t,e)}}}function We(e,t,n){let{user:s={}}=t;return e.$$set=e=>{"user"in e&&n(0,s=e.user)},[s,(e,t,l)=>{n(0,s.name=t,s);const o={};o[e]=t,he.send("user/edit",{user:o},(e=>{e&&e.id&&(n(0,s=e),je.set(s)),"function"==typeof l&&l(e&&e.name?e.name:void 0)}))},()=>{s.allow&&he.send("user/avatar",(e=>{e.avatarUrl&&(n(0,s=e),je.set(s),n(0,s.avatarUrl=e.avatarUrl+"?"+Math.random(),s))}))}]}class Xe extends ie{constructor(e){super(),re(this,e,We,Ge,o,{user:0})}}function Ke(e,t,n){const s=e.slice();return s[20]=t[n],s}function Qe(e){let t,n,s,l;return{c(){t=k("button"),n=y(e[0]),C(t,"class","mb1")},m(o,a){v(o,t,a),g(t,n),s||(l=_(t,"click",e[8]),s=!0)},p(e,t){1&t&&A(n,e[0])},d(e){e&&h(t),s=!1,l()}}}function Ze(e){let t,n,l,o,a,c,r,i,u,d,p,f,b,w,j,z,S,O,P,T,D,M,N,L=e[5],I=[];for(let t=0;t<L.length;t+=1)I[t]=et(Ke(e,L,t));return{c(){t=k("div"),n=k("div"),l=k("h3"),o=y(e[0]),a=x(),c=k("div"),r=k("button"),i=k("i"),u=x(),d=k("div"),p=k("input"),f=x(),b=k("button"),w=k("i"),j=x(),z=k("button"),S=k("i"),P=x(),T=k("div"),D=k("select");for(let e=0;e<I.length;e+=1)I[e].c();C(l,"class","svelte-1jrx3uc"),C(n,"class","left"),C(i,"class","fas fa-xmark"),r.disabled=e[3],C(r,"class","btn btn-cancel svelte-1jrx3uc"),C(c,"class","right"),C(t,"class","clearfix mb1"),p.disabled=e[3],C(p,"placeholder",be.get("search")+"..."),C(p,"type","text"),C(p,"class","svelte-1jrx3uc"),C(w,"class","fas fa-eraser"),b.disabled=e[3],C(b,"class","btn btn-clean svelte-1jrx3uc"),C(S,"class",O=m(e[4])+" svelte-1jrx3uc"),C(z,"class","btn btn-search svelte-1jrx3uc"),z.disabled=e[3],C(d,"class","item-group svelte-1jrx3uc"),C(D,"class","select svelte-1jrx3uc"),void 0===e[6].id&&V((()=>e[16].call(D))),C(T,"class","mt1")},m(s,m){v(s,t,m),g(t,n),g(n,l),g(l,o),g(t,a),g(t,c),g(c,r),g(r,i),v(s,u,m),v(s,d,m),g(d,p),E(p,e[2]),g(d,f),g(d,b),g(b,w),g(d,j),g(d,z),g(z,S),v(s,P,m),v(s,T,m),g(T,D);for(let e=0;e<I.length;e+=1)I[e].m(D,null);e[15](D),q(D,e[6].id),M||(N=[_(r,"click",e[12]),_(p,"input",e[13]),_(b,"click",e[14]),_(z,"click",e[9]),_(D,"change",e[16]),_(D,"change",e[10])],M=!0)},p(e,t){if(1&t&&A(o,e[0]),8&t&&(r.disabled=e[3]),8&t&&(p.disabled=e[3]),4&t&&p.value!==e[2]&&E(p,e[2]),8&t&&(b.disabled=e[3]),16&t&&O!==(O=m(e[4])+" svelte-1jrx3uc")&&C(S,"class",O),8&t&&(z.disabled=e[3]),32&t){let n;for(L=e[5],n=0;n<L.length;n+=1){const s=Ke(e,L,n);I[n]?I[n].p(s,t):(I[n]=et(s),I[n].c(),I[n].m(D,null))}for(;n<I.length;n+=1)I[n].d(1);I.length=L.length}96&t&&q(D,e[6].id)},d(n){n&&h(t),n&&h(u),n&&h(d),n&&h(P),n&&h(T),$(I,n),e[15](null),M=!1,s(N)}}}function et(e){let t,n,s,l=e[20].value+"";return{c(){t=k("option"),n=y(l),t.__value=s=e[20].id,t.value=t.__value},m(e,s){v(e,t,s),g(t,n)},p(e,o){32&o&&l!==(l=e[20].value+"")&&A(n,l),32&o&&s!==(s=e[20].id)&&(t.__value=s,t.value=t.__value)},d(e){e&&h(t)}}}function tt(t){let n;function s(e,t){return!0===e[1]?Ze:Qe}let l=s(t),o=l(t);return{c(){n=k("div"),o.c()},m(e,t){v(e,n,t),o.m(n,null)},p(e,[t]){l===(l=s(e))&&o?o.p(e,t):(o.d(1),o=l(e),o&&(o.c(),o.m(n,null)))},i:e,o:e,d(e){e&&h(n),o.d()}}}function nt(e,t,n){let{id:s=""}=t,{label:l=""}=t;const o=N();let a=!1,c="",r=!1,i="fas fa-search",u=[],d={id:0,name:""},p=null;const f=e=>{n(1,a=!a),(e=>{o("EventExpand",e)})(a)},m=e=>{n(3,r=e),e&&(n(5,u=[{id:"",value:be.get("loading")+"..."}]),n(6,d.id="",d)),n(4,i="fas fa-"+(r?"spinner fa-spin":"search"))};return e.$$set=e=>{"id"in e&&n(11,s=e.id),"label"in e&&n(0,l=e.label)},[l,a,c,r,i,u,d,p,f,()=>{m(!0),o("EventSelect",{id:s,value:c||"",fun:e=>{e.unshift({id:"",value:be.get("select-option")+"..."}),n(5,u=e),m(!1),o("EventSelect",{id:s,data:{id:0,name:""}})}})},()=>{n(6,d.name=p.options[p.selectedIndex].text,d),o("EventSelect",{id:s,data:d})},s,()=>f(),function(){c=this.value,n(2,c)},()=>n(2,c=""),function(e){I[e?"unshift":"push"]((()=>{p=e,n(7,p)}))},function(){d.id=O(this),n(6,d),n(5,u)}]}class st extends ie{constructor(e){super(),re(this,e,nt,tt,o,{id:11,label:0})}}function lt(t){let n,s,l,o,a;return{c(){n=k("div"),s=k("div"),l=k("div"),o=x(),a=k("div"),C(l,"class","gauge__fill svelte-sk2b6t"),C(a,"class","gauge__cover svelte-sk2b6t"),C(s,"class","gauge__body svelte-sk2b6t"),C(n,"class","gauge svelte-sk2b6t")},m(e,c){v(e,n,c),g(n,s),g(s,l),t[3](l),g(s,o),g(s,a),t[4](a)},p:e,i:e,o:e,d(e){e&&h(n),t[3](null),t[4](null)}}}function ot(e,t,n){let{value:s=0}=t,l=null,o=null;return M((()=>{var e;(e=s)<0||e>1||(n(0,l.style.transform=`rotate(${e/2}turn)`,l),n(1,o.textContent=`${Math.round(100*e)}%`,o))})),e.$$set=e=>{"value"in e&&n(2,s=e.value)},[l,o,s,function(e){I[e?"unshift":"push"]((()=>{l=e,n(0,l)}))},function(e){I[e?"unshift":"push"]((()=>{o=e,n(1,o)}))}]}class at extends ie{constructor(e){super(),re(this,e,ot,lt,o,{value:2})}}function ct(t){let n,s,l,o,a,c,r,i,u;return{c(){n=k("div"),s=k("div"),l=y("Progress\r\n        "),o=k("div"),a=x(),c=k("span"),r=y(t[0]),i=y("%"),C(o,"class","progress-bar--inner svelte-szwwex"),S(o,"width",t[0]+"%"),C(s,"class","progress-bar svelte-szwwex"),C(c,"class","progress-bar--counter svelte-szwwex"),C(n,"class",u="progress-bar--wrap progress-bar--"+t[1]+" svelte-szwwex")},m(e,t){v(e,n,t),g(n,s),g(s,l),g(s,o),g(n,a),g(n,c),g(c,r),g(c,i)},p(e,[t]){1&t&&S(o,"width",e[0]+"%"),1&t&&A(r,e[0]),2&t&&u!==(u="progress-bar--wrap progress-bar--"+e[1]+" svelte-szwwex")&&C(n,"class",u)},i:e,o:e,d(e){e&&h(n)}}}function rt(e,t,n){let{value:s=0}=t,{color:l="green"}=t;return e.$$set=e=>{"value"in e&&n(0,s=e.value),"color"in e&&n(1,l=e.color)},[s,l]}class it extends ie{constructor(e){super(),re(this,e,rt,ct,o,{value:0,color:1})}}function ut(e){let t,n,s,l;return t=new Fe({props:{$$slots:{content:[pt]},$$scope:{ctx:e}}}),s=new Fe({props:{$$slots:{content:[ft]},$$scope:{ctx:e}}}),{c(){oe(t.$$.fragment),n=x(),oe(s.$$.fragment)},m(e,o){ae(t,e,o),v(e,n,o),ae(s,e,o),l=!0},p(e,n){const l={};8193&n&&(l.$$scope={dirty:n,ctx:e}),t.$set(l);const o={};8193&n&&(o.$$scope={dirty:n,ctx:e}),s.$set(o)},i(e){l||(ee(t.$$.fragment,e),ee(s.$$.fragment,e),l=!0)},o(e){te(t.$$.fragment,e),te(s.$$.fragment,e),l=!1},d(e){ce(t,e),e&&h(n),ce(s,e)}}}function dt(t){let n,s;return n=new me({}),{c(){oe(n.$$.fragment)},m(e,t){ae(n,e,t),s=!0},p:e,i(e){s||(ee(n.$$.fragment,e),s=!0)},o(e){te(n.$$.fragment,e),s=!1},d(e){ce(n,e)}}}function pt(e){let t,n,s,l,o,a,c,r,i,u,d,p,f,m=be.get("pending")+"",$=e[0].opened.num+"";return r=new it({props:{value:e[0].opened.val,color:"orange"}}),p=new it({props:{value:e[0].progress.val,color:"blue"}}),{c(){t=k("div"),n=k("h2"),s=y(m),l=y(" ("),o=y($),a=y(")"),c=x(),oe(r.$$.fragment),i=x(),u=k("h2"),u.textContent=`${be.get("progress-percentage")}`,d=x(),oe(p.$$.fragment),C(n,"class","mt2 mb1"),C(u,"class","mt2 mb1"),C(t,"slot","content")},m(e,m){v(e,t,m),g(t,n),g(n,s),g(n,l),g(n,o),g(n,a),g(t,c),ae(r,t,null),g(t,i),g(t,u),g(t,d),ae(p,t,null),f=!0},p(e,t){(!f||1&t)&&$!==($=e[0].opened.num+"")&&A(o,$);const n={};1&t&&(n.value=e[0].opened.val),r.$set(n);const s={};1&t&&(s.value=e[0].progress.val),p.$set(s)},i(e){f||(ee(r.$$.fragment,e),ee(p.$$.fragment,e),f=!0)},o(e){te(r.$$.fragment,e),te(p.$$.fragment,e),f=!1},d(e){e&&h(t),ce(r),ce(p)}}}function ft(e){let t,n,s,l,o,a,c,r,i,u,d,p,f,m,$,b,w,_,j,z,E,S,q,O,P,T,D,M,N,L,I,B,U,H=be.get("solved")+"",F=e[0].closed.num+"",R=be.get("high-priority")+"",V=e[0].alta.tot+"",J=be.get("medium-priority")+"",Y=e[0].media.tot+"",G=be.get("low-priority")+"",W=e[0].baja.tot+"";return r=new at({props:{value:e[0].porcent.val}}),b=new it({props:{value:e[0].alta.val,color:"red"}}),O=new it({props:{value:e[0].media.val,color:"yellow"}}),B=new it({props:{value:e[0].baja.val,color:"green"}}),{c(){t=k("div"),n=k("h2"),s=y(H),l=y(" ("),o=y(F),a=y(")"),c=x(),oe(r.$$.fragment),i=x(),u=k("h3"),d=y(R),p=y(" ("),f=y(V),m=y(")"),$=x(),oe(b.$$.fragment),w=x(),_=k("h3"),j=y(J),z=y(" ("),E=y(Y),S=y(")"),q=x(),oe(O.$$.fragment),P=x(),T=k("h3"),D=y(G),M=y(" ("),N=y(W),L=y(")"),I=x(),oe(B.$$.fragment),C(n,"class","mt2 mb1"),C(u,"class","mt2 mb1"),C(_,"class","mt2 mb1"),C(T,"class","mt2 mb1"),C(t,"slot","content")},m(e,h){v(e,t,h),g(t,n),g(n,s),g(n,l),g(n,o),g(n,a),g(t,c),ae(r,t,null),g(t,i),g(t,u),g(u,d),g(u,p),g(u,f),g(u,m),g(t,$),ae(b,t,null),g(t,w),g(t,_),g(_,j),g(_,z),g(_,E),g(_,S),g(t,q),ae(O,t,null),g(t,P),g(t,T),g(T,D),g(T,M),g(T,N),g(T,L),g(t,I),ae(B,t,null),U=!0},p(e,t){(!U||1&t)&&F!==(F=e[0].closed.num+"")&&A(o,F);const n={};1&t&&(n.value=e[0].porcent.val),r.$set(n),(!U||1&t)&&V!==(V=e[0].alta.tot+"")&&A(f,V);const s={};1&t&&(s.value=e[0].alta.val),b.$set(s),(!U||1&t)&&Y!==(Y=e[0].media.tot+"")&&A(E,Y);const l={};1&t&&(l.value=e[0].media.val),O.$set(l),(!U||1&t)&&W!==(W=e[0].baja.tot+"")&&A(N,W);const a={};1&t&&(a.value=e[0].baja.val),B.$set(a)},i(e){U||(ee(r.$$.fragment,e),ee(b.$$.fragment,e),ee(O.$$.fragment,e),ee(B.$$.fragment,e),U=!0)},o(e){te(r.$$.fragment,e),te(b.$$.fragment,e),te(O.$$.fragment,e),te(B.$$.fragment,e),U=!1},d(e){e&&h(t),ce(r),ce(b),ce(O),ce(B)}}}function mt(e){let t,n,s,l,o,a;t=new st({props:{id:"Project",label:e[1]}}),t.$on("EventSelect",e[3]);const c=[dt,ut],r=[];function i(e,t){return e[2]?0:1}return s=i(e),l=r[s]=c[s](e),{c(){oe(t.$$.fragment),n=x(),l.c(),o=w()},m(e,l){ae(t,e,l),v(e,n,l),r[s].m(e,l),v(e,o,l),a=!0},p(e,[n]){const a={};2&n&&(a.label=e[1]),t.$set(a);let u=s;s=i(e),s===u?r[s].p(e,n):(Q(),te(r[u],1,1,(()=>{r[u]=null})),Z(),l=r[s],l?l.p(e,n):(l=r[s]=c[s](e),l.c()),ee(l,1),l.m(o.parentNode,o))},i(e){a||(ee(t.$$.fragment,e),ee(l),a=!0)},o(e){te(t.$$.fragment,e),te(l),a=!1},d(e){ce(t,e),e&&h(n),r[s].d(e),e&&h(o)}}}function gt(e,t,n){let s={},l="",o=!0,a={id:0,name:""};const c=e=>{var t;n(1,l=(t=e).id?t.name:be.get("select-project")),a=e,ve.set("project",a)},r=(e,t)=>t?Math.round(e.num/t*100):0;function i(e){n(0,s={progress:{val:0,num:0,tot:0},opened:{val:0,num:0,tot:0},closed:{val:0,num:0,tot:0},baja:{val:0,num:0,tot:0},media:{val:0,num:0,tot:0},alta:{val:0,num:0,tot:0},porcent:{val:0,num:0,tot:0}}),n(0,s.opened.num=0,s),n(0,s.closed.num=0,s);for(const t in e)n(0,s.porcent.tot+=e[t].opened+e[t].closed,s),n(0,s.closed.num+=e[t].closed,s),n(0,s.opened.num+=e[t].opened,s),n(0,s[t].tot=e[t].opened+e[t].closed,s),n(0,s[t].num=e[t].closed,s),n(0,s[t].val=s[t].tot?Math.round(s[t].num/s[t].tot*100):0,s);n(0,s.opened.val=r(s.opened,s.porcent.tot),s),n(0,s.closed.val=r(s.closed,s.porcent.tot),s),n(0,s.porcent.val=s.closed.val/100,s)}const u=e=>{const t=e.detail;t.data?t.data.id&&(n(2,o=!0),c(t.data),he.send("task/get-statistics",t.data,(e=>{const t={};t[a.id]=e,ve.set("tasks-0",[]),ve.set("tasks-1",[]),ve.set("statistics",t),i(e),p((()=>{n(2,o=!1)}))}))):he.send("project/search",{key:t.value},t.fun)},d=(e,t)=>{for(let t in e)"opened"===e[t].state&&(n(0,s.progress.tot+=100,s),n(0,s.progress.num+=e[t].progress,s));n(0,s.progress.val=r(s.progress,s.progress.tot),s),t()},p=e=>{if(!s.opened.num)return e();let t=ve.get("tasks-0");if(t&&t.length)return d(t,e);he.send("task/list-opened",a,(t=>{d(t,e)}))};return M((()=>{c(ve.get("project",a));const e=(()=>{const e=ve.get("statistics",[]);return e[0]={baja:{opened:0,closed:0},media:{opened:0,closed:0},alta:{opened:0,closed:0}},e})();e&&e[a.id]?(i(e[a.id]),p((()=>{n(2,o=!1)}))):u({detail:{data:a}})})),[s,l,o,u]}class vt extends ie{constructor(e){super(),re(this,e,gt,mt,o,{})}}function ht(e){let t,n,s,l;return t=new Xe({props:{user:e[1]}}),s=new vt({}),{c(){oe(t.$$.fragment),n=x(),oe(s.$$.fragment)},m(e,o){ae(t,e,o),v(e,n,o),ae(s,e,o),l=!0},p(e,n){const s={};2&n&&(s.user=e[1]),t.$set(s)},i(e){l||(ee(t.$$.fragment,e),ee(s.$$.fragment,e),l=!0)},o(e){te(t.$$.fragment,e),te(s.$$.fragment,e),l=!1},d(e){ce(t,e),e&&h(n),ce(s,e)}}}function $t(t){let n,s;return n=new me({}),{c(){oe(n.$$.fragment)},m(e,t){ae(n,e,t),s=!0},p:e,i(e){s||(ee(n.$$.fragment,e),s=!0)},o(e){te(n.$$.fragment,e),s=!1},d(e){ce(n,e)}}}function kt(e){let t,n,s,l;const o=[$t,ht],a=[];function c(e,t){return e[0]?0:1}return t=c(e),n=a[t]=o[t](e),{c(){n.c(),s=w()},m(e,n){a[t].m(e,n),v(e,s,n),l=!0},p(e,[l]){let r=t;t=c(e),t===r?a[t].p(e,l):(Q(),te(a[r],1,1,(()=>{a[r]=null})),Z(),n=a[t],n?n.p(e,l):(n=a[t]=o[t](e),n.c()),ee(n,1),n.m(s.parentNode,s))},i(e){l||(ee(n),l=!0)},o(e){te(n),l=!1},d(e){a[t].d(e),e&&h(s)}}}function bt(e,t,n){let s=!0,l={};return M((()=>{(e=>{let t=je.get();if(t&&t.id)return e(t);he.send("user/get-data",(t=>{if(t&&t.id)return je.set(t),e(t);e(null)}))})((e=>{e?(n(1,l=e),n(0,s=!1)):he.send("session/form-login")}))})),[s,l]}class yt extends ie{constructor(e){super(),re(this,e,bt,kt,o,{})}}function xt(t){let n,s,l,o,a,c=je.allow(),r=c&&function(t){let n,s,l,o,a;return{c(){n=k("span"),n.innerHTML='<i class="fas fa-trash red svelte-11mizk4"></i>',s=x(),l=k("i"),C(n,"class","svelte-11mizk4"),C(l,"class","line svelte-11mizk4")},m(e,c){v(e,n,c),v(e,s,c),v(e,l,c),o||(a=_(n,"click",t[1]),o=!0)},p:e,d(e){e&&h(n),e&&h(s),e&&h(l),o=!1,a()}}}(t);return{c(){n=k("span"),r&&r.c(),s=x(),l=k("span"),l.innerHTML='<i class="fa fa-edit blue"></i>',C(l,"class","svelte-11mizk4"),C(n,"class","opc text-center svelte-11mizk4")},m(e,c){v(e,n,c),r&&r.m(n,null),g(n,s),g(n,l),o||(a=_(l,"click",t[2]),o=!0)},p(e,[t]){c&&r.p(e,t)},i:e,o:e,d(e){e&&h(n),r&&r.d(),o=!1,a()}}}function wt(e,t,n){let{selOpc:s=(e=>{})}=t;return e.$$set=e=>{"selOpc"in e&&n(0,s=e.selOpc)},[s,()=>s("D"),()=>s("E")]}class _t extends ie{constructor(e){super(),re(this,e,wt,xt,o,{selOpc:0})}}function jt(e){let t,n,s,l,o,a,c,r;return c=new _t({props:{selOpc:e[0]}}),{c(){t=k("div"),n=k("i"),s=x(),l=k("span"),l.textContent="•••",o=x(),a=k("div"),oe(c.$$.fragment),C(n,"class","db2 svelte-1qkjnkz"),C(n,"tabindex","0"),C(l,"class","dropbtn svelte-1qkjnkz"),C(a,"class","dropdown-content svelte-1qkjnkz"),C(a,"tabindex","0"),C(t,"class","dropdown svelte-1qkjnkz"),C(t,"tabindex","0")},m(e,i){v(e,t,i),g(t,n),g(t,s),g(t,l),g(t,o),g(t,a),ae(c,a,null),r=!0},p(e,[t]){const n={};1&t&&(n.selOpc=e[0]),c.$set(n)},i(e){r||(ee(c.$$.fragment,e),r=!0)},o(e){te(c.$$.fragment,e),r=!1},d(e){e&&h(t),ce(c)}}}function Ct(e,t,n){let{selOpc:s=(()=>{})}=t;return e.$$set=e=>{"selOpc"in e&&n(0,s=e.selOpc)},[s]}class zt extends ie{constructor(e){super(),re(this,e,Ct,jt,o,{selOpc:0})}}function At(e){let t,n,l,o,a,c,r,i,u,d,p,f,$,b,w,j,E,S,q,O,P,T,D,M,N,L,I,B,U,H,F,R,V,J,Y,G,W,X,K,ne,se,le,re=e[0].title+"",ie=e[0].dueDate+"",ue=e[0].description+"",de=e[0].comments+"",pe="opened"===e[0].state&&St(e),fe=e[4].id===e[0].author.id&&"opened"===e[0].state&&Dt(e);U=new it({props:{value:e[2],color:"cyan"}});let me=e[3]===e[7]&&"opened"===e[0].state&&Mt(e),ge="opened"===e[0].state&&Nt(e),ve=e[0].assignee&&e[0].assignee.id!==e[4].id&&Lt(e);return{c(){t=k("message-item"),pe&&pe.c(),n=x(),l=k("div"),a=x(),c=k("input"),r=x(),i=k("span"),u=k("i"),d=x(),p=k("span"),f=k("em"),$=x(),b=k("header"),w=k("div"),j=k("span"),E=y(re),S=x(),q=k("span"),O=y(ie),P=x(),fe&&fe.c(),T=x(),D=k("main"),M=k("p"),N=y(ue),L=x(),I=k("div"),B=k("div"),oe(U.$$.fragment),H=x(),me&&me.c(),F=x(),ge&&ge.c(),R=x(),V=k("span"),J=k("i"),Y=y(" ("),G=y(de),W=y(")"),X=x(),ve&&ve.c(),C(l,"class",o="tag "+e[6]+" svelte-t3knm3"),C(c,"class","checkbox svelte-t3knm3"),C(c,"type","checkbox"),c.checked=e[5],C(u,"class","fa fa-bell  svelte-t3knm3"),C(i,"class","notify "+Bt+" d-none svelte-t3knm3"),C(p,"class","days "+Bt+" svelte-t3knm3"),C(j,"class","subject svelte-t3knm3"),C(q,"class","date svelte-t3knm3"),C(w,"class","sender-info svelte-t3knm3"),C(b,"class","svelte-t3knm3"),C(M,"class","svelte-t3knm3"),C(B,"class","progress svelte-t3knm3"),C(J,"class","fa fa-comment"),C(V,"class","comment svelte-t3knm3"),C(V,"title",be.get("comments")),C(I,"class","svelte-t3knm3"),C(D,"class","svelte-t3knm3"),z(t,"class",K=m("opened"===e[0].state?"unread":"done")+" svelte-t3knm3")},m(s,o){v(s,t,o),pe&&pe.m(t,null),g(t,n),g(t,l),g(t,a),g(t,c),g(t,r),g(t,i),g(i,u),g(t,d),g(t,p),g(p,f),g(t,$),g(t,b),g(b,w),g(w,j),g(j,E),g(w,S),g(w,q),g(q,O),g(b,P),fe&&fe.m(b,null),g(t,T),g(t,D),g(D,M),g(M,N),g(D,L),g(D,I),g(I,B),ae(U,B,null),g(I,H),me&&me.m(I,null),g(I,F),ge&&ge.m(I,null),g(I,R),g(I,V),g(V,J),g(V,Y),g(V,G),g(V,W),g(t,X),ve&&ve.m(t,null),ne=!0,se||(le=[_(c,"change",e[8]),_(w,"click",e[12]),_(B,"click",e[14]),_(V,"click",e[12])],se=!0)},p(e,s){"opened"===e[0].state?pe?pe.p(e,s):(pe=St(e),pe.c(),pe.m(t,n)):pe&&(pe.d(1),pe=null),(!ne||64&s&&o!==(o="tag "+e[6]+" svelte-t3knm3"))&&C(l,"class",o),(!ne||32&s)&&(c.checked=e[5]),(!ne||1&s)&&re!==(re=e[0].title+"")&&A(E,re),(!ne||1&s)&&ie!==(ie=e[0].dueDate+"")&&A(O,ie),e[4].id===e[0].author.id&&"opened"===e[0].state?fe?(fe.p(e,s),17&s&&ee(fe,1)):(fe=Dt(e),fe.c(),ee(fe,1),fe.m(b,null)):fe&&(Q(),te(fe,1,1,(()=>{fe=null})),Z()),(!ne||1&s)&&ue!==(ue=e[0].description+"")&&A(N,ue);const a={};4&s&&(a.value=e[2]),U.$set(a),e[3]===e[7]&&"opened"===e[0].state?me?me.p(e,s):(me=Mt(e),me.c(),me.m(I,F)):me&&(me.d(1),me=null),"opened"===e[0].state?ge?ge.p(e,s):(ge=Nt(e),ge.c(),ge.m(I,R)):ge&&(ge.d(1),ge=null),(!ne||1&s)&&de!==(de=e[0].comments+"")&&A(G,de),e[0].assignee&&e[0].assignee.id!==e[4].id?ve?ve.p(e,s):(ve=Lt(e),ve.c(),ve.m(t,null)):ve&&(ve.d(1),ve=null),(!ne||1&s&&K!==(K=m("opened"===e[0].state?"unread":"done")+" svelte-t3knm3"))&&z(t,"class",K)},i(e){ne||(ee(fe),ee(U.$$.fragment,e),ne=!0)},o(e){te(fe),te(U.$$.fragment,e),ne=!1},d(e){e&&h(t),pe&&pe.d(),fe&&fe.d(),ce(U),me&&me.d(),ge&&ge.d(),ve&&ve.d(),se=!1,s(le)}}}function Et(t){let n,s,l,o,a,c,r,i,u,d,p,f,m,$=t[0].title+"";return{c(){n=k("message-item"),s=k("div"),l=x(),o=k("span"),a=k("i"),c=x(),r=k("main"),i=k("span"),u=y($),d=x(),p=k("small"),p.textContent=`${be.get("paused-task")}`,C(s,"class","tag svelte-t3knm3"),C(a,"class","far fa-play-circle"),C(o,"class","paused svelte-t3knm3"),C(o,"title",be.get("activate-task")),C(i,"class","subject-paused svelte-t3knm3"),C(p,"class","svelte-t3knm3"),C(r,"class","svelte-t3knm3"),z(n,"class","suspend svelte-t3knm3")},m(e,h){v(e,n,h),g(n,s),g(n,l),g(n,o),g(o,a),g(n,c),g(n,r),g(r,i),g(i,u),g(r,d),g(r,p),f||(m=_(o,"click",t[11]),f=!0)},p(e,t){1&t&&$!==($=e[0].title+"")&&A(u,$)},i:e,o:e,d(e){e&&h(n),f=!1,m()}}}function St(e){let t,n;function s(e,t){return e[0].timeOutPor?Ot:qt}let l=s(e),o=l(e);return{c(){t=k("div"),o.c(),C(t,"class","day-out svelte-t3knm3"),C(t,"title",n=be.get("delivery-available-time-bar"))},m(e,n){v(e,t,n),o.m(t,null)},p(e,n){l===(l=s(e))&&o?o.p(e,n):(o.d(1),o=l(e),o&&(o.c(),o.m(t,null)))},d(e){e&&h(t),o.d()}}}function qt(e){let t,n,s;function l(e,t){return 0==e[0].timeOut?Tt:Pt}let o=l(e),a=o(e);return{c(){t=k("span"),a.c(),n=x(),s=k("span"),C(t,"class","day-alert svelte-t3knm3"),C(t,"title",be.get("expired-delivery-date")),C(s,"class","danger svelte-t3knm3")},m(e,l){v(e,t,l),a.m(t,null),v(e,n,l),v(e,s,l)},p(e,n){o!==(o=l(e))&&(a.d(1),a=o(e),a&&(a.c(),a.m(t,null)))},d(e){e&&h(t),a.d(),e&&h(n),e&&h(s)}}}function Ot(e){let t,n;return{c(){t=k("span"),n=k("span"),C(n,"class","bar svelte-t3knm3"),S(n,"width",e[0].timeOutPor+"%"),C(t,"class","success svelte-t3knm3")},m(e,s){v(e,t,s),g(t,n)},p(e,t){1&t&&S(n,"width",e[0].timeOutPor+"%")},d(e){e&&h(t)}}}function Pt(e){let t;return{c(){t=k("i"),C(t,"class","fas fa-exclamation fa-2x svelte-t3knm3")},m(e,n){v(e,t,n)},d(e){e&&h(t)}}}function Tt(e){let t;return{c(){t=k("i"),C(t,"class","fas fa-hourglass-end svelte-t3knm3")},m(e,n){v(e,t,n)},d(e){e&&h(t)}}}function Dt(e){let t,n,s;return n=new zt({props:{selOpc:e[13]}}),{c(){t=k("span"),oe(n.$$.fragment),C(t,"class","menu svelte-t3knm3")},m(e,l){v(e,t,l),ae(n,t,null),s=!0},p(e,t){const s={};3&t&&(s.selOpc=e[13]),n.$set(s)},i(e){s||(ee(n.$$.fragment,e),s=!0)},o(e){te(n.$$.fragment,e),s=!1},d(e){e&&h(t),ce(n)}}}function Mt(e){let t,n,l,o,a,c,r,i,u,d,p,f,m,$,b,y,w,j;return{c(){t=k("div"),n=k("input"),l=x(),o=k("datalist"),a=k("option"),c=k("option"),r=k("option"),i=k("option"),u=k("option"),d=k("option"),p=k("option"),f=k("option"),m=k("option"),$=k("option"),b=k("option"),y=k("input"),C(n,"type","range"),C(n,"class","input-range"),C(n,"step","10"),C(n,"list","tickmarks"),a.__value="0",a.value=a.__value,C(a,"label","0%"),c.__value="10",c.value=c.__value,r.__value="20",r.value=r.__value,i.__value="30",i.value=i.__value,u.__value="40",u.value=u.__value,d.__value="50",d.value=d.__value,C(d,"label","50%"),p.__value="60",p.value=p.__value,f.__value="70",f.value=f.__value,m.__value="80",m.value=m.__value,$.__value="90",$.value=$.__value,b.__value="100",b.value=b.__value,C(b,"label","100%"),C(o,"id","tickmarks")},m(s,h){v(s,t,h),g(t,n),E(n,e[2]),g(t,l),g(t,o),g(o,a),g(o,c),g(o,r),g(o,i),g(o,u),g(o,d),g(o,p),g(o,f),g(o,m),g(o,$),g(o,b),g(o,y),w||(j=[_(n,"change",e[9]),_(n,"change",e[15]),_(n,"input",e[15])],w=!0)},p(e,t){4&t&&E(n,e[2])},d(e){e&&h(t),w=!1,s(j)}}}function Nt(t){let n,s,l,o,a;return{c(){n=k("span"),s=k("i"),C(s,"class","far fa-pause-circle gray"),C(n,"class","suspend svelte-t3knm3"),C(n,"title",l=be.get("pause-task"))},m(e,l){v(e,n,l),g(n,s),o||(a=_(n,"click",t[11]),o=!0)},p:e,d(e){e&&h(n),o=!1,a()}}}function Lt(e){let t,n,s,l,o,a,c,i,u,d=e[0].assignee.name+"";return{c(){t=k("footer"),n=k("strong"),n.textContent=`${be.get("assign")}:`,s=x(),l=k("div"),o=k("img"),c=x(),i=k("span"),u=y(d),C(n,"class","svelte-t3knm3"),r(o.src,a=e[0].assignee.avatar_url)||C(o,"src",a),C(o,"alt",""),C(o,"class","svelte-t3knm3"),C(i,"class","svelte-t3knm3"),C(l,"class","svelte-t3knm3"),C(t,"class","svelte-t3knm3")},m(e,a){v(e,t,a),g(t,n),g(t,s),g(t,l),g(l,o),g(l,c),g(l,i),g(i,u)},p(e,t){1&t&&!r(o.src,a=e[0].assignee.avatar_url)&&C(o,"src",a),1&t&&d!==(d=e[0].assignee.name+"")&&A(u,d)},d(e){e&&h(t)}}}function It(e){let t,n,s,l;const o=[Et,At],a=[];function c(e,t){return e[0].suspend?0:1}return t=c(e),n=a[t]=o[t](e),{c(){n.c(),s=w()},m(e,n){a[t].m(e,n),v(e,s,n),l=!0},p(e,[l]){let r=t;t=c(e),t===r?a[t].p(e,l):(Q(),te(a[r],1,1,(()=>{a[r]=null})),Z(),n=a[t],n?n.p(e,l):(n=a[t]=o[t](e),n.c()),ee(n,1),n.m(s.parentNode,s))},i(e){l||(ee(n),l=!0)},o(e){te(n),l=!1},d(e){a[t].d(e),e&&h(s)}}}let Bt="none";function Ut(e,t,n){let{selOpc:s=(()=>{})}=t,{task:l={}}=t,o=0,a="";const c=e=>{const t=l.labels.indexOf(e);return t>-1?l.labels[t]:void 0};let r={},i=l.id,u="",d="none",p=!1;const f=e=>{"opened"===l.state&&n(3,a=e===a?"":e)};M((()=>{n(4,r=je.get())}));return e.$$set=e=>{"selOpc"in e&&n(1,s=e.selOpc),"task"in e&&n(0,l=e.task)},e.$$.update=()=>{1&e.$$.dirty&&n(6,(l.labels,d=c("alta")||c("media")||c("baja")||"none")),1&e.$$.dirty&&n(5,u="closed"===l.state?"checked":""),1&e.$$.dirty&&(()=>{n(3,a="");let e=0;for(let n=0;n<=10;n++)t=(10*n).toString(),e=l.labels.indexOf(t)>-1?10*n:e;var t;void 0!==o&&n(2,o=e)})(l.labels)},[l,s,o,a,r,u,d,i,()=>{n(0,l.state="opened"===l.state?"closed":"opened",l),n(0,l.progress="closed"===l.state?0:1,l),he.send("task/state",l,(e=>{ve.run("refresh"),he.send("web-task/refresh",l)}))},()=>{n(0,l.labels=[d,o.toString()],l),he.send("task/labels",l,(e=>{ve.run("refresh"),he.send("web-task/refresh",l)}))},f,()=>{n(0,l.suspend=!l.suspend,l),he.send("task/upd",l,(e=>{ve.run("refresh"),he.send("web-task/refresh",l)}))},()=>{p||(p=!0,he.send("web-task/comments",l),setTimeout((()=>p=!1),500))},e=>s(e+":"+l.id),()=>f(i),function(){var e;e=this.value,o=""===e?null:+e,n(2,o)}]}class Ht extends ie{constructor(e){super(),re(this,e,Ut,It,o,{selOpc:1,task:0})}}function Ft(e,t,n){const s=e.slice();return s[2]=t[n],s}function Rt(t){let n,s=be.get("no-tasks-"+(ve.get("filter_tasks")?"delegated":"assigned"))+"";return{c(){n=y(s)},m(e,t){v(e,n,t)},p:e,i:e,o:e,d(e){e&&h(n)}}}function Vt(e){let t,n,s,l=e[1],o=[];for(let t=0;t<l.length;t+=1)o[t]=Jt(Ft(e,l,t));const a=e=>te(o[e],1,1,(()=>{o[e]=null}));return{c(){t=k("div"),n=k("div");for(let e=0;e<o.length;e+=1)o[e].c();C(n,"class","inbox-list svelte-1wb9h1m"),C(t,"class","inbox svelte-1wb9h1m")},m(e,l){v(e,t,l),g(t,n);for(let e=0;e<o.length;e+=1)o[e].m(n,null);s=!0},p(e,t){if(3&t){let s;for(l=e[1],s=0;s<l.length;s+=1){const a=Ft(e,l,s);o[s]?(o[s].p(a,t),ee(o[s],1)):(o[s]=Jt(a),o[s].c(),ee(o[s],1),o[s].m(n,null))}for(Q(),s=l.length;s<o.length;s+=1)a(s);Z()}},i(e){if(!s){for(let e=0;e<l.length;e+=1)ee(o[e]);s=!0}},o(e){o=o.filter(Boolean);for(let e=0;e<o.length;e+=1)te(o[e]);s=!1},d(e){e&&h(t),$(o,e)}}}function Jt(e){let t,n;return t=new Ht({props:{task:e[2],selOpc:e[0]}}),{c(){oe(t.$$.fragment)},m(e,s){ae(t,e,s),n=!0},p(e,n){const s={};2&n&&(s.task=e[2]),1&n&&(s.selOpc=e[0]),t.$set(s)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){ce(t,e)}}}function Yt(e){let t,n,s,l;const o=[Vt,Rt],a=[];function c(e,t){return e[1]instanceof Array&&e[1].length?0:1}return t=c(e),n=a[t]=o[t](e),{c(){n.c(),s=w()},m(e,n){a[t].m(e,n),v(e,s,n),l=!0},p(e,[l]){let r=t;t=c(e),t===r?a[t].p(e,l):(Q(),te(a[r],1,1,(()=>{a[r]=null})),Z(),n=a[t],n?n.p(e,l):(n=a[t]=o[t](e),n.c()),ee(n,1),n.m(s.parentNode,s))},i(e){l||(ee(n),l=!0)},o(e){te(n),l=!1},d(e){a[t].d(e),e&&h(s)}}}function Gt(e,t,n){let{selOpc:s=(()=>{})}=t,{tasks:l=[]}=t;return M((()=>{we.setScroll("tasks")})),e.$$set=e=>{"selOpc"in e&&n(0,s=e.selOpc),"tasks"in e&&n(1,l=e.tasks)},[s,l]}class Wt extends ie{constructor(e){super(),re(this,e,Gt,Yt,o,{selOpc:0,tasks:1})}}function Xt(e,t,n){const s=e.slice();return s[23]=t[n],s}function Kt(t){let n,l,o,a,c,r,i,u,d,p,f,m,b,w,z,S,O,P,T,D,M,N,L,I,B,U,H,F,R,J,Y,G,W,X,K,Q,Z,ee,te,ne,se=be.get(t[0].id?"edit-task":"new-task")+"",le=be.get("customize-start-date")+"",oe=be.get("pause-task")+"",ae=be.get(t[0].id?"save":"add")+"",ce=t[3],re=[];for(let e=0;e<ce.length;e+=1)re[e]=Zt(Xt(t,ce,e));let ie=t[5]&&en(t);return{c(){n=k("form"),l=k("h3"),l.textContent=`${t[6].name}`,o=x(),a=k("h4"),c=y(se),r=x(),i=k("input"),u=x(),d=k("textarea"),p=x(),f=k("select");for(let e=0;e<re.length;e+=1)re[e].c();m=x(),b=k("select"),w=k("option"),w.textContent=`${be.get("select-priority")}`,z=k("option"),z.textContent=`${be.get("low-priority")}`,S=k("option"),S.textContent=`${be.get("medium-priority")}`,O=k("option"),O.textContent=`${be.get("high-priority")}`,P=x(),T=k("label"),D=k("input"),M=x(),N=y(le),L=x(),ie&&ie.c(),I=x(),B=k("h4"),B.textContent=`${be.get("deadline")}:`,U=x(),H=k("input"),F=x(),R=k("label"),J=k("input"),Y=x(),G=y(oe),W=x(),X=k("br"),K=x(),Q=k("div"),Z=k("button"),ee=y(ae),C(a,"class","mb1"),i.required=!0,C(i,"type","text"),C(i,"class","input mb1"),C(i,"placeholder",be.get("title")),C(d,"class","textarea mb2"),C(d,"rows","4"),C(d,"placeholder",be.get("description")),C(f,"id","idUsers"),C(f,"class","select mb2"),f.required=!0,void 0===t[4].idUser&&V((()=>t[11].call(f))),w.__value="",w.value=w.__value,z.__value="baja",z.value=z.__value,S.__value="media",S.value=S.__value,O.__value="alta",O.value=O.__value,C(b,"class","select mb1"),b.required=!0,void 0===t[4].priority&&V((()=>t[12].call(b))),C(D,"type","checkbox"),C(B,"class","mb1"),C(H,"type","date"),C(H,"clas","mb1"),C(J,"type","checkbox"),C(Z,"class","btn"),C(Z,"type","submit"),C(Q,"class","mt2"),C(n,"class","p1")},m(e,s){v(e,n,s),g(n,l),g(n,o),g(n,a),g(a,c),g(n,r),g(n,i),t[8](i),E(i,t[4].title),g(n,u),g(n,d),E(d,t[4].description),g(n,p),g(n,f);for(let e=0;e<re.length;e+=1)re[e].m(f,null);q(f,t[4].idUser),g(n,m),g(n,b),g(b,w),g(b,z),g(b,S),g(b,O),q(b,t[4].priority),g(n,P),g(n,T),g(T,D),D.checked=t[5],g(T,M),g(T,N),g(n,L),ie&&ie.m(n,null),g(n,I),g(n,B),g(n,U),g(n,H),E(H,t[4].date),g(n,F),g(n,R),g(R,J),J.checked=t[4].suspend,g(R,Y),g(R,G),g(n,W),g(n,X),g(n,K),g(n,Q),g(Q,Z),g(Z,ee),te||(ne=[_(i,"input",t[9]),_(d,"input",t[10]),_(f,"change",t[11]),_(b,"change",t[12]),_(D,"change",t[13]),_(H,"input",t[15]),_(J,"change",t[16]),_(n,"submit",j(t[7]))],te=!0)},p(e,t){if(1&t&&se!==(se=be.get(e[0].id?"edit-task":"new-task")+"")&&A(c,se),24&t&&i.value!==e[4].title&&E(i,e[4].title),24&t&&E(d,e[4].description),8&t){let n;for(ce=e[3],n=0;n<ce.length;n+=1){const s=Xt(e,ce,n);re[n]?re[n].p(s,t):(re[n]=Zt(s),re[n].c(),re[n].m(f,null))}for(;n<re.length;n+=1)re[n].d(1);re.length=ce.length}24&t&&q(f,e[4].idUser),24&t&&q(b,e[4].priority),32&t&&(D.checked=e[5]),e[5]?ie?ie.p(e,t):(ie=en(e),ie.c(),ie.m(n,I)):ie&&(ie.d(1),ie=null),24&t&&E(H,e[4].date),24&t&&(J.checked=e[4].suspend),1&t&&ae!==(ae=be.get(e[0].id?"save":"add")+"")&&A(ee,ae)},i:e,o:e,d(e){e&&h(n),t[8](null),$(re,e),ie&&ie.d(),te=!1,s(ne)}}}function Qt(t){let n,s;return n=new me({}),{c(){oe(n.$$.fragment)},m(e,t){ae(n,e,t),s=!0},p:e,i(e){s||(ee(n.$$.fragment,e),s=!0)},o(e){te(n.$$.fragment,e),s=!1},d(e){ce(n,e)}}}function Zt(e){let t,n,s,l=e[23].value+"";return{c(){t=k("option"),n=y(l),t.__value=s=e[23].id,t.value=t.__value},m(e,s){v(e,t,s),g(t,n)},p(e,o){8&o&&l!==(l=e[23].value+"")&&A(n,l),8&o&&s!==(s=e[23].id)&&(t.__value=s,t.value=t.__value)},d(e){e&&h(t)}}}function en(e){let t,n,s,l,o;return{c(){t=k("h4"),t.textContent=`${be.get("start-date")}:`,n=x(),s=k("input"),C(t,"class","mb1"),C(s,"type","date"),C(s,"clas","mb1")},m(a,c){v(a,t,c),v(a,n,c),v(a,s,c),E(s,e[4].begin),l||(o=_(s,"input",e[14]),l=!0)},p(e,t){24&t&&E(s,e[4].begin)},d(e){e&&h(t),e&&h(n),e&&h(s),l=!1,o()}}}function tn(e){let t,n,s,l;const o=[Qt,Kt],a=[];function c(e,t){return e[1]?0:1}return t=c(e),n=a[t]=o[t](e),{c(){n.c(),s=w()},m(e,n){a[t].m(e,n),v(e,s,n),l=!0},p(e,[l]){let r=t;t=c(e),t===r?a[t].p(e,l):(Q(),te(a[r],1,1,(()=>{a[r]=null})),Z(),n=a[t],n?n.p(e,l):(n=a[t]=o[t](e),n.c()),ee(n,1),n.m(s.parentNode,s))},i(e){l||(ee(n),l=!0)},o(e){te(n),l=!1},d(e){a[t].d(e),e&&h(s)}}}function nn(e,t,n){let{task:s={}}=t;const l=N();let o=!0,a=ve.get("project"),c=null,r=[],i={},u=!1;const d=e=>{if(s&&s.labels){const t=s.labels.indexOf(e);return t>-1?s.labels[t]:void 0}};return M((()=>{he.send("user/list-by-project",{id:a.id},(e=>{e.unshift({id:"",value:be.get("assign-user")+"..."}),n(3,r=e),n(4,i=function(e){return n(5,u=!!e.begin),n(4,i={suspend:e.suspend||!1,date:(e.dueDate||"")+"",begin:(e.begin||"")+"",title:(e.title||"")+"",description:(e.description||"")+"",idProject:a.id,idUser:(e.assignee?e.assignee.id:"")||"",priority:d("alta")||d("media")||d("baja")||""}),i}(s)),n(1,o=!1)}))})),e.$$set=e=>{"task"in e&&n(0,s=e.task)},[s,o,c,r,i,u,a,function(){s.id,n(4,i.idProject=a.id,i),s.id?function(){if(-1===s.labels.indexOf(i.priority)){const e=[];for(const t in s.labels)-1===["alta","media","baja"].indexOf(s.labels[t])&&e.push(s.labels[t]);e.push(i.priority),n(4,i.labels=e,i)}u||n(4,i.begin=void 0,i),n(4,i.id=s.id,i),n(4,i.idProject=a.id,i),he.send("task/upd",i,(e=>{if(e&&e.id){const t=je.get(),n=e.assignee.id===t.id?0:1;ve.get("tasks-"+n,[]);const s=ve.get("statistics");s&&s[e.idProject]&&(s[e.idProject]=void 0,ve.set("statistics",s)),ve.set("tasks-0",[]),ve.set("tasks-1",[]),l("EventAdded",{op:"upd",opc:"tasks_"+n})}else he.send("onError",be.key(e&&e.message||"err"))}))}():(u||n(4,i.begin=void 0,i),he.send("task/add",i,(e=>{if(e&&e.id){const t=je.get(),n=e.assignee.id===t.id?0:1,s=ve.get("tasks-"+n,[]),o=ve.get("statistics");o&&o[e.idProject]&&(o[e.idProject]=void 0,ve.set("statistics",o)),s.unshift(e),ve.set("tasks-"+n,s),ve.set("filter_state",0),ve.set("filter_priority",0),l("EventAdded",{op:"add",opc:"tasks_"+n})}else he.send("onError",be.key(e&&e.message||"err"))})))},function(e){I[e?"unshift":"push"]((()=>{c=e,n(2,c)}))},function(){i.title=this.value,n(4,i),n(3,r)},function(){i.description=this.value,n(4,i),n(3,r)},function(){i.idUser=O(this),n(4,i),n(3,r)},function(){i.priority=O(this),n(4,i),n(3,r)},function(){u=this.checked,n(5,u)},function(){i.begin=this.value,n(4,i),n(3,r)},function(){i.date=this.value,n(4,i),n(3,r)},function(){i.suspend=this.checked,n(4,i),n(3,r)}]}class sn extends ie{constructor(e){super(),re(this,e,nn,tn,o,{task:0})}}function ln(t){let n,l,o,a,c,r,i,u,d,p,f,m,$,b,w,z,E,S,q,O,P,T,D,M,N,L,I=t[0].title+"",B=t[0].description+"",U=t[0].dueDate+"";return{c(){n=k("form"),l=k("h3"),l.textContent=`${t[1].name}`,o=x(),a=k("h4"),a.textContent=`${be.get("delete-task")}`,c=x(),r=k("span"),i=y(I),u=x(),d=k("p"),p=y(B),f=x(),m=k("h4"),m.textContent=`${be.get("deadline")}`,$=x(),b=k("span"),w=y(U),z=x(),E=k("br"),S=x(),q=k("h4"),q.textContent=`${be.get("are-you-sure-you-want-to-delete")}`,O=x(),P=k("div"),T=k("input"),D=x(),M=k("button"),M.textContent=`${be.get("remove")}`,C(a,"class","mb1"),C(r,"class","input mb1 svelte-i0wpt8"),C(d,"class","input mb1 svelte-i0wpt8"),C(m,"class","mb1"),C(b,"class","mb1 svelte-i0wpt8"),C(T,"class","btn"),C(T,"type","button"),T.value=be.get("cancel"),C(M,"class","btn"),C(M,"type","submit"),C(P,"class","flex mt1"),C(n,"class","p1")},m(e,s){v(e,n,s),g(n,l),g(n,o),g(n,a),g(n,c),g(n,r),g(r,i),g(n,u),g(n,d),g(d,p),g(n,f),g(n,m),g(n,$),g(n,b),g(b,w),g(n,z),g(n,E),g(n,S),g(n,q),g(n,O),g(n,P),g(P,T),g(P,D),g(P,M),N||(L=[_(T,"click",t[3]),_(n,"submit",j(t[2]))],N=!0)},p(e,[t]){1&t&&I!==(I=e[0].title+"")&&A(i,I),1&t&&B!==(B=e[0].description+"")&&A(p,B),1&t&&U!==(U=e[0].dueDate+"")&&A(w,U)},i:e,o:e,d(e){e&&h(n),N=!1,s(L)}}}function on(e,t,n){let{task:s={}}=t;const l=N();let o=ve.get("project");return e.$$set=e=>{"task"in e&&n(0,s=e.task)},[s,o,function(){he.send("task/del",s,(e=>{if(e&&e.id){const t=ve.get("filter_tasks",0);ve.get("tasks-"+t,[]);const n=ve.get("statistics");n&&n[e.idProject]&&(n[e.idProject]=void 0,ve.set("statistics",n)),ve.set("tasks-0",[]),ve.set("tasks-1",[]),l("EventDeleted",{op:"del",opc:"tasks_"+t})}else he.send("onError",be.key(e&&e.message||"err"))}))},function(){l("EventDeleted",{opc:"list"})}]}class an extends ie{constructor(e){super(),re(this,e,on,ln,o,{task:0})}}function cn(e,t,n){const s=e.slice();return s[5]=t[n],s[7]=n,s}function rn(e){let t,n,s,l,o,a,c,r=e[5].title+"";function i(){return e[3](e[7])}return{c(){t=k("a"),n=k("i"),l=x(),o=y(r),C(n,"class",s=m(e[5].icon)+" svelte-njfrk6"),C(t,"class","item svelte-njfrk6"),C(t,"href","#option")},m(e,s){v(e,t,s),g(t,n),g(t,l),g(t,o),a||(c=_(t,"click",j(i)),a=!0)},p(t,l){e=t,1&l&&s!==(s=m(e[5].icon)+" svelte-njfrk6")&&C(n,"class",s),1&l&&r!==(r=e[5].title+"")&&A(o,r)},d(e){e&&h(t),a=!1,c()}}}function un(t){let n,s,l,o,a,c,r=t[0].options,i=[];for(let e=0;e<r.length;e+=1)i[e]=rn(cn(t,r,e));return{c(){n=k("div"),s=k("span"),l=k("i"),a=x(),c=k("div");for(let e=0;e<i.length;e+=1)i[e].c();C(l,"class",o=m(t[1].icon)+" svelte-njfrk6"),C(s,"class","dropbtn svelte-njfrk6"),C(c,"class","dropdown-content svelte-njfrk6"),C(n,"class","dropdown svelte-njfrk6")},m(e,t){v(e,n,t),g(n,s),g(s,l),g(n,a),g(n,c);for(let e=0;e<i.length;e+=1)i[e].m(c,null)},p(e,[t]){if(2&t&&o!==(o=m(e[1].icon)+" svelte-njfrk6")&&C(l,"class",o),5&t){let n;for(r=e[0].options,n=0;n<r.length;n+=1){const s=cn(e,r,n);i[n]?i[n].p(s,t):(i[n]=rn(s),i[n].c(),i[n].m(c,null))}for(;n<i.length;n+=1)i[n].d(1);i.length=r.length}},i:e,o:e,d(e){e&&h(n),$(i,e)}}}function dn(e,t,n){let{btn:s={options:[]}}=t;const l=N();let o={icon:""};const a=e=>{n(0,s.selectedIndex=e,s),n(1,o=s.options[s.selectedIndex]),l("SelectedOption",s)};M((()=>{n(1,o=s.options[s.selectedIndex])}));return e.$$set=e=>{"btn"in e&&n(0,s=e.btn)},[s,o,a,e=>{a(e)}]}class pn extends ie{constructor(e){super(),re(this,e,dn,un,o,{btn:0})}}function fn(e,t,n){const s=e.slice();return s[9]=t[n],s}function mn(e,t,n){const s=e.slice();return s[9]=t[n],s}function gn(t){let n,s,l,o,a,c,r;function i(){return t[3](t[9])}return{c(){n=k("span"),s=k("i"),o=x(),C(s,"class",l=m(t[9].icon)+" svelte-1bknspx"),C(n,"class","btn svelte-1bknspx"),C(n,"title",a=t[9].title)},m(e,t){v(e,n,t),g(n,s),g(n,o),c||(r=_(n,"click",i),c=!0)},p(e,o){t=e,1&o&&l!==(l=m(t[9].icon)+" svelte-1bknspx")&&C(s,"class",l),1&o&&a!==(a=t[9].title)&&C(n,"title",a)},i:e,o:e,d(e){e&&h(n),c=!1,r()}}}function vn(e){let t,n;return t=new pn({props:{btn:e[9]}}),t.$on("SelectedOption",e[1]),{c(){oe(t.$$.fragment)},m(e,s){ae(t,e,s),n=!0},p(e,n){const s={};1&n&&(s.btn=e[9]),t.$set(s)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){ce(t,e)}}}function hn(e){let t,n,s,l;const o=[vn,gn],a=[];function c(e,t){return"dropdown"===e[9].type?0:"button"===e[9].type?1:-1}return~(t=c(e))&&(n=a[t]=o[t](e)),{c(){n&&n.c(),s=w()},m(e,n){~t&&a[t].m(e,n),v(e,s,n),l=!0},p(e,l){let r=t;t=c(e),t===r?~t&&a[t].p(e,l):(n&&(Q(),te(a[r],1,1,(()=>{a[r]=null})),Z()),~t?(n=a[t],n?n.p(e,l):(n=a[t]=o[t](e),n.c()),ee(n,1),n.m(s.parentNode,s)):n=null)},i(e){l||(ee(n),l=!0)},o(e){te(n),l=!1},d(e){~t&&a[t].d(e),e&&h(s)}}}function $n(t){let n,s,l,o,a,c,r;function i(){return t[4](t[9])}return{c(){n=k("span"),s=k("i"),o=x(),C(s,"class",l=m(t[9].icon)+" svelte-1bknspx"),C(n,"class","btn svelte-1bknspx"),C(n,"title",a=t[9].title)},m(e,t){v(e,n,t),g(n,s),g(n,o),c||(r=_(n,"click",i),c=!0)},p(e,o){t=e,1&o&&l!==(l=m(t[9].icon)+" svelte-1bknspx")&&C(s,"class",l),1&o&&a!==(a=t[9].title)&&C(n,"title",a)},i:e,o:e,d(e){e&&h(n),c=!1,r()}}}function kn(e){let t,n;return t=new pn({props:{btn:e[9]}}),t.$on("EventSeletect",e[1]),{c(){oe(t.$$.fragment)},m(e,s){ae(t,e,s),n=!0},p(e,n){const s={};1&n&&(s.btn=e[9]),t.$set(s)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){ce(t,e)}}}function bn(e){let t,n,s,l;const o=[kn,$n],a=[];function c(e,t){return"dropdown"===e[9].type?0:"button"===e[9].type?1:-1}return~(t=c(e))&&(n=a[t]=o[t](e)),{c(){n&&n.c(),s=w()},m(e,n){~t&&a[t].m(e,n),v(e,s,n),l=!0},p(e,l){let r=t;t=c(e),t===r?~t&&a[t].p(e,l):(n&&(Q(),te(a[r],1,1,(()=>{a[r]=null})),Z()),~t?(n=a[t],n?n.p(e,l):(n=a[t]=o[t](e),n.c()),ee(n,1),n.m(s.parentNode,s)):n=null)},i(e){l||(ee(n),l=!0)},o(e){te(n),l=!1},d(e){~t&&a[t].d(e),e&&h(s)}}}function yn(e){let t,n,s,l,o,a=e[0].left,c=[];for(let t=0;t<a.length;t+=1)c[t]=hn(mn(e,a,t));const r=e=>te(c[e],1,1,(()=>{c[e]=null}));let i=e[0].right,u=[];for(let t=0;t<i.length;t+=1)u[t]=bn(fn(e,i,t));const d=e=>te(u[e],1,1,(()=>{u[e]=null}));return{c(){t=k("div"),n=k("div");for(let e=0;e<c.length;e+=1)c[e].c();s=x(),l=k("div");for(let e=0;e<u.length;e+=1)u[e].c();C(n,"class","box-left svelte-1bknspx"),C(l,"class","box-right svelte-1bknspx"),C(t,"class","box-nav svelte-1bknspx")},m(e,a){v(e,t,a),g(t,n);for(let e=0;e<c.length;e+=1)c[e].m(n,null);g(t,s),g(t,l);for(let e=0;e<u.length;e+=1)u[e].m(l,null);o=!0},p(e,[t]){if(3&t){let s;for(a=e[0].left,s=0;s<a.length;s+=1){const l=mn(e,a,s);c[s]?(c[s].p(l,t),ee(c[s],1)):(c[s]=hn(l),c[s].c(),ee(c[s],1),c[s].m(n,null))}for(Q(),s=a.length;s<c.length;s+=1)r(s);Z()}if(3&t){let n;for(i=e[0].right,n=0;n<i.length;n+=1){const s=fn(e,i,n);u[n]?(u[n].p(s,t),ee(u[n],1)):(u[n]=bn(s),u[n].c(),ee(u[n],1),u[n].m(l,null))}for(Q(),n=i.length;n<u.length;n+=1)d(n);Z()}},i(e){if(!o){for(let e=0;e<a.length;e+=1)ee(c[e]);for(let e=0;e<i.length;e+=1)ee(u[e]);o=!0}},o(e){c=c.filter(Boolean);for(let e=0;e<c.length;e+=1)te(c[e]);u=u.filter(Boolean);for(let e=0;e<u.length;e+=1)te(u[e]);o=!1},d(e){e&&h(t),$(c,e),$(u,e)}}}function xn(e,t,n){let{btns:s=""}=t;const l=N();let o={left:{},right:{}};const a={Priority:{type:"dropdown",id:"priority",selectedIndex:ve.get("filter_priority",0),options:[{title:be.get("all"),icon:"fas fa-square blue"},{title:be.get("high-priority"),icon:"fas fa-square red"},{title:be.get("medium-priority"),icon:"fas fa-square yellow"},{title:be.get("low-priority"),icon:"fas fa-square green"}]},State:{type:"dropdown",id:"state",selectedIndex:ve.get("filter_state",0),options:[{title:be.get("all"),icon:"far fa-square blue"},{title:be.get("open"),icon:"far fa-square orange"},{title:be.get("close"),icon:"far fa-check-square green"}]},Task:{type:"dropdown",id:"tasks",selectedIndex:ve.get("filter_tasks",0),options:[{title:be.get("assigned"),icon:"far fa-user blue"},{title:be.get("delegates"),icon:"fas fa-users orange"}]},Add:{type:"button",id:"add",title:be.get("new-task"),icon:" fas fa-plus blue"},Back:{type:"button",id:"back",title:be.get("back"),icon:" fas fa-reply blue"}},c=e=>{const t=[],n=e.split(",");for(const e in n)if(a[n[e]]){const s=a[n[e]];s.selectedIndex=ve.get("filter_"+s.id,0),t.push(a[n[e]])}return t},r=e=>{if("string"==typeof e){const t=e.split("/");n(0,o.left=t[0]?c(t[0]):[],o),n(0,o.right=t[0]?c(t[1]):[],o)}return o},i=e=>{e instanceof CustomEvent&&(e=e.detail.id+"_"+e.detail.selectedIndex),l("EventToolsBtns",{opc:e})};M((()=>{n(0,o=r(s))}));return e.$$set=e=>{"btns"in e&&n(2,s=e.btns)},e.$$.update=()=>{4&e.$$.dirty&&n(0,o=r(s))},[o,i,s,e=>i(e.id),e=>i(e.id)]}class wn extends ie{constructor(e){super(),re(this,e,xn,yn,o,{btns:2})}}function _n(e){let t,n;return t=new st({props:{id:"Project",label:e[3]}}),t.$on("EventExpand",e[6]),t.$on("EventSelect",e[8]),{c(){oe(t.$$.fragment)},m(e,s){ae(t,e,s),n=!0},p(e,n){const s={};8&n&&(s.label=e[3]),t.$set(s)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){ce(t,e)}}}function jn(e){let t,n;return t=new wn({props:{btns:e[2]}}),t.$on("EventToolsBtns",e[7]),{c(){oe(t.$$.fragment)},m(e,s){ae(t,e,s),n=!0},p(e,n){const s={};4&n&&(s.btns=e[2]),t.$set(s)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){ce(t,e)}}}function Cn(t){let n,s;return n=new me({}),{c(){oe(n.$$.fragment)},m(e,t){ae(n,e,t),s=!0},p:e,i(e){s||(ee(n.$$.fragment,e),s=!0)},o(e){te(n.$$.fragment,e),s=!1},d(e){ce(n,e)}}}function zn(e){let t,n;return t=new an({props:{task:e[0]}}),t.$on("EventDeleted",e[7]),{c(){oe(t.$$.fragment)},m(e,s){ae(t,e,s),n=!0},p(e,n){const s={};1&n&&(s.task=e[0]),t.$set(s)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){ce(t,e)}}}function An(e){let t,n;return t=new sn({props:{task:e[0]}}),t.$on("EventAdded",e[7]),{c(){oe(t.$$.fragment)},m(e,s){ae(t,e,s),n=!0},p(e,n){const s={};1&n&&(s.task=e[0]),t.$set(s)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){ce(t,e)}}}function En(e){let t,n;return t=new Wt({props:{tasks:e[1],selOpc:e[9]}}),{c(){oe(t.$$.fragment)},m(e,s){ae(t,e,s),n=!0},p(e,n){const s={};2&n&&(s.tasks=e[1]),t.$set(s)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){ce(t,e)}}}function Sn(e){let t,n,s,l,o,a,c,r,i,u="new"!==e[4]&&_n(e),d="none"!==e[4]&&jn(e);const p=[En,An,zn,Cn],f=[];function $(e,t){return"list"===e[4]?0:"new"===e[4]||"edit"===e[4]?1:"del"===e[4]?2:"load"===e[4]?3:-1}return~(a=$(e))&&(c=f[a]=p[a](e)),{c(){t=k("header"),u&&u.c(),n=x(),d&&d.c(),l=x(),o=k("main"),c&&c.c(),C(t,"class",s=m(e[5])+" svelte-ob3r67"),C(o,"class",r=m(e[5])+" svelte-ob3r67")},m(e,s){v(e,t,s),u&&u.m(t,null),g(t,n),d&&d.m(t,null),v(e,l,s),v(e,o,s),~a&&f[a].m(o,null),i=!0},p(e,[l]){"new"!==e[4]?u?(u.p(e,l),16&l&&ee(u,1)):(u=_n(e),u.c(),ee(u,1),u.m(t,n)):u&&(Q(),te(u,1,1,(()=>{u=null})),Z()),"none"!==e[4]?d?(d.p(e,l),16&l&&ee(d,1)):(d=jn(e),d.c(),ee(d,1),d.m(t,null)):d&&(Q(),te(d,1,1,(()=>{d=null})),Z()),(!i||32&l&&s!==(s=m(e[5])+" svelte-ob3r67"))&&C(t,"class",s);let g=a;a=$(e),a===g?~a&&f[a].p(e,l):(c&&(Q(),te(f[g],1,1,(()=>{f[g]=null})),Z()),~a?(c=f[a],c?c.p(e,l):(c=f[a]=p[a](e),c.c()),ee(c,1),c.m(o,null)):c=null),(!i||32&l&&r!==(r=m(e[5])+" svelte-ob3r67"))&&C(o,"class",r)},i(e){i||(ee(u),ee(d),ee(c),i=!0)},o(e){te(u),te(d),te(c),i=!1},d(e){e&&h(t),u&&u.d(),d&&d.d(),e&&h(l),e&&h(o),~a&&f[a].d()}}}function qn(e,t,n){let s={id:0,name:""},l={},o={},a="",c="",r="",i="",u={};const d=e=>{var t;n(3,c=(t=e).id?t.name:be.get("select-project")),s=e,ve.set("project",s)},p=e=>{if("list"===e){if(!s.id)return n(4,r="none");n(2,a="Priority,State,Task/Add")}else"new"===e?(n(0,l={}),n(2,a="Back/")):n(2,a="edit"===e?"Back/":"");n(4,r=e),"function"==typeof u.set&&u.set(a)},f=(e,t)=>{he.send("task/list-data-"+e,s,(n=>{ve.set("tasks-"+e,n),m(n,t)}))},m=(e,t)=>{e=(e=>{const t=[],n=ve.get("filter_priority",0);if(0===n)return e;for(const s in e)(1===n&&e[s].labels.indexOf("alta")>-1||2===n&&e[s].labels.indexOf("media")>-1||3===n&&e[s].labels.indexOf("baja")>-1)&&t.push(e[s]);return t})(e=(e=>{const t=[],n=ve.get("filter_state",0);if(0===n)return e;for(const s in e)(1===n&&"opened"===e[s].state||2===n&&"closed"===e[s].state)&&t.push(e[s]);return t})(e)),n(1,o=e),t("list")},g=e=>{const t=ve.get("filter_tasks",0);let n=ve.get("tasks-"+t,[]);n&&n.length?m(n,e):(p("load"),f(t,(()=>{e("list")})))},v=e=>{((e,t)=>{const n=e.split("_");n.length>1?(ve.set("filter_"+n[0],parseInt(n[1])),g(t)):t(e)})(e,(e=>{p("add"===e?"new":"back"===e?"list":e)}))};function h(e){for(const t in o)if(o[t].id===e)return o[t];return{}}return M((()=>{d(ve.get("project",s)),p("load"),f(ve.get("filter_tasks",0),(()=>{p("list")}))})),[l,o,a,c,r,i,e=>{n(5,i=e.detail?"expand":"")},e=>{const t=e.detail;"function"==typeof t.set&&(u=t,u.set(a)),t.op?(t.op,g((()=>{p("list")}))):t.opc&&v(t.opc)},e=>{const t=e.detail;t.data?(d(t.data),p("load"),f(ve.get("filter_tasks",0),(()=>{p("list")}))):he.send("project/search",{key:t.value},t.fun)},e=>{const t=e.split(":");"E"===t[0]?(n(0,l=h(parseInt(t[1]))),p("edit")):"D"===t[0]&&(n(0,l=h(parseInt(t[1]))),p("del"))}]}class On extends ie{constructor(e){super(),re(this,e,qn,Sn,o,{})}}function Pn(e,t,n){const s=e.slice();return s[19]=t[n],s[21]=n,s}function Tn(e,t,n){const s=e.slice();return s[22]=t[n],s[24]=n,s}function Dn(e,t,n){const s=e.slice();return s[25]=t[n],s}function Mn(e,t,n){const s=e.slice();return s[25]=t[n],s}function Nn(e,t,n){const s=e.slice();return s[25]=t[n],s}function Ln(e,t,n){const s=e.slice();return s[32]=t[n],s[34]=n,s}function In(e,t){let n,s,l=t[6][(t[34]+t[2])%7]+"";return{key:e,first:null,c(){n=k("span"),s=y(l),C(n,"class","label svelte-1jsn8o1"),this.first=n},m(e,t){v(e,n,t),g(n,s)},p(e,n){t=e,4&n[0]&&l!==(l=t[6][(t[34]+t[2])%7]+"")&&A(s,l)},d(e){e&&h(n)}}}function Bn(e){let t,n=[],s=new Map,l={length:7};const o=e=>e[24];for(let t=0;t<l.length;t+=1){let a=Tn(e,l,t),c=o(a);s.set(c,n[t]=Yn(c,a))}return{c(){for(let e=0;e<n.length;e+=1)n[e].c();t=w()},m(e,s){for(let t=0;t<n.length;t+=1)n[t].m(e,s);v(e,t,s)},p(e,a){3128&a[0]&&(l={length:7},n=le(n,a,o,1,e,l,s,t.parentNode,se,Yn,t,Tn))},d(e){for(let t=0;t<n.length;t+=1)n[t].d(e);e&&h(t)}}}function Un(e){let t,n,s,l,o,a=e[5][0][e[24]]+"",c=e[11](e[5][0][e[24]]),r=[];for(let t=0;t<c.length;t+=1)r[t]=Rn(Dn(e,c,t));return{c(){t=k("span"),n=k("span"),s=y(a),l=x();for(let e=0;e<r.length;e+=1)r[e].c();o=x(),C(n,"class","day svelte-1jsn8o1"),C(t,"class","date other svelte-1jsn8o1")},m(e,a){v(e,t,a),g(t,n),g(n,s),g(t,l);for(let e=0;e<r.length;e+=1)r[e].m(t,null);g(t,o)},p(e,n){if(32&n[0]&&a!==(a=e[5][0][e[24]]+"")&&A(s,a),2080&n[0]){let s;for(c=e[11](e[5][0][e[24]]),s=0;s<c.length;s+=1){const l=Dn(e,c,s);r[s]?r[s].p(l,n):(r[s]=Rn(l),r[s].c(),r[s].m(t,o))}for(;s<r.length;s+=1)r[s].d(1);r.length=c.length}},d(e){e&&h(t),$(r,e)}}}function Hn(e){let t,n,s,l,o,a=e[3][e[3].length-1][e[24]]+"",c=e[11](e[3][e[3].length-1][e[24]]),r=[];for(let t=0;t<c.length;t+=1)r[t]=Vn(Mn(e,c,t));return{c(){t=k("span"),n=k("span"),s=y(a),l=x();for(let e=0;e<r.length;e+=1)r[e].c();o=x(),C(n,"class","day svelte-1jsn8o1"),C(t,"class","date other svelte-1jsn8o1")},m(e,a){v(e,t,a),g(t,n),g(n,s),g(t,l);for(let e=0;e<r.length;e+=1)r[e].m(t,null);g(t,o)},p(e,n){if(8&n[0]&&a!==(a=e[3][e[3].length-1][e[24]]+"")&&A(s,a),2056&n[0]){let s;for(c=e[11](e[3][e[3].length-1][e[24]]),s=0;s<c.length;s+=1){const l=Mn(e,c,s);r[s]?r[s].p(l,n):(r[s]=Vn(l),r[s].c(),r[s].m(t,o))}for(;s<r.length;s+=1)r[s].d(1);r.length=c.length}},d(e){e&&h(t),$(r,e)}}}function Fn(e){let t,n,s,l,o,a=e[4][e[21]][e[24]]+"",c=e[11](e[4][e[21]][e[24]]),r=[];for(let t=0;t<c.length;t+=1)r[t]=Jn(Nn(e,c,t));return{c(){t=k("span"),n=k("span"),s=y(a),l=x();for(let e=0;e<r.length;e+=1)r[e].c();o=x(),C(n,"class","day svelte-1jsn8o1"),C(t,"class","date svelte-1jsn8o1"),P(t,"today",e[10](e[4][e[21]][e[24]]))},m(e,a){v(e,t,a),g(t,n),g(n,s),g(t,l);for(let e=0;e<r.length;e+=1)r[e].m(t,null);g(t,o)},p(e,n){if(16&n[0]&&a!==(a=e[4][e[21]][e[24]]+"")&&A(s,a),2064&n[0]){let s;for(c=e[11](e[4][e[21]][e[24]]),s=0;s<c.length;s+=1){const l=Nn(e,c,s);r[s]?r[s].p(l,n):(r[s]=Jn(l),r[s].c(),r[s].m(t,o))}for(;s<r.length;s+=1)r[s].d(1);r.length=c.length}1040&n[0]&&P(t,"today",e[10](e[4][e[21]][e[24]]))},d(e){e&&h(t),$(r,e)}}}function Rn(e){let t;return{c(){t=k("span"),C(t,"class","point svelte-1jsn8o1"),S(t,"background-color",e[25])},m(e,n){v(e,t,n)},p(e,n){32&n[0]&&S(t,"background-color",e[25])},d(e){e&&h(t)}}}function Vn(e){let t;return{c(){t=k("span"),C(t,"class","point svelte-1jsn8o1"),S(t,"background-color",e[25])},m(e,n){v(e,t,n)},p(e,n){8&n[0]&&S(t,"background-color",e[25])},d(e){e&&h(t)}}}function Jn(e){let t;return{c(){t=k("span"),C(t,"class","point svelte-1jsn8o1"),S(t,"background-color",e[25])},m(e,n){v(e,t,n)},p(e,n){16&n[0]&&S(t,"background-color",e[25])},d(e){e&&h(t)}}}function Yn(e,t){let n,s;function l(e,t){return 0!=e[4][e[21]][e[24]]?Fn:e[21]<1?Hn:Un}let o=l(t),a=o(t);return{key:e,first:null,c(){n=w(),a.c(),s=w(),this.first=n},m(e,t){v(e,n,t),a.m(e,t),v(e,s,t)},p(e,n){o===(o=l(t=e))&&a?a.p(t,n):(a.d(1),a=o(t),a&&(a.c(),a.m(s.parentNode,s)))},d(e){e&&h(n),a.d(e),e&&h(s)}}}function Gn(e,t){let n,s,l=t[4][t[21]]&&Bn(t);return{key:e,first:null,c(){n=w(),l&&l.c(),s=w(),this.first=n},m(e,t){v(e,n,t),l&&l.m(e,t),v(e,s,t)},p(e,n){(t=e)[4][t[21]]?l?l.p(t,n):(l=Bn(t),l.c(),l.m(s.parentNode,s)):l&&(l.d(1),l=null)},d(e){e&&h(n),l&&l.d(e),e&&h(s)}}}function Wn(t){let n,l,o,a,c,r,i,u,d,p,f,m,$,b,w=t[7][t[1]]+"",j=[],z=new Map,E=[],S=new Map,q=t[6];const O=e=>e[32];for(let e=0;e<q.length;e+=1){let n=Ln(t,q,e),s=O(n);z.set(s,j[e]=In(s,n))}let P={length:6};const T=e=>e[21];for(let e=0;e<P.length;e+=1){let n=Pn(t,P,e),s=T(n);S.set(s,E[e]=Gn(s,n))}return{c(){n=k("header"),l=k("span"),l.innerHTML='<i class="fas fa-arrow-circle-left"></i>',o=x(),a=k("h4"),c=y(w),r=x(),i=y(t[0]),u=x(),d=k("span"),d.innerHTML='<i class="fas fa-arrow-circle-right"></i>',p=x(),f=k("div");for(let e=0;e<j.length;e+=1)j[e].c();m=x();for(let e=0;e<E.length;e+=1)E[e].c();C(l,"class","svelte-1jsn8o1"),C(a,"class","svelte-1jsn8o1"),C(d,"class","svelte-1jsn8o1"),C(n,"class","svelte-1jsn8o1"),C(f,"class","month svelte-1jsn8o1")},m(e,s){v(e,n,s),g(n,l),g(n,o),g(n,a),g(a,c),g(a,r),g(a,i),g(n,u),g(n,d),v(e,p,s),v(e,f,s);for(let e=0;e<j.length;e+=1)j[e].m(f,null);g(f,m);for(let e=0;e<E.length;e+=1)E[e].m(f,null);$||(b=[_(l,"click",t[8]),_(d,"click",t[9])],$=!0)},p(e,t){2&t[0]&&w!==(w=e[7][e[1]]+"")&&A(c,w),1&t[0]&&A(i,e[0]),68&t[0]&&(q=e[6],j=le(j,t,O,1,e,q,z,f,se,In,m,Ln)),3128&t[0]&&(P={length:6},E=le(E,t,T,1,e,P,S,f,se,Gn,null,Pn))},i:e,o:e,d(e){e&&h(n),e&&h(p),e&&h(f);for(let e=0;e<j.length;e+=1)j[e].d();for(let e=0;e<E.length;e+=1)E[e].d();$=!1,s(b)}}}function Xn(e,t,n){let s,l,o;const a=new Date;let{year:c=a.getFullYear}=t,{month:r=a.getMonth()}=t,{offset:i=1}=t,{today:u=new Date}=t,{dates:d=[]}=t,p=("es"===be.id?"Dom,Lun,Mar,Mie,Jue,Vie,Sab":"Sun,Mon,Tue,Wed,Thu,Fri,Sat").split(","),f=("es"===be.id?"Ene,Feb,Mar,Abr,May,Jun,Jul,Ago,Sep,Oct,Nov,Dic":"Jan,Feb,Mar,Apr,May,Jun,July,Aug,Sep,Oct,Nov,Dec").split(",");const m=(e,t)=>{let n,s=0,l=0,o=[],a=new Date(e||new Date),c=a.getFullYear(),r=a.getMonth(),i=new Date(c,r,1-(0|t)).getDay(),u=new Date(c,r+1,0).getDate();for(;s<u;){for(l=0,n=Array(7);l<7;){for(;l<i;)n[l++]=0;n[l++]=++s>u?0:s,i=0}o.push(n)}return o};let g=m(new Date(c,r-1),i),v=m(new Date(c,r),i),h=m(new Date(c,r+1),i);return e.$$set=e=>{"year"in e&&n(0,c=e.year),"month"in e&&n(1,r=e.month),"offset"in e&&n(2,i=e.offset),"today"in e&&n(12,u=e.today),"dates"in e&&n(13,d=e.dates)},e.$$.update=()=>{4096&e.$$.dirty[0]&&(s=u&&u.getMonth()),4096&e.$$.dirty[0]&&(l=u&&u.getFullYear()),4096&e.$$.dirty[0]&&(o=u&&u.getDate())},[c,r,i,g,v,h,p,f,()=>{n(4,[v,h]=[g,v],v,n(5,h)),n(1,--r)<0&&(n(1,r=11),n(0,c--,c)),n(3,g=m(new Date(c,r-1),i))},()=>{n(3,[g,v]=[v,h],g,n(4,v)),n(1,++r)>11&&(n(1,r=0),n(0,c++,c)),n(5,h=m(new Date(c,r+1),i))},e=>u&&l===c&&s===r&&o===e,e=>{let t=r+1;t=(t>9?"":"0")+t;const n=c+"-"+t+"-"+((e>9?"":"0")+e);return d[n]?d[n]:[]},u,d]}class Kn extends ie{constructor(e){super(),re(this,e,Xn,Wn,o,{year:0,month:1,offset:2,today:12,dates:13},null,[-1,-1])}}function Qn(e,t,n){const s=e.slice();return s[6]=t[n],s}function Zn(e){let t,n,s,l,o;function a(e,t){return e[2].length?ns:ts}n=new Kn({props:{today:e[3],year:e[3].getFullYear(),dates:e[0]}});let c=a(e),r=c(e);return{c(){t=k("div"),oe(n.$$.fragment),s=x(),r.c(),l=w(),C(t,"class","calendar mb2")},m(e,a){v(e,t,a),ae(n,t,null),v(e,s,a),r.m(e,a),v(e,l,a),o=!0},p(e,t){const s={};1&t&&(s.dates=e[0]),n.$set(s),c===(c=a(e))&&r?r.p(e,t):(r.d(1),r=c(e),r&&(r.c(),r.m(l.parentNode,l)))},i(e){o||(ee(n.$$.fragment,e),o=!0)},o(e){te(n.$$.fragment,e),o=!1},d(e){e&&h(t),ce(n),e&&h(s),r.d(e),e&&h(l)}}}function es(t){let n,s;return n=new me({}),{c(){oe(n.$$.fragment)},m(e,t){ae(n,e,t),s=!0},p:e,i(e){s||(ee(n.$$.fragment,e),s=!0)},o(e){te(n.$$.fragment,e),s=!1},d(e){ce(n,e)}}}function ts(t){let n,s=be.get("there-are-no-pending-activities")+"";return{c(){n=y(s)},m(e,t){v(e,n,t)},p:e,d(e){e&&h(n)}}}function ns(e){let t,n=e[2],s=[];for(let t=0;t<n.length;t+=1)s[t]=ss(Qn(e,n,t));return{c(){for(let e=0;e<s.length;e+=1)s[e].c();t=w()},m(e,n){for(let t=0;t<s.length;t+=1)s[t].m(e,n);v(e,t,n)},p(e,l){if(20&l){let o;for(n=e[2],o=0;o<n.length;o+=1){const a=Qn(e,n,o);s[o]?s[o].p(a,l):(s[o]=ss(a),s[o].c(),s[o].m(t.parentNode,t))}for(;o<s.length;o+=1)s[o].d(1);s.length=n.length}},d(e){$(s,e),e&&h(t)}}}function ss(e){let t,n,s,l,o,a,c,r,i,u,d,p,f,m,$,b,w,j,z,E,q,O,P=e[6].project.value+"",T=be.get("pending")+"",D=e[6].opened+"",M=be.get("paused")+"",N=e[6].paused+"";function L(){return e[5](e[6])}return{c(){t=k("div"),n=k("span"),s=x(),l=k("div"),o=k("div"),a=y(P),c=x(),r=k("span"),r.innerHTML='<i class="fa-solid fa-arrow-up-right-from-square"></i>',i=x(),u=k("div"),d=k("span"),p=y(T),f=y(": "),m=y(D),$=x(),b=k("span"),w=y(M),j=y(": "),z=y(N),E=x(),C(n,"class","square svelte-1srmlxo"),S(n,"background-color",e[6].color),C(o,"class","project-title svelte-1srmlxo"),C(r,"class","svelte-1srmlxo"),C(l,"class","project-head"),C(d,"class"," svelte-1srmlxo"),C(b,"class","svelte-1srmlxo"),C(u,"class","project-info svelte-1srmlxo"),C(t,"class","project-card issues svelte-1srmlxo")},m(e,h){v(e,t,h),g(t,n),g(t,s),g(t,l),g(l,o),g(o,a),g(l,c),g(l,r),g(t,i),g(t,u),g(u,d),g(d,p),g(d,f),g(d,m),g(u,$),g(u,b),g(b,w),g(b,j),g(b,z),g(t,E),q||(O=_(r,"click",L),q=!0)},p(t,s){e=t,4&s&&S(n,"background-color",e[6].color),4&s&&P!==(P=e[6].project.value+"")&&A(a,P),4&s&&D!==(D=e[6].opened+"")&&A(m,D),4&s&&N!==(N=e[6].paused+"")&&A(z,N)},d(e){e&&h(t),q=!1,O()}}}function ls(e){let t,n,s,l;const o=[es,Zn],a=[];function c(e,t){return e[1]?0:1}return t=c(e),n=a[t]=o[t](e),{c(){n.c(),s=w()},m(e,n){a[t].m(e,n),v(e,s,n),l=!0},p(e,[l]){let r=t;t=c(e),t===r?a[t].p(e,l):(Q(),te(a[r],1,1,(()=>{a[r]=null})),Z(),n=a[t],n?n.p(e,l):(n=a[t]=o[t](e),n.c()),ee(n,1),n.m(s.parentNode,s))},i(e){l||(ee(n),l=!0)},o(e){te(n),l=!1},d(e){a[t].d(e),e&&h(s)}}}function os(e,t,n){const s=new Date;let l={},o=!0,a=[];const c=(e,t)=>{ve.set("project",{id:t.id,name:t.value}),we.put("tasks")};M((()=>{he.send("activity/issues",(e=>{n(2,a=e);for(const e in a)if(a[e].due)for(const t in a[e].due)l[a[e].due[t]]||n(0,l[a[e].due[t]]=[],l),l[a[e].due[t]].push(a[e].color);n(1,o=!1)}))}));return[l,o,a,s,c,e=>c(0,e.project)]}class as extends ie{constructor(e){super(),re(this,e,os,ls,o,{})}}function cs(e,t,n){const s=e.slice();return s[8]=t[n],s}function rs(e,t,n){const s=e.slice();return s[5]=t[n],s[7]=n,s}function is(t){let n,s,l;function o(e,t){return e[0].length>5&&!e[2]?ps:ds}let a=o(t),c=a(t);return{c(){n=k("strong"),n.textContent=`${be.get("logs")}:`,s=x(),l=k("ul"),c.c(),C(l,"class","ml3 fs-8px")},m(e,t){v(e,n,t),v(e,s,t),v(e,l,t),c.m(l,null)},p(e,t){a===(a=o(e))&&c?c.p(e,t):(c.d(1),c=a(e),c&&(c.c(),c.m(l,null)))},i:e,o:e,d(e){e&&h(n),e&&h(s),e&&h(l),c.d()}}}function us(t){let n,s;return n=new me({}),{c(){oe(n.$$.fragment)},m(e,t){ae(n,e,t),s=!0},p:e,i(e){s||(ee(n.$$.fragment,e),s=!0)},o(e){te(n.$$.fragment,e),s=!1},d(e){ce(n,e)}}}function ds(e){let t,n,s=e[0],l=[];for(let t=0;t<s.length;t+=1)l[t]=fs(cs(e,s,t));let o=e[2]&&ms(e);return{c(){for(let e=0;e<l.length;e+=1)l[e].c();t=x(),o&&o.c(),n=w()},m(e,s){for(let t=0;t<l.length;t+=1)l[t].m(e,s);v(e,t,s),o&&o.m(e,s),v(e,n,s)},p(e,a){if(1&a){let n;for(s=e[0],n=0;n<s.length;n+=1){const o=cs(e,s,n);l[n]?l[n].p(o,a):(l[n]=fs(o),l[n].c(),l[n].m(t.parentNode,t))}for(;n<l.length;n+=1)l[n].d(1);l.length=s.length}e[2]?o?o.p(e,a):(o=ms(e),o.c(),o.m(n.parentNode,n)):o&&(o.d(1),o=null)},d(e){$(l,e),e&&h(t),o&&o.d(e),e&&h(n)}}}function ps(e){let t,n,s,l,o=Array(5),a=[];for(let t=0;t<o.length;t+=1)a[t]=gs(rs(e,o,t));return{c(){for(let e=0;e<a.length;e+=1)a[e].c();t=x(),n=k("a"),n.textContent=`${be.get("show-more")}...`,C(n,"href","#none"),C(n,"class","show-logs svelte-1a89cry")},m(o,c){for(let e=0;e<a.length;e+=1)a[e].m(o,c);v(o,t,c),v(o,n,c),s||(l=_(n,"click",j(e[3])),s=!0)},p(e,n){if(1&n){let s;for(o=Array(5),s=0;s<o.length;s+=1){const l=rs(e,o,s);a[s]?a[s].p(l,n):(a[s]=gs(l),a[s].c(),a[s].m(t.parentNode,t))}for(;s<a.length;s+=1)a[s].d(1);a.length=o.length}},d(e){$(a,e),e&&h(t),e&&h(n),s=!1,l()}}}function fs(e){let t,n,s,l,o=e[8].createdAt+"",a=e[8].body+"";return{c(){t=k("li"),n=y(o),s=y(" - "),l=y(a),C(t,"class","fs8px")},m(e,o){v(e,t,o),g(t,n),g(t,s),g(t,l)},p(e,t){1&t&&o!==(o=e[8].createdAt+"")&&A(n,o),1&t&&a!==(a=e[8].body+"")&&A(l,a)},d(e){e&&h(t)}}}function ms(t){let n,s,l;return{c(){n=k("a"),n.textContent=`${be.get("show-less")}...`,C(n,"href","#none"),C(n,"class","show-logs svelte-1a89cry")},m(e,o){v(e,n,o),s||(l=_(n,"click",j(t[3])),s=!0)},p:e,d(e){e&&h(n),s=!1,l()}}}function gs(e){let t,n,s,l,o=e[0][e[7]].createdAt+"",a=e[0][e[7]].body+"";return{c(){t=k("li"),n=y(o),s=y(" - "),l=y(a),C(t,"class","fs8px")},m(e,o){v(e,t,o),g(t,n),g(t,s),g(t,l)},p(e,t){1&t&&o!==(o=e[0][e[7]].createdAt+"")&&A(n,o),1&t&&a!==(a=e[0][e[7]].body+"")&&A(l,a)},d(e){e&&h(t)}}}function vs(e){let t,n,s,l;const o=[us,is],a=[];function c(e,t){return e[1]?0:e[0].length?1:-1}return~(t=c(e))&&(n=a[t]=o[t](e)),{c(){n&&n.c(),s=w()},m(e,n){~t&&a[t].m(e,n),v(e,s,n),l=!0},p(e,[l]){let r=t;t=c(e),t===r?~t&&a[t].p(e,l):(n&&(Q(),te(a[r],1,1,(()=>{a[r]=null})),Z()),~t?(n=a[t],n?n.p(e,l):(n=a[t]=o[t](e),n.c()),ee(n,1),n.m(s.parentNode,s)):n=null)},i(e){l||(ee(n),l=!0)},o(e){te(n),l=!1},d(e){~t&&a[t].d(e),e&&h(s)}}}function hs(e,t,n){let{notes:s=[]}=t,l=!0,o=!1;return M((()=>{n(1,l=!1)})),e.$$set=e=>{"notes"in e&&n(0,s=e.notes)},[s,l,o,()=>{n(2,o=!o)}]}class $s extends ie{constructor(e){super(),re(this,e,hs,vs,o,{notes:0})}}const ks=e=>({}),bs=e=>({});function ys(e){let t,n,l,o,a,c,r,u,m,$;const b=e[3].content,y=i(b,e,e[2],bs);return{c(){t=k("div"),n=k("div"),l=k("div"),o=k("div"),a=k("button"),c=x(),y&&y.c(),C(a,"class","modal-close svelte-6i4mb9"),C(a,"aria-label","Close modal"),C(o,"class","modal-content svelte-6i4mb9"),C(l,"class","modal-body svelte-6i4mb9"),C(n,"class","modal-wrap svelte-6i4mb9"),C(t,"class",r="modal-bg "+e[0]+" svelte-6i4mb9")},m(s,r){v(s,t,r),g(t,n),g(n,l),g(l,o),g(o,a),g(o,c),y&&y.m(o,null),u=!0,m||($=[_(a,"click",e[1].hide),_(t,"click",e[1].hide)],m=!0)},p(e,[n]){y&&y.p&&(!u||4&n)&&p(y,b,e,e[2],u?d(b,e[2],n,ks):f(e[2]),bs),(!u||1&n&&r!==(r="modal-bg "+e[0]+" svelte-6i4mb9"))&&C(t,"class",r)},i(e){u||(ee(y,e),u=!0)},o(e){te(y,e),u=!1},d(e){e&&h(t),y&&y.d(e),m=!1,s($)}}}function xs(e,t,n){let{$$slots:s={},$$scope:l}=t;const o=N();let a="hide",c={show:()=>{n(0,a="show")},hide:()=>{n(0,a="hide")}};return M((()=>{o("ControllerModal",c)})),e.$$set=e=>{"$$scope"in e&&n(2,l=e.$$scope)},[a,c,l,s]}class ws extends ie{constructor(e){super(),re(this,e,xs,ys,o,{})}}function _s(e,t,n){const s=e.slice();return s[24]=t[n],s[26]=n,s}function js(e,t,n){const s=e.slice();return s[27]=t[n],s}function Cs(e,t,n){const s=e.slice();return s[24]=t[n],s[26]=n,s}function zs(e){let t,n,s,l,o,a,c,r,i,u,d,p=be.get("comments")+"",f=e[0].comments+"";t=new ws({props:{$$slots:{content:[Es]},$$scope:{ctx:e}}}),t.$on("ControllerModal",e[13]);let m=e[1],b=[];for(let t=0;t<m.length;t+=1)b[t]=Os(js(e,m,t));function w(e,t){return e[3]?Ts:"opened"===e[0].state?Ps:void 0}let _=w(e),j=_&&_(e);return{c(){oe(t.$$.fragment),n=x(),s=k("div"),l=k("h2"),o=y(p),a=y(" ("),c=y(f),r=y(")"),i=x();for(let e=0;e<b.length;e+=1)b[e].c();u=x(),j&&j.c(),C(l,"class","mb3")},m(e,p){ae(t,e,p),v(e,n,p),v(e,s,p),g(s,l),g(l,o),g(l,a),g(l,c),g(l,r),g(s,i);for(let e=0;e<b.length;e+=1)b[e].m(s,null);g(s,u),j&&j.m(s,null),d=!0},p(e,n){const l={};if(128&n[0]|1&n[1]&&(l.$$scope={dirty:n,ctx:e}),t.$set(l),(!d||1&n[0])&&f!==(f=e[0].comments+"")&&A(c,f),4114&n[0]){let t;for(m=e[1],t=0;t<m.length;t+=1){const l=js(e,m,t);b[t]?b[t].p(l,n):(b[t]=Os(l),b[t].c(),b[t].m(s,u))}for(;t<b.length;t+=1)b[t].d(1);b.length=m.length}_===(_=w(e))&&j?j.p(e,n):(j&&j.d(1),j=_&&_(e),j&&(j.c(),j.m(s,null)))},i(e){d||(ee(t.$$.fragment,e),d=!0)},o(e){te(t.$$.fragment,e),d=!1},d(e){ce(t,e),e&&h(n),e&&h(s),$(b,e),j&&j.d()}}}function As(t){let n,s;return n=new me({}),{c(){oe(n.$$.fragment)},m(e,t){ae(n,e,t),s=!0},p:e,i(e){s||(ee(n.$$.fragment,e),s=!0)},o(e){te(n.$$.fragment,e),s=!1},d(e){ce(n,e)}}}function Es(e){let t,n,s;return{c(){t=k("div"),n=k("img"),r(n.src,s=e[7])||C(n,"src",s),C(n,"alt",""),C(t,"slot","content")},m(e,s){v(e,t,s),g(t,n)},p(e,t){128&t[0]&&!r(n.src,s=e[7])&&C(n,"src",s)},d(e){e&&h(t)}}}function Ss(e){let t,n=e[27].images,s=[];for(let t=0;t<n.length;t+=1)s[t]=qs(Cs(e,n,t));return{c(){t=k("div");for(let e=0;e<s.length;e+=1)s[e].c();C(t,"class","comment-images mt2 svelte-142i7bz")},m(e,n){v(e,t,n);for(let e=0;e<s.length;e+=1)s[e].m(t,null)},p(e,l){if(4114&l[0]){let o;for(n=e[27].images,o=0;o<n.length;o+=1){const a=Cs(e,n,o);s[o]?s[o].p(a,l):(s[o]=qs(a),s[o].c(),s[o].m(t,null))}for(;o<s.length;o+=1)s[o].d(1);s.length=n.length}},d(e){e&&h(t),$(s,e)}}}function qs(e){let t,n,s,l,o,a;function c(){return e[14](e[27],e[24])}return{c(){t=k("span"),n=k("img"),l=x(),r(n.src,s=e[4].host+e[27].urlPath+e[24])||C(n,"src",s),C(n,"alt","d"),C(n,"class","svelte-142i7bz"),C(t,"class","comment-image svelte-142i7bz")},m(e,s){v(e,t,s),g(t,n),g(t,l),o||(a=_(n,"click",c),o=!0)},p(t,l){e=t,18&l[0]&&!r(n.src,s=e[4].host+e[27].urlPath+e[24])&&C(n,"src",s)},d(e){e&&h(t),o=!1,a()}}}function Os(e){let t,n,s,l,o,a,c,i,u,d,p,f,m,$,b,w,_,j,z,E,S,q,O=e[27].author.username+"",P=e[27].createdAt+"",T=e[27].body+"",D=e[27].images.length&&Ss(e);return{c(){t=k("div"),n=k("div"),s=k("div"),l=k("img"),a=x(),c=k("div"),i=y(O),u=x(),d=k("div"),p=k("strong"),p.textContent=`${be.get("created-at")}:`,f=x(),m=k("div"),$=y(P),b=x(),w=k("strong"),w.textContent=`${be.get("comment")}:`,_=x(),j=k("div"),z=y(T),E=x(),D&&D.c(),S=x(),q=k("hr"),r(l.src,o=e[27].author.avatar_url)||C(l,"src",o),C(l,"alt",""),C(l,"class","svelte-142i7bz"),C(s,"class","text-center svelte-142i7bz"),C(n,"class","user svelte-142i7bz"),C(m,"class","input svelte-142i7bz"),C(j,"class","input svelte-142i7bz"),C(d,"class","task svelte-142i7bz"),C(t,"class","flex mb2"),C(q,"class","mb2 svelte-142i7bz")},m(e,o){v(e,t,o),g(t,n),g(n,s),g(s,l),g(s,a),g(s,c),g(c,i),g(t,u),g(t,d),g(d,p),g(d,f),g(d,m),g(m,$),g(d,b),g(d,w),g(d,_),g(d,j),g(j,z),g(d,E),D&&D.m(d,null),v(e,S,o),v(e,q,o)},p(e,t){2&t[0]&&!r(l.src,o=e[27].author.avatar_url)&&C(l,"src",o),2&t[0]&&O!==(O=e[27].author.username+"")&&A(i,O),2&t[0]&&P!==(P=e[27].createdAt+"")&&A($,P),2&t[0]&&T!==(T=e[27].body+"")&&A(z,T),e[27].images.length?D?D.p(e,t):(D=Ss(e),D.c(),D.m(d,null)):D&&(D.d(1),D=null)},d(e){e&&h(t),D&&D.d(),e&&h(S),e&&h(q)}}}function Ps(e){let t,n,l,o,a,c,r,i,u,d,p,f,m,b,y,w,z,A,q,O=e[8],P=[];for(let t=0;t<O.length;t+=1)P[t]=Ds(_s(e,O,t));return{c(){t=k("form"),n=k("strong"),n.textContent=`${be.get("new-comment")}:`,l=x(),o=k("textarea"),a=x(),c=k("div");for(let e=0;e<P.length;e+=1)P[e].c();r=x(),i=k("span"),i.innerHTML='<i class="fa fa-upload fa-2x" aria-hidden="true"></i> \n                        <div>imagen</div>',u=x(),d=k("input"),p=x(),f=k("div"),m=k("div"),b=x(),y=k("button"),y.textContent=`${be.get("add")}`,w=x(),z=k("div"),o.required="required",C(o,"class","textarea mb2"),C(o,"rows","4"),C(o,"placeholder",be.get("comment")),C(i,"class","comment-image new-add text-center svelte-142i7bz"),S(d,"display","none"),C(d,"type","file"),C(d,"accept",".gif, .png, .jpg, .jpeg"),C(c,"class","comment-images svelte-142i7bz"),C(m,"class","spacer svelte-142i7bz"),C(y,"class","btn"),C(y,"type","submit"),C(f,"class","flex mt1"),C(t,"class","p1"),C(z,"class","upload")},m(s,h){v(s,t,h),g(t,n),g(t,l),g(t,o),E(o,e[5].body),g(t,a),g(t,c);for(let e=0;e<P.length;e+=1)P[e].m(c,null);g(c,r),g(c,i),g(c,u),g(c,d),e[20](d),g(t,p),g(t,f),g(f,m),g(f,b),g(f,y),v(s,w,h),v(s,z,h),A||(q=[_(o,"input",e[15]),_(i,"click",e[18]),_(d,"change",e[19]),_(t,"submit",j(e[10]))],A=!0)},p(e,t){if(32&t[0]&&E(o,e[5].body),6400&t[0]){let n;for(O=e[8],n=0;n<O.length;n+=1){const s=_s(e,O,n);P[n]?P[n].p(s,t):(P[n]=Ds(s),P[n].c(),P[n].m(c,r))}for(;n<P.length;n+=1)P[n].d(1);P.length=O.length}},d(n){n&&h(t),$(P,n),e[20](null),n&&h(w),n&&h(z),A=!1,s(q)}}}function Ts(t){let n;return{c(){n=k("div"),C(n,"class","fas fa-spinner fa-spin fa-3x")},m(e,t){v(e,n,t)},p:e,d(e){e&&h(n)}}}function Ds(e){let t,n,l,o,a,c,i;function u(){return e[16](e[24])}function d(){return e[17](e[26])}return{c(){t=k("span"),n=k("img"),o=x(),a=k("span"),a.innerHTML='<em class="fa fa-times" aria-hidden="true"></em>',r(n.src,l=e[24])||C(n,"src",l),C(n,"alt","d"),C(n,"class","svelte-142i7bz"),C(a,"class","btn-delete text-center svelte-142i7bz"),C(t,"class","comment-image svelte-142i7bz")},m(e,s){v(e,t,s),g(t,n),g(t,o),g(t,a),c||(i=[_(n,"click",u),_(a,"click",d)],c=!0)},p(t,s){e=t,256&s[0]&&!r(n.src,l=e[24])&&C(n,"src",l)},d(e){e&&h(t),c=!1,s(i)}}}function Ms(e){let t,n,s,l;const o=[As,zs],a=[];function c(e,t){return e[2]?0:1}return t=c(e),n=a[t]=o[t](e),{c(){n.c(),s=w()},m(e,n){a[t].m(e,n),v(e,s,n),l=!0},p(e,l){let r=t;t=c(e),t===r?a[t].p(e,l):(Q(),te(a[r],1,1,(()=>{a[r]=null})),Z(),n=a[t],n?n.p(e,l):(n=a[t]=o[t](e),n.c()),ee(n,1),n.m(s.parentNode,s))},i(e){l||(ee(n),l=!0)},o(e){te(n),l=!1},d(e){a[t].d(e),e&&h(s)}}}function Ns(e,t,n){let s,{task:l={}}=t,{comments:o=[]}=t,a=!0,c=!1,r=null,i={body:"",idIssue:0,idProject:0},u="",d=[],p=[],f={};const m=e=>{let t=e.target.files[0];if(t.size>3333333)return he.send("onError","Only images less than or equal to 3MB are allowed");if(-1===t.type.indexOf("image/"))return he.send("onError","Only image type files are allowed");p.push(t.path);let s=new FileReader;s.readAsDataURL(t),s.onload=e=>{n(8,d=d.concat(e.target.result))}};const g=e=>{d.splice(e,1),p.slice(e,1),n(8,d=d.concat([]))},v=e=>{console.log("show image"),n(7,u=e),f.show()};M((()=>{n(4,r=ve.get("user")),n(2,a=!1)}));return e.$$set=e=>{"task"in e&&n(0,l=e.task),"comments"in e&&n(1,o=e.comments)},[l,o,a,c,r,i,s,u,d,m,function(){n(5,i.idProject=l.idProject,i),n(5,i.idIssue=l.id,i),n(5,i.images=p,i),n(3,c=!0),he.send("comments/add",i,(e=>{n(3,c=!1),n(8,d=[]),p=[],n(0,l.comments++,l);const t=o.concat([e]);n(1,o=t),n(5,i={})}))},g,v,e=>{f=e.detail||{}},(e,t)=>v(r.host+e.urlPath+t),function(){i.body=this.value,n(5,i)},e=>v(e),e=>g(e),()=>s.click(),e=>m(e),function(e){I[e?"unshift":"push"]((()=>{s=e,n(6,s)}))}]}class Ls extends ie{constructor(e){super(),re(this,e,Ns,Ms,o,{task:0,comments:1},null,[-1,-1])}}function Is(e){let t,n,s,l,o,a,c,i,u,d,p,f,$,b,w,_,j,z,E,S,q,O,P,T,D,M,N,L,I,B,U,H,F,R,V,J,Y,G,W,X,K,Q,Z,ne,se,le,re,ie,ue,de,pe,fe,me,ge,ve,he,$e,ke=e[1].title+"",ye=e[1].author.username+"",xe=e[1].project.name+"",we=e[1].description+"",_e=e[1].dueDate+"",je=e[1].priority+"",Ce=e[1].assignee&&e[1].assignee.id!==e[1].author.id&&Us(e);return K=new it({props:{value:e[1].progress,color:"cyan"}}),de=new $s({props:{notes:e[3]}}),he=new Ls({props:{task:e[1],comments:e[2]}}),{c(){t=k("h2"),n=y(ke),s=x(),l=k("div"),o=y(e[4]),c=x(),i=k("hr"),u=x(),d=k("div"),p=k("div"),f=k("div"),$=k("strong"),$.textContent=`${be.get("author")}`,b=x(),w=k("img"),j=x(),z=k("div"),E=y(ye),S=x(),Ce&&Ce.c(),q=x(),O=k("div"),P=k("strong"),P.textContent=`${be.get("project")}:`,T=x(),D=k("p"),M=y(xe),N=x(),L=k("strong"),L.textContent=`${be.get("description")}:`,I=x(),B=k("p"),U=y(we),H=x(),F=k("strong"),F.textContent=`${be.get("deadline")}:`,R=x(),V=k("p"),J=y(_e),Y=x(),G=k("strong"),G.textContent=`${be.get("progress-percentage")}:`,W=x(),X=k("div"),oe(K.$$.fragment),Q=x(),Z=k("strong"),Z.textContent=`${be.get("priority")}:`,ne=x(),se=k("div"),le=k("div"),re=y(je),ue=x(),oe(de.$$.fragment),pe=x(),fe=k("br"),me=x(),ge=k("hr"),ve=x(),oe(he.$$.fragment),C(t,"class","mb2"),C(l,"class",a=m(e[1].state)+" svelte-kgt33d"),C(i,"class","svelte-kgt33d"),C($,"class","mb1"),r(w.src,_=e[1].author.avatar_url)||C(w,"src",_),C(w,"alt",""),C(w,"class","svelte-kgt33d"),C(f,"class","text-center svelte-kgt33d"),C(p,"class","user svelte-kgt33d"),C(D,"class","input mb1 svelte-kgt33d"),C(B,"class","input mb1 svelte-kgt33d"),C(V,"class","input mb2 svelte-kgt33d"),C(X,"class","progress"),C(le,"class",ie="tag "+e[1].priority+" svelte-kgt33d"),C(se,"class","mb2"),C(O,"class","task svelte-kgt33d"),C(d,"class","flex mt1"),C(ge,"class","svelte-kgt33d")},m(e,a){v(e,t,a),g(t,n),v(e,s,a),v(e,l,a),g(l,o),v(e,c,a),v(e,i,a),v(e,u,a),v(e,d,a),g(d,p),g(p,f),g(f,$),g(f,b),g(f,w),g(f,j),g(f,z),g(z,E),g(p,S),Ce&&Ce.m(p,null),g(d,q),g(d,O),g(O,P),g(O,T),g(O,D),g(D,M),g(O,N),g(O,L),g(O,I),g(O,B),g(B,U),g(O,H),g(O,F),g(O,R),g(O,V),g(V,J),g(O,Y),g(O,G),g(O,W),g(O,X),ae(K,X,null),g(O,Q),g(O,Z),g(O,ne),g(O,se),g(se,le),g(le,re),g(O,ue),ae(de,O,null),g(O,pe),g(O,fe),v(e,me,a),v(e,ge,a),v(e,ve,a),ae(he,e,a),$e=!0},p(e,t){(!$e||2&t)&&ke!==(ke=e[1].title+"")&&A(n,ke),(!$e||16&t)&&A(o,e[4]),(!$e||2&t&&a!==(a=m(e[1].state)+" svelte-kgt33d"))&&C(l,"class",a),(!$e||2&t&&!r(w.src,_=e[1].author.avatar_url))&&C(w,"src",_),(!$e||2&t)&&ye!==(ye=e[1].author.username+"")&&A(E,ye),e[1].assignee&&e[1].assignee.id!==e[1].author.id?Ce?Ce.p(e,t):(Ce=Us(e),Ce.c(),Ce.m(p,null)):Ce&&(Ce.d(1),Ce=null),(!$e||2&t)&&xe!==(xe=e[1].project.name+"")&&A(M,xe),(!$e||2&t)&&we!==(we=e[1].description+"")&&A(U,we),(!$e||2&t)&&_e!==(_e=e[1].dueDate+"")&&A(J,_e);const s={};2&t&&(s.value=e[1].progress),K.$set(s),(!$e||2&t)&&je!==(je=e[1].priority+"")&&A(re,je),(!$e||2&t&&ie!==(ie="tag "+e[1].priority+" svelte-kgt33d"))&&C(le,"class",ie);const c={};8&t&&(c.notes=e[3]),de.$set(c);const i={};2&t&&(i.task=e[1]),4&t&&(i.comments=e[2]),he.$set(i)},i(e){$e||(ee(K.$$.fragment,e),ee(de.$$.fragment,e),ee(he.$$.fragment,e),$e=!0)},o(e){te(K.$$.fragment,e),te(de.$$.fragment,e),te(he.$$.fragment,e),$e=!1},d(e){e&&h(t),e&&h(s),e&&h(l),e&&h(c),e&&h(i),e&&h(u),e&&h(d),Ce&&Ce.d(),ce(K),ce(de),e&&h(me),e&&h(ge),e&&h(ve),ce(he,e)}}}function Bs(t){let n,s;return n=new me({}),{c(){oe(n.$$.fragment)},m(e,t){ae(n,e,t),s=!0},p:e,i(e){s||(ee(n.$$.fragment,e),s=!0)},o(e){te(n.$$.fragment,e),s=!1},d(e){ce(n,e)}}}function Us(e){let t,n,s,l,o,a,c,i,u,d,p=e[1].assignee.username+"";return{c(){t=k("hr"),n=x(),s=k("div"),l=k("strong"),l.textContent=`${be.get("assign")}`,o=x(),a=k("img"),i=x(),u=k("div"),d=y(p),C(t,"class","mt2 svelte-kgt33d"),C(l,"class","mb1"),r(a.src,c=e[1].assignee.avatar_url)||C(a,"src",c),C(a,"alt",""),C(a,"class","svelte-kgt33d"),C(s,"class","text-center mt2 svelte-kgt33d")},m(e,c){v(e,t,c),v(e,n,c),v(e,s,c),g(s,l),g(s,o),g(s,a),g(s,i),g(s,u),g(u,d)},p(e,t){2&t&&!r(a.src,c=e[1].assignee.avatar_url)&&C(a,"src",c),2&t&&p!==(p=e[1].assignee.username+"")&&A(d,p)},d(e){e&&h(t),e&&h(n),e&&h(s)}}}function Hs(e){let t,n,s,l;const o=[Bs,Is],a=[];function c(e,t){return e[0]?0:1}return t=c(e),n=a[t]=o[t](e),{c(){n.c(),s=w()},m(e,n){a[t].m(e,n),v(e,s,n),l=!0},p(e,[l]){let r=t;t=c(e),t===r?a[t].p(e,l):(Q(),te(a[r],1,1,(()=>{a[r]=null})),Z(),n=a[t],n?n.p(e,l):(n=a[t]=o[t](e),n.c()),ee(n,1),n.m(s.parentNode,s))},i(e){l||(ee(n),l=!0)},o(e){te(n),l=!1},d(e){a[t].d(e),e&&h(s)}}}function Fs(e,t,n){let s=!0,l={},o=[],a=[],c="";return M((()=>{setTimeout((()=>n(0,s=!1)),5e3),he.send("task/load",(e=>{e.id?ve.set("task",e):e=ve.get("task",{}),n(1,l=e),"closed"===l.state?n(4,c=be.get("closed-at")+"  "+l.closedAt):n(4,c=be.get("opened")+" - "+be.get("updated-at")+" "+l.updatedAt),he.send("comments/load",{idProject:l.project.id,id:l.id},(e=>{n(2,o=e.comments),n(3,a=e.notes),n(0,s=!1)}))}))})),[s,l,o,a,c]}class Rs extends ie{constructor(e){super(),re(this,e,Fs,Hs,o,{})}}function Vs(t){let n,s,l,o,a,c;return{c(){n=k("button"),s=k("i"),l=x(),o=k("span"),o.textContent=`${ye("add-key")}`,C(s,"class","fa fa-plus"),C(n,"class","btn svelte-2nppvv")},m(e,r){v(e,n,r),g(n,s),g(n,l),g(n,o),a||(c=_(n,"click",t[15]),a=!0)},p:e,d(e){e&&h(n),a=!1,c()}}}function Js(e){let t,n,s,l,o,a,c,r,i,u,d,p,f=e[0].title+"",m=!e[0].lock&&Ws(e),$=e[2]&&Xs(e);return{c(){t=k("div"),n=k("div"),s=k("div"),l=k("i"),a=x(),c=y(f),i=x(),m&&m.c(),u=x(),$&&$.c(),C(l,"class",o="fa-solid fa-lock"+(e[0].lock?"":"-open")+" svelte-2nppvv"),C(s,"class",r="title "+(e[0].lock?"lock":"open")+" svelte-2nppvv"),C(s,"title",ye("open-key")),C(n,"class","flex"),C(t,"class","box-key svelte-2nppvv")},m(o,r){v(o,t,r),g(t,n),g(n,s),g(s,l),g(s,a),g(s,c),g(n,i),m&&m.m(n,null),g(t,u),$&&$.m(t,null),d||(p=_(s,"click",e[4]),d=!0)},p(e,a){1&a&&o!==(o="fa-solid fa-lock"+(e[0].lock?"":"-open")+" svelte-2nppvv")&&C(l,"class",o),1&a&&f!==(f=e[0].title+"")&&A(c,f),1&a&&r!==(r="title "+(e[0].lock?"lock":"open")+" svelte-2nppvv")&&C(s,"class",r),e[0].lock?m&&(m.d(1),m=null):m?m.p(e,a):(m=Ws(e),m.c(),m.m(n,null)),e[2]?$?$.p(e,a):($=Xs(e),$.c(),$.m(t,null)):$&&($.d(1),$=null)},d(e){e&&h(t),m&&m.d(),$&&$.d(),d=!1,p()}}}function Ys(e){let t,n,l,o,a,c,r,i,u,d;return{c(){t=k("form"),n=k("div"),l=k("input"),o=x(),a=k("div"),c=k("button"),c.textContent=`${ye("cancel")}`,r=x(),i=k("button"),i.textContent=`${ye("delete")}`,l.readOnly=!0,C(l,"placeholder",ye("title")),C(l,"type","text"),C(l,"class","svelte-2nppvv"),C(n,"class","flex"),C(c,"class","btn-cancel svelte-2nppvv"),C(c,"type","button"),C(i,"type","submit"),C(i,"class","svelte-2nppvv"),C(a,"class","flex mt2"),C(t,"class","bg-box p1 svelte-2nppvv")},m(s,p){v(s,t,p),g(t,n),g(n,l),E(l,e[0].title),g(t,o),g(t,a),g(a,c),g(a,r),g(a,i),u||(d=[_(l,"input",e[11]),_(c,"click",e[3]),_(t,"submit",j(e[6]))],u=!0)},p(e,t){1&t&&l.value!==e[0].title&&E(l,e[0].title)},d(e){e&&h(t),u=!1,s(d)}}}function Gs(e){let t,n,l,o,a,c,r,i,u,d;return{c(){t=k("form"),n=k("div"),l=k("input"),o=x(),a=k("div"),c=k("button"),c.textContent=`${ye("cancel")}`,r=x(),i=k("button"),i.textContent=`${ye("save")}`,l.required=!0,C(l,"placeholder",ye("title")),C(l,"type","text"),C(l,"class","svelte-2nppvv"),C(n,"class","flex"),C(c,"class","btn-cancel svelte-2nppvv"),C(c,"type","button"),C(i,"type","submit"),C(i,"class","svelte-2nppvv"),C(a,"class","flex mt2"),C(t,"class","bg-box p1 svelte-2nppvv")},m(s,p){v(s,t,p),g(t,n),g(n,l),E(l,e[0].title),g(t,o),g(t,a),g(a,c),g(a,r),g(a,i),u||(d=[_(l,"input",e[10]),_(c,"click",e[3]),_(t,"submit",j(e[5]))],u=!0)},p(e,t){1&t&&l.value!==e[0].title&&E(l,e[0].title)},d(e){e&&h(t),u=!1,s(d)}}}function Ws(e){let t,n,s,l,o;return{c(){t=k("span"),C(t,"class",n="xicon show fas "+(e[2]?"fa-angle-down":"fa-ellipsis")+" svelte-2nppvv"),C(t,"title",s=ye("options"))},m(n,s){v(n,t,s),l||(o=_(t,"click",e[12]),l=!0)},p(e,s){4&s&&n!==(n="xicon show fas "+(e[2]?"fa-angle-down":"fa-ellipsis")+" svelte-2nppvv")&&C(t,"class",n)},d(e){e&&h(t),l=!1,o()}}}function Xs(t){let n,l,o,a,c,r,i,u;return{c(){n=k("div"),l=k("span"),a=x(),c=k("span"),C(l,"class","xicon far fa-trash-alt svelte-2nppvv"),C(l,"title",o=ye("delete")),C(c,"class","xicon fa fa-edit svelte-2nppvv"),C(c,"title",r=ye("edit")),C(n,"class","toobars svelte-2nppvv")},m(e,s){v(e,n,s),g(n,l),g(n,a),g(n,c),i||(u=[_(l,"click",t[13]),_(c,"click",t[14])],i=!0)},p:e,d(e){e&&h(n),i=!1,s(u)}}}function Ks(t){let n;function s(e,t){return"new"===e[1]||"edit"===e[1]?Gs:"del"===e[1]?Ys:"item"===e[1]?Js:"add"===e[1]?Vs:void 0}let l=s(t),o=l&&l(t);return{c(){n=k("div"),o&&o.c()},m(e,t){v(e,n,t),o&&o.m(n,null)},p(e,[t]){l===(l=s(e))&&o?o.p(e,t):(o&&o.d(1),o=l&&l(e),o&&(o.c(),o.m(n,null)))},i:e,o:e,d(e){e&&h(n),o&&o.d()}}}function Qs(e,t,n){let{id:s=""}=t,{data:l={}}=t,{type:o="add"}=t,{onSave:a=(e=>{})}=t,c="new",r=!1;M((()=>{n(1,c=o),n(0,l="add"===s?{}:l)}));return e.$$set=e=>{"id"in e&&n(7,s=e.id),"data"in e&&n(0,l=e.data),"type"in e&&n(8,o=e.type),"onSave"in e&&n(9,a=e.onSave)},[l,c,r,()=>{n(1,c=o)},()=>{a("open",l)},()=>{a("add"===s?"add":"edit",l,(e=>{n(1,c=o),n(0,l=e)}),s)},()=>{a("del",l,(e=>{n(1,c=o),n(0,l={})}),s)},s,o,a,function(){l.title=this.value,n(0,l)},function(){l.title=this.value,n(0,l)},()=>n(2,r=!r),()=>n(1,c="del"),()=>n(1,c="edit"),()=>n(1,c="new")]}class Zs extends ie{constructor(e){super(),re(this,e,Qs,Ks,o,{id:7,data:0,type:8,onSave:9})}}function el(e,t,n){const s=e.slice();return s[8]=t[n],s[10]=n,s}function tl(e){let t,n,s,l,o,a,c,r,i,u,d,p;c=new Zs({props:{type:"add",id:"add",data:e[3],onSave:e[4]}});let f=e[0],m=[];for(let t=0;t<f.length;t+=1)m[t]=sl(el(e,f,t));const b=e=>te(m[e],1,1,(()=>{m[e]=null}));return{c(){t=k("div"),n=k("div"),n.textContent=`${ye("keychains")}`,s=x(),l=k("span"),a=x(),oe(c.$$.fragment),r=x();for(let e=0;e<m.length;e+=1)m[e].c();i=w(),C(n,"class","title ml1 svelte-9c1my0"),C(l,"class",o="xicon fa-solid fa-arrow-up-"+(e[2]?"a-z":"z-a")+" svelte-9c1my0"),C(l,"title",ye("sort-list")+"}"),C(t,"class","flex")},m(o,f){v(o,t,f),g(t,n),g(t,s),g(t,l),v(o,a,f),ae(c,o,f),v(o,r,f);for(let e=0;e<m.length;e+=1)m[e].m(o,f);v(o,i,f),u=!0,d||(p=_(l,"click",e[5]),d=!0)},p(e,t){if((!u||4&t&&o!==(o="xicon fa-solid fa-arrow-up-"+(e[2]?"a-z":"z-a")+" svelte-9c1my0"))&&C(l,"class",o),17&t){let n;for(f=e[0],n=0;n<f.length;n+=1){const s=el(e,f,n);m[n]?(m[n].p(s,t),ee(m[n],1)):(m[n]=sl(s),m[n].c(),ee(m[n],1),m[n].m(i.parentNode,i))}for(Q(),n=f.length;n<m.length;n+=1)b(n);Z()}},i(e){if(!u){ee(c.$$.fragment,e);for(let e=0;e<f.length;e+=1)ee(m[e]);u=!0}},o(e){te(c.$$.fragment,e),m=m.filter(Boolean);for(let e=0;e<m.length;e+=1)te(m[e]);u=!1},d(e){e&&h(t),e&&h(a),ce(c,e),e&&h(r),$(m,e),e&&h(i),d=!1,p()}}}function nl(t){let n,s;return n=new me({}),{c(){oe(n.$$.fragment)},m(e,t){ae(n,e,t),s=!0},p:e,i(e){s||(ee(n.$$.fragment,e),s=!0)},o(e){te(n.$$.fragment,e),s=!1},d(e){ce(n,e)}}}function sl(e){let t,n;return t=new Zs({props:{type:"item",id:e[10],data:e[8],onSave:e[4]}}),{c(){oe(t.$$.fragment)},m(e,s){ae(t,e,s),n=!0},p(e,n){const s={};1&n&&(s.data=e[8]),t.$set(s)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){ce(t,e)}}}function ll(e){let t,n,s,l;const o=[nl,tl],a=[];function c(e,t){return e[1]?0:1}return t=c(e),n=a[t]=o[t](e),{c(){n.c(),s=w()},m(e,n){a[t].m(e,n),v(e,s,n),l=!0},p(e,[l]){let r=t;t=c(e),t===r?a[t].p(e,l):(Q(),te(a[r],1,1,(()=>{a[r]=null})),Z(),n=a[t],n?n.p(e,l):(n=a[t]=o[t](e),n.c()),ee(n,1),n.m(s.parentNode,s))},i(e){l||(ee(n),l=!0)},o(e){te(n),l=!1},d(e){a[t].d(e),e&&h(s)}}}function ol(e,t,n){let{keys:s=[]}=t,{onOptions:l=null}=t,o=!0,a=!1,c=null;return M((()=>{n(1,o=!1)})),e.$$set=e=>{"keys"in e&&n(0,s=e.keys),"onOptions"in e&&n(6,l=e.onOptions)},[s,o,a,{},(e,t,a,c)=>"cancel"===e?a():"open"===e?l("open",t):(n(1,o=!0),void he.send("keys/"+e,t,(r=>{if("add"===e)n(0,s=[r].concat(s)),t={};else if("edit"===e)n(0,s[c]=r,s),n(0,s=s.concat([]));else{if("del"!==e)return a();s.splice(c,1),n(0,s=s.concat([])),t={}}l("upd",s),n(1,o=!1),a(t)}))),()=>{if(c)return;c=setTimeout((()=>c=null),500),n(2,a=!a),a?s.sort((function(e,t){return(e=e.title.toLowerCase())<(t=t.title.toLowerCase())?-1:e>t?1:0})):s.sort((function(e,t){return(e=e.title.toLowerCase())>(t=t.title.toLowerCase())?-1:e<t?1:0})),n(0,s=s.concat([]));const e={};e.order=a,e.data=s,he.send("keys/save",e,(e=>{}))},l]}class al extends ie{constructor(e){super(),re(this,e,ol,ll,o,{keys:0,onOptions:6})}}const cl=e=>({}),rl=e=>({copy:e[2]});function il(e){let t,n,s;const l=e[4].default,o=i(l,e,e[3],rl);return{c(){o&&o.c(),t=x(),n=k("textarea"),n.value=e[0],C(n,"class","svelte-w8w2mp")},m(l,a){o&&o.m(l,a),v(l,t,a),v(l,n,a),e[5](n),s=!0},p(e,[t]){o&&o.p&&(!s||8&t)&&p(o,l,e,e[3],s?d(l,e[3],t,cl):f(e[3]),rl),(!s||1&t)&&(n.value=e[0])},i(e){s||(ee(o,e),s=!0)},o(e){te(o,e),s=!1},d(s){o&&o.d(s),s&&h(t),s&&h(n),e[5](null)}}}function ul(e,t,n){let{$$slots:s={},$$scope:l}=t;const o=N();let a,{text:c}=t;return e.$$set=e=>{"text"in e&&n(0,c=e.text),"$$scope"in e&&n(3,l=e.$$scope)},[c,a,async function(){a.select(),document.execCommand("Copy"),await(R(),H),a.blur(),o("copy")},l,s,function(e){I[e?"unshift":"push"]((()=>{a=e,n(1,a)}))}]}class dl extends ie{constructor(e){super(),re(this,e,ul,il,o,{text:0})}}function pl(e,t,n){const s=e.slice();return s[30]=t[n][0],s[31]=t[n][1],s}function fl(t){let n,s,l,o,a,c;return{c(){n=k("button"),s=k("i"),l=x(),o=k("span"),o.textContent=`${ye("add-password")}`,C(s,"class","fa fa-plus"),C(n,"class","btn svelte-1py40zm")},m(e,r){v(e,n,r),g(n,s),g(n,l),g(n,o),a||(c=_(n,"click",t[28]),a=!0)},p:e,i:e,o:e,d(e){e&&h(n),a=!1,c()}}}function ml(e){let t,n,l,o,a,c,r,i,u,d,p,f,m,$,b,w,j,z,E,S=e[0].title+"";r=new dl({props:{text:e[0].password,$$slots:{default:[hl,({copy:e})=>({34:e}),({copy:e})=>[0,e?8:0]]},$$scope:{ctx:e}}}),r.$on("copy",e[22]);let q=e[4]&&$l(e);return{c(){t=k("div"),n=k("div"),l=k("div"),o=y(S),a=x(),c=k("div"),oe(r.$$.fragment),i=x(),u=k("span"),d=x(),p=k("input"),m=x(),$=k("span"),w=x(),q&&q.c(),C(l,"class","title svelte-1py40zm"),C(u,"class","xicon fa fa-eye svelte-1py40zm"),C(u,"title",ye("see-password")),C(p,"class","box-pswd svelte-1py40zm"),C(p,"type","password"),p.value=f=e[0].password,C($,"class",b="xicon show fas "+(e[4]?"fa-angle-down":"fa-ellipsis")+" svelte-1py40zm"),C($,"title",ye("options")),C(c,"class","flex"),C(t,"class","box-password svelte-1py40zm")},m(s,f){v(s,t,f),g(t,n),g(n,l),g(l,o),g(t,a),g(t,c),ae(r,c,null),g(c,i),g(c,u),g(c,d),g(c,p),e[23](p),g(c,m),g(c,$),g(t,w),q&&q.m(t,null),j=!0,z||(E=[_(u,"click",e[6]),_($,"click",e[24])],z=!0)},p(e,n){(!j||1&n[0])&&S!==(S=e[0].title+"")&&A(o,S);const s={};1&n[0]&&(s.text=e[0].password),24&n[1]&&(s.$$scope={dirty:n,ctx:e}),r.$set(s),(!j||1&n[0]&&f!==(f=e[0].password)&&p.value!==f)&&(p.value=f),(!j||16&n[0]&&b!==(b="xicon show fas "+(e[4]?"fa-angle-down":"fa-ellipsis")+" svelte-1py40zm"))&&C($,"class",b),e[4]?q?(q.p(e,n),16&n[0]&&ee(q,1)):(q=$l(e),q.c(),ee(q,1),q.m(t,null)):q&&(Q(),te(q,1,1,(()=>{q=null})),Z())},i(e){j||(ee(r.$$.fragment,e),ee(q),j=!0)},o(e){te(r.$$.fragment,e),te(q),j=!1},d(n){n&&h(t),ce(r),e[23](null),q&&q.d(),z=!1,s(E)}}}function gl(t){let n,l,o,a,c,r,i,u,d,p;return{c(){n=k("form"),l=k("div"),o=k("input"),a=x(),c=k("div"),r=k("button"),r.textContent=`${ye("cancel")}`,i=x(),u=k("button"),u.textContent=`${ye("delete")}`,o.readOnly=!0,C(o,"placeholder",ye("title")),C(o,"type","text"),C(o,"class","svelte-1py40zm"),C(l,"class","flex"),C(r,"class","btn-cancel svelte-1py40zm"),C(r,"type","button"),C(u,"type","submit"),C(u,"class","svelte-1py40zm"),C(c,"class","flex mt2"),C(n,"class","bg-box p1 svelte-1py40zm")},m(e,s){v(e,n,s),g(n,l),g(l,o),E(o,t[0].title),g(n,a),g(n,c),g(c,r),g(c,i),g(c,u),d||(p=[_(o,"input",t[21]),_(r,"click",t[5]),_(n,"submit",j(t[8]))],d=!0)},p(e,t){1&t[0]&&o.value!==e[0].title&&E(o,e[0].title)},i:e,o:e,d(e){e&&h(n),d=!1,s(p)}}}function vl(t){let n,l,o,a,c,r,i,u,d,p,f,m,$,b,y,w,z,A,S,q,O,P,T,D,M,N,L,I,B,U,H,F,R,V,J,Y,G,W,X;return{c(){n=k("form"),l=k("div"),o=k("div"),a=x(),c=k("input"),r=x(),i=k("div"),u=k("button"),d=k("i"),p=x(),f=k("input"),m=x(),$=k("div"),b=k("input"),y=x(),w=k("input"),S=x(),q=k("div"),O=k("input"),P=x(),T=k("input"),N=x(),L=k("div"),I=k("input"),B=x(),U=k("textarea"),R=x(),V=k("div"),J=k("button"),J.textContent=`${ye("cancel")}`,Y=x(),G=k("button"),G.textContent=`${ye("save")}`,C(o,"class","box svelte-1py40zm"),c.required=!0,C(c,"placeholder",ye("title")),C(c,"type","text"),C(c,"class","svelte-1py40zm"),C(l,"class","flex"),C(d,"class","fa fa-eye"),C(u,"type","button"),C(u,"class","icon svelte-1py40zm"),C(u,"title",ye("see-password")),f.required=!0,C(f,"placeholder",ye("password")),C(f,"type","password"),C(f,"class","svelte-1py40zm"),C(i,"class","flex"),C(b,"type","checkbox"),C(b,"class","svelte-1py40zm"),w.required=z=t[2].nick,w.disabled=A=!t[2].nick,C(w,"placeholder",ye("nick")),C(w,"type","text"),C(w,"class","svelte-1py40zm"),C($,"class","flex"),C(O,"type","checkbox"),C(O,"class","svelte-1py40zm"),T.required=D=t[2].link,T.disabled=M=!t[2].link,C(T,"placeholder",ye("url")),C(T,"type","url"),C(T,"class","svelte-1py40zm"),C(q,"class","flex"),C(I,"type","checkbox"),C(I,"class","svelte-1py40zm"),U.required=H=t[2].notes,U.disabled=F=!t[2].notes,C(U,"placeholder",ye("more-information")),C(U,"type","text"),C(U,"class","svelte-1py40zm"),C(L,"class","flex"),C(J,"class","btn-cancel svelte-1py40zm"),C(J,"type","button"),C(G,"type","submit"),C(G,"class","svelte-1py40zm"),C(V,"class","flex mt2"),C(n,"class","bg-box p1 svelte-1py40zm")},m(e,s){v(e,n,s),g(n,l),g(l,o),g(l,a),g(l,c),E(c,t[0].title),g(n,r),g(n,i),g(i,u),g(u,d),g(i,p),g(i,f),t[13](f),E(f,t[0].password),g(n,m),g(n,$),g($,b),b.checked=t[2].nick,g($,y),g($,w),E(w,t[0].nick),g(n,S),g(n,q),g(q,O),O.checked=t[2].link,g(q,P),g(q,T),E(T,t[0].link),g(n,N),g(n,L),g(L,I),I.checked=t[2].notes,g(L,B),g(L,U),E(U,t[0].notes),g(n,R),g(n,V),g(V,J),g(V,Y),g(V,G),W||(X=[_(c,"input",t[12]),_(u,"click",t[6]),_(f,"input",t[14]),_(b,"change",t[15]),_(w,"input",t[16]),_(O,"change",t[17]),_(T,"input",t[18]),_(I,"change",t[19]),_(U,"input",t[20]),_(J,"click",t[5]),_(n,"submit",j(t[7]))],W=!0)},p(e,t){1&t[0]&&c.value!==e[0].title&&E(c,e[0].title),1&t[0]&&f.value!==e[0].password&&E(f,e[0].password),4&t[0]&&(b.checked=e[2].nick),4&t[0]&&z!==(z=e[2].nick)&&(w.required=z),4&t[0]&&A!==(A=!e[2].nick)&&(w.disabled=A),1&t[0]&&w.value!==e[0].nick&&E(w,e[0].nick),4&t[0]&&(O.checked=e[2].link),4&t[0]&&D!==(D=e[2].link)&&(T.required=D),4&t[0]&&M!==(M=!e[2].link)&&(T.disabled=M),1&t[0]&&E(T,e[0].link),4&t[0]&&(I.checked=e[2].notes),4&t[0]&&H!==(H=e[2].notes)&&(U.required=H),4&t[0]&&F!==(F=!e[2].notes)&&(U.disabled=F),1&t[0]&&E(U,e[0].notes)},i:e,o:e,d(e){e&&h(n),t[13](null),W=!1,s(X)}}}function hl(e){let t,n,s;return{c(){t=k("span"),C(t,"class","xicon fa fa-copy svelte-1py40zm"),C(t,"title",ye("copy"))},m(o,a){v(o,t,a),n||(s=_(t,"click",(function(){l(e[34])&&e[34].apply(this,arguments)})),n=!0)},p(t,n){e=t},d(e){e&&h(t),n=!1,s()}}}function $l(e){let t,n,l,o,a,c,r,i,u,d,p,f=Object.entries(e[0]),m=[];for(let t=0;t<f.length;t+=1)m[t]=wl(pl(e,f,t));const b=e=>te(m[e],1,1,(()=>{m[e]=null}));return{c(){t=k("div"),n=k("span"),o=x(),a=k("span"),r=x(),i=k("div");for(let e=0;e<m.length;e+=1)m[e].c();C(n,"class","xicon far fa-trash-alt svelte-1py40zm"),C(n,"title",l=ye("delete")),C(a,"class","xicon fa fa-edit svelte-1py40zm"),C(a,"title",c=ye("edit")),C(t,"class","toobars svelte-1py40zm"),C(i,"class","")},m(s,l){v(s,t,l),g(t,n),g(t,o),g(t,a),v(s,r,l),v(s,i,l);for(let e=0;e<m.length;e+=1)m[e].m(i,null);u=!0,d||(p=[_(n,"click",e[25]),_(a,"click",e[26])],d=!0)},p(e,t){if(1&t[0]|8&t[1]){let n;for(f=Object.entries(e[0]),n=0;n<f.length;n+=1){const s=pl(e,f,n);m[n]?(m[n].p(s,t),ee(m[n],1)):(m[n]=wl(s),m[n].c(),ee(m[n],1),m[n].m(i,null))}for(Q(),n=f.length;n<m.length;n+=1)b(n);Z()}},i(e){if(!u){for(let e=0;e<f.length;e+=1)ee(m[e]);u=!0}},o(e){m=m.filter(Boolean);for(let e=0;e<m.length;e+=1)te(m[e]);u=!1},d(e){e&&h(t),e&&h(r),e&&h(i),$(m,e),d=!1,s(p)}}}function kl(e){let t,n,s,l,o,a,c,r,i,u,d=xe(e[30])+"";function p(e,t){return"link"===e[30]?xl:yl}n=new dl({props:{text:e[31],$$slots:{default:[bl,({copy:e})=>({34:e}),({copy:e})=>[0,e?8:0]]},$$scope:{ctx:e}}}),n.$on("copy",(function(){return e[27](e[30])}));let f=p(e),m=f(e);return{c(){t=k("div"),oe(n.$$.fragment),s=x(),l=k("div"),o=k("span"),a=y(d),c=x(),r=k("div"),m.c(),i=x(),C(o,"class","svelte-1py40zm"),C(r,"class","text svelte-1py40zm"),C(l,"class","other svelte-1py40zm"),C(t,"class","flex")},m(e,d){v(e,t,d),ae(n,t,null),g(t,s),g(t,l),g(l,o),g(o,a),g(l,c),g(l,r),m.m(r,null),g(t,i),u=!0},p(t,s){e=t;const l={};1&s[0]&&(l.text=e[31]),24&s[1]&&(l.$$scope={dirty:s,ctx:e}),n.$set(l),(!u||1&s[0])&&d!==(d=xe(e[30])+"")&&A(a,d),f===(f=p(e))&&m?m.p(e,s):(m.d(1),m=f(e),m&&(m.c(),m.m(r,null)))},i(e){u||(ee(n.$$.fragment,e),u=!0)},o(e){te(n.$$.fragment,e),u=!1},d(e){e&&h(t),ce(n),m.d()}}}function bl(e){let t,n,s;return{c(){t=k("span"),C(t,"class","xicon copy fa fa-copy svelte-1py40zm"),C(t,"title",ye("copy"))},m(o,a){v(o,t,a),n||(s=_(t,"click",(function(){l(e[34])&&e[34].apply(this,arguments)})),n=!0)},p(t,n){e=t},d(e){e&&h(t),n=!1,s()}}}function yl(e){let t,n=e[31]+"";return{c(){t=y(n)},m(e,n){v(e,t,n)},p(e,s){1&s[0]&&n!==(n=e[31]+"")&&A(t,n)},d(e){e&&h(t)}}}function xl(e){let t,n,s,l=e[31]+"";return{c(){t=k("a"),n=y(l),C(t,"class","wrap"),C(t,"target","_blank"),C(t,"href",s=e[31])},m(e,s){v(e,t,s),g(t,n)},p(e,o){1&o[0]&&l!==(l=e[31]+"")&&A(n,l),1&o[0]&&s!==(s=e[31])&&C(t,"href",s)},d(e){e&&h(t)}}}function wl(e){let t,n,s="title"!==e[30]&&"password"!==e[30]&&kl(e);return{c(){s&&s.c(),t=w()},m(e,l){s&&s.m(e,l),v(e,t,l),n=!0},p(e,n){"title"!==e[30]&&"password"!==e[30]?s?(s.p(e,n),1&n[0]&&ee(s,1)):(s=kl(e),s.c(),ee(s,1),s.m(t.parentNode,t)):s&&(Q(),te(s,1,1,(()=>{s=null})),Z())},i(e){n||(ee(s),n=!0)},o(e){te(s),n=!1},d(e){s&&s.d(e),e&&h(t)}}}function _l(e){let t,n,s,l;const o=[vl,gl,ml,fl],a=[];function c(e,t){return"new"===e[1]||"edit"===e[1]?0:"del"===e[1]?1:"item"===e[1]?2:"add"===e[1]?3:-1}return~(n=c(e))&&(s=a[n]=o[n](e)),{c(){t=k("div"),s&&s.c()},m(e,s){v(e,t,s),~n&&a[n].m(t,null),l=!0},p(e,l){let r=n;n=c(e),n===r?~n&&a[n].p(e,l):(s&&(Q(),te(a[r],1,1,(()=>{a[r]=null})),Z()),~n?(s=a[n],s?s.p(e,l):(s=a[n]=o[n](e),s.c()),ee(s,1),s.m(t,null)):s=null)},i(e){l||(ee(s),l=!0)},o(e){te(s),l=!1},d(e){e&&h(t),~n&&a[n].d()}}}function jl(e,t,n){let{id:s=""}=t,{data:l={}}=t,{type:o="add"}=t,{onSave:a=(e=>{})}=t,c="new",r={},i=null,u=!1;M((()=>{n(1,c=o),n(0,l="add"===s?{}:l),n(2,r={nick:!!l.nick,link:!!l.link,notes:!!l.notes})}));return e.$$set=e=>{"id"in e&&n(9,s=e.id),"data"in e&&n(0,l=e.data),"type"in e&&n(10,o=e.type),"onSave"in e&&n(11,a=e.onSave)},[l,c,r,i,u,()=>{n(1,c=o)},()=>{i&&n(3,i.type="text"===i.type?"password":"text",i)},()=>{const e=(()=>{const e={};for(const t in l)("title"===t||"password"===t||!0===r[t])&&(e[t]=l[t]);return e})();a("add"===s?"add":"edit",e,(e=>{n(1,c=o),n(0,l="add"===s?{}:e)}),s)},()=>{a("del",l,(e=>{n(1,c=o),n(0,l={})}),s)},s,o,a,function(){l.title=this.value,n(0,l)},function(e){I[e?"unshift":"push"]((()=>{i=e,n(3,i)}))},function(){l.password=this.value,n(0,l)},function(){r.nick=this.checked,n(2,r)},function(){l.nick=this.value,n(0,l)},function(){r.link=this.checked,n(2,r)},function(){l.link=this.value,n(0,l)},function(){r.notes=this.checked,n(2,r)},function(){l.notes=this.value,n(0,l)},function(){l.title=this.value,n(0,l)},()=>he.send("onInfo",ye("password-clipboard")),function(e){I[e?"unshift":"push"]((()=>{i=e,n(3,i)}))},()=>n(4,u=!u),()=>n(1,c="del"),()=>n(1,c="edit"),e=>he.send("onInfo",ye("have-copied")+": "+xe(e)),()=>n(1,c="new")]}class Cl extends ie{constructor(e){super(),re(this,e,jl,_l,o,{id:9,data:0,type:10,onSave:11},null,[-1,-1])}}function zl(e,t,n){const s=e.slice();return s[32]=t[n],s[34]=n,s}function Al(e){let t,n,o,a,c,r,i,u,d,p,f,m,b,w,j,z,E,S,q,O=e[1].title+"",P=e[6]&&ql(e);j=new Cl({props:{type:"add",id:"add",data:e[10],onSave:e[16]}});let T=e[2],D=[];for(let t=0;t<T.length;t+=1)D[t]=Tl(zl(e,T,t));const M=e=>te(D[e],1,1,(()=>{D[e]=null}));return{c(){t=k("div"),n=k("span"),o=x(),a=k("div"),c=y(O),r=x(),i=k("span"),d=x(),p=k("span"),m=x(),P&&P.c(),b=x(),w=k("div"),oe(j.$$.fragment),z=x();for(let e=0;e<D.length;e+=1)D[e].c();C(n,"class","xicon show fas fa-reply svelte-1cepxj5"),C(n,"title",ye("go-back")),C(a,"class","title ml1 svelte-1cepxj5"),C(i,"class",u="xicon fa-solid fa-arrow-up-"+(e[9]?"a-z":"z-a")+" svelte-1cepxj5"),C(i,"title",ye("sort-list")),C(p,"class",f="xicon show fas "+(e[6]?"fa-angle-down":"fa-ellipsis")+" svelte-1cepxj5"),C(p,"title",ye("options")),C(t,"class","flex"),C(w,"class","mt1")},m(s,u){v(s,t,u),g(t,n),g(t,o),g(t,a),g(a,c),g(t,r),g(t,i),g(t,d),g(t,p),v(s,m,u),P&&P.m(s,u),v(s,b,u),v(s,w,u),ae(j,w,null),g(w,z);for(let e=0;e<D.length;e+=1)D[e].m(w,null);E=!0,S||(q=[_(n,"click",(function(){l(e[0])&&e[0].apply(this,arguments)})),_(i,"click",e[17]),_(p,"click",e[12])],S=!0)},p(t,n){if(e=t,(!E||2&n[0])&&O!==(O=e[1].title+"")&&A(c,O),(!E||512&n[0]&&u!==(u="xicon fa-solid fa-arrow-up-"+(e[9]?"a-z":"z-a")+" svelte-1cepxj5"))&&C(i,"class",u),(!E||64&n[0]&&f!==(f="xicon show fas "+(e[6]?"fa-angle-down":"fa-ellipsis")+" svelte-1cepxj5"))&&C(p,"class",f),e[6]?P?P.p(e,n):(P=ql(e),P.c(),P.m(b.parentNode,b)):P&&(P.d(1),P=null),65540&n[0]){let t;for(T=e[2],t=0;t<T.length;t+=1){const s=zl(e,T,t);D[t]?(D[t].p(s,n),ee(D[t],1)):(D[t]=Tl(s),D[t].c(),ee(D[t],1),D[t].m(w,null))}for(Q(),t=T.length;t<D.length;t+=1)M(t);Z()}},i(e){if(!E){ee(j.$$.fragment,e);for(let e=0;e<T.length;e+=1)ee(D[e]);E=!0}},o(e){te(j.$$.fragment,e),D=D.filter(Boolean);for(let e=0;e<D.length;e+=1)te(D[e]);E=!1},d(e){e&&h(t),e&&h(m),P&&P.d(e),e&&h(b),e&&h(w),ce(j),$(D,e),S=!1,s(q)}}}function El(t){let n,o,a,c,r,i,u,d,p,f,m,$,b,w,z,S,q,O,P=t[1].title+"",T=t[3].clue&&"*"!==t[3].clue&&Dl(t);return{c(){n=k("div"),o=k("span"),a=x(),c=k("div"),r=y(P),i=x(),u=k("form"),d=k("div"),p=k("button"),f=k("i"),m=x(),$=k("input"),b=x(),w=k("div"),z=k("button"),z.textContent=`${ye("unlock")}`,S=x(),T&&T.c(),C(o,"class","xicon show fas fa-reply svelte-1cepxj5"),C(o,"title",ye("go-back")),C(c,"class","title ml1 svelte-1cepxj5"),C(n,"class","flex"),C(f,"class","fa fa-eye"),C(p,"type","button"),C(p,"class","icon svelte-1cepxj5"),C(p,"title",ye("see-password")),$.required=!0,C($,"placeholder",ye("password")),C($,"type","password"),C($,"class","svelte-1cepxj5"),C(d,"class","flex"),C(z,"type","submit"),C(z,"class","svelte-1cepxj5"),C(w,"class","flex mt2"),C(u,"class","bg-box svelte-1cepxj5")},m(e,s){v(e,n,s),g(n,o),g(n,a),g(n,c),g(c,r),v(e,i,s),v(e,u,s),g(u,d),g(d,p),g(p,f),g(d,m),g(d,$),t[19]($),E($,t[5].password1),g(u,b),g(u,w),g(w,z),g(u,S),T&&T.m(u,null),q||(O=[_(o,"click",(function(){l(t[0])&&t[0].apply(this,arguments)})),_(p,"click",t[18]),_($,"input",t[20]),_(u,"submit",j(t[15]))],q=!0)},p(e,n){t=e,2&n[0]&&P!==(P=t[1].title+"")&&A(r,P),32&n[0]&&$.value!==t[5].password1&&E($,t[5].password1),t[3].clue&&"*"!==t[3].clue?T?T.p(t,n):(T=Dl(t),T.c(),T.m(u,null)):T&&(T.d(1),T=null)},i:e,o:e,d(e){e&&h(n),e&&h(i),e&&h(u),t[19](null),T&&T.d(),q=!1,s(O)}}}function Sl(t){let n,s;return n=new me({}),{c(){oe(n.$$.fragment)},m(e,t){ae(n,e,t),s=!0},p:e,i(e){s||(ee(n.$$.fragment,e),s=!0)},o(e){te(n.$$.fragment,e),s=!1},d(e){ce(n,e)}}}function ql(e){let t,n,l,o,a,c,r,i,u,d,p,f;function m(e,t){return"lock"===e[7]?Pl:"export"===e[7]?Ol:void 0}let $=m(e),b=$&&$(e);return{c(){t=k("div"),n=k("button"),l=k("span"),a=x(),c=k("button"),r=k("span"),u=x(),b&&b.c(),d=w(),C(l,"class","fa fa-lock-open"),C(n,"class","btn svelte-1cepxj5"),C(n,"title",o=ye("lock-keychain")),C(r,"class","fas fa-file-export"),C(c,"class","btn svelte-1cepxj5"),C(c,"title",i=ye("export")),C(t,"class","toobars svelte-1cepxj5")},m(s,o){v(s,t,o),g(t,n),g(n,l),g(t,a),g(t,c),g(c,r),v(s,u,o),b&&b.m(s,o),v(s,d,o),p||(f=[_(n,"click",e[21]),_(c,"click",e[22])],p=!0)},p(e,t){$===($=m(e))&&b?b.p(e,t):(b&&b.d(1),b=$&&$(e),b&&(b.c(),b.m(d.parentNode,d)))},d(e){e&&h(t),e&&h(u),b&&b.d(e),e&&h(d),p=!1,s(f)}}}function Ol(e){let t,n,l,o,a,c,r,i,u,d,p;return{c(){t=k("form"),n=k("div"),l=k("select"),o=k("option"),o.textContent="Plain text",a=k("option"),a.textContent="Json",c=k("option"),c.textContent="Anemona-keys",r=x(),i=k("div"),u=k("button"),u.textContent=`${ye("export")}`,o.__value="txt",o.value=o.__value,a.__value="json",a.value=a.__value,c.__value="key",c.value=c.__value,C(l,"class","select"),void 0===e[5].format&&V((()=>e[30].call(l))),C(u,"type","submit"),C(u,"class","svelte-1cepxj5"),C(i,"class","flex mt2"),C(t,"class","bg-box svelte-1cepxj5")},m(s,f){v(s,t,f),g(t,n),g(n,l),g(l,o),g(l,a),g(l,c),q(l,e[5].format),g(t,r),g(t,i),g(i,u),d||(p=[_(l,"change",e[30]),_(t,"submit",j(e[13]))],d=!0)},p(e,t){32&t[0]&&q(l,e[5].format)},d(e){e&&h(t),d=!1,s(p)}}}function Pl(e){let t,n,l,o,a,c,r,i,u,d,p,f,m,$,b,w,z,A,S,q,O,P,T,D,M=ye("alert-lock-keys")+"";return{c(){t=k("form"),n=k("div"),l=k("button"),o=k("i"),a=x(),c=k("input"),r=x(),i=k("div"),u=k("button"),u.innerHTML='<i class="fa fa-eye"></i>',d=x(),p=k("input"),f=x(),m=k("div"),$=k("input"),b=x(),w=k("div"),z=k("button"),z.textContent=`${ye("lock-keychain")}`,A=x(),S=k("div"),q=k("i"),O=x(),P=y(M),C(o,"class","fa fa-eye"),C(l,"type","button"),C(l,"class","icon svelte-1cepxj5"),C(l,"title",ye("see-password")),c.required=!0,C(c,"placeholder",ye("password")),C(c,"type","password"),C(c,"class","svelte-1cepxj5"),C(n,"class","flex"),C(u,"type","button"),C(u,"class","icon svelte-1cepxj5"),p.required=!0,C(p,"placeholder",ye("confirm-password")),C(p,"type","password"),C(p,"class","svelte-1cepxj5"),C(i,"class","flex"),C($,"placeholder",ye("hint-or-clue")),C($,"type","text"),C($,"class","svelte-1cepxj5"),C(m,"class","flex"),C(z,"type","submit"),C(z,"class","svelte-1cepxj5"),C(w,"class","flex mt2"),C(q,"class","fas fa-exclamation"),C(S,"class","note svelte-1cepxj5"),C(t,"class","bg-box svelte-1cepxj5")},m(s,h){v(s,t,h),g(t,n),g(n,l),g(l,o),g(n,a),g(n,c),e[24](c),E(c,e[5].password1),g(t,r),g(t,i),g(i,u),g(i,d),g(i,p),e[27](p),E(p,e[5].password2),g(t,f),g(t,m),g(m,$),E($,e[5].clue),g(t,b),g(t,w),g(w,z),g(t,A),g(t,S),g(S,q),g(S,O),g(S,P),T||(D=[_(l,"click",e[23]),_(c,"input",e[25]),_(u,"click",e[26]),_(p,"input",e[28]),_($,"input",e[29]),_(t,"submit",j(e[14]))],T=!0)},p(e,t){32&t[0]&&c.value!==e[5].password1&&E(c,e[5].password1),32&t[0]&&p.value!==e[5].password2&&E(p,e[5].password2),32&t[0]&&$.value!==e[5].clue&&E($,e[5].clue)},d(n){n&&h(t),e[24](null),e[27](null),T=!1,s(D)}}}function Tl(e){let t,n;return t=new Cl({props:{type:"item",id:e[34],data:e[32],onSave:e[16]}}),{c(){oe(t.$$.fragment)},m(e,s){ae(t,e,s),n=!0},p(e,n){const s={};4&n[0]&&(s.data=e[32]),t.$set(s)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){ce(t,e)}}}function Dl(e){let t,n,s,l,o,a=ye("hint-or-clue")+"",c=e[3].clue+"";return{c(){t=k("div"),n=y(a),s=y(': "'),l=y(c),o=y('"'),C(t,"class","note svelte-1cepxj5")},m(e,a){v(e,t,a),g(t,n),g(t,s),g(t,l),g(t,o)},p(e,t){8&t[0]&&c!==(c=e[3].clue+"")&&A(l,c)},d(e){e&&h(t)}}}function Ml(e){let t,n,s,l;const o=[Sl,El,Al],a=[];function c(e,t){return e[8]?0:e[4]?1:2}return t=c(e),n=a[t]=o[t](e),{c(){n.c(),s=w()},m(e,n){a[t].m(e,n),v(e,s,n),l=!0},p(e,l){let r=t;t=c(e),t===r?a[t].p(e,l):(Q(),te(a[r],1,1,(()=>{a[r]=null})),Z(),n=a[t],n?n.p(e,l):(n=a[t]=o[t](e),n.c()),ee(n,1),n.m(s.parentNode,s))},i(e){l||(ee(n),l=!0)},o(e){te(n),l=!1},d(e){a[t].d(e),e&&h(s)}}}function Nl(e,t,n){let{onContent:s}=t,{key:l={}}=t,o=[],a={},c=!1,r={},i=!1,u="",d=!0,p=!0,f=null;const m=e=>{1===e&&r.psw1?n(5,r.psw1.type="text"===r.psw1.type?"password":"text",r):2===e&&r.psw2&&n(5,r.psw2.type="text"===r.psw2.type?"password":"text",r)};M((()=>{ve.set("key",l),he.send("keys/content",l,(e=>{if(n(8,d=!1),e.message||e.error)return ve.set("key",void 0),s();e.lock?(n(4,c=!0),n(3,a=e),n(2,o=[])):(n(4,c=!1),n(8,d=!1),n(3,a=e),n(2,o=a.data||[]))}))}));return e.$$set=e=>{"onContent"in e&&n(0,s=e.onContent),"key"in e&&n(1,l=e.key)},[s,l,o,a,c,r,i,u,d,p,{},m,e=>{n(6,i=!i)},()=>{he.send("keys/export",{key:l,data:o,format:r.format},(e=>{}))},()=>{r.password1!==r.password2?he.send("onInfo",ye("passwords-must-be-the-same")):(n(8,d=!0),he.send("keys/lock",{key:l,data:o,pwd:r.password1,clue:r.clue||""},(e=>{n(4,c=!0),s("lock",l),n(8,d=!1),n(6,i=!1),n(3,a=e),n(2,o=[]),n(5,r={})})))},()=>{n(8,d=!0),he.send("keys/unlock",{key:l,data:a.data,pwd:r.password1},(e=>{e.data&&e.data instanceof Array?(n(3,a=e),n(2,o=a.data),n(4,c=!1),s("unlock",l),n(6,i=!1),n(5,r={})):he.send("onError",ye("invalid-password")),n(8,d=!1)}))},(e,t,s,c)=>{if("cancel"===e)return s();n(8,d=!0),"add"===e?(n(2,o=[t].concat(o)),t={}):"edit"===e?(n(2,o[c]=t,o),n(2,o=o.concat([]))):"del"===e&&(o.splice(c,1),n(2,o=o.concat([])),t={}),n(3,a.data=o,a);const r={key:l,data:a};he.send("keys/content-save",r,(e=>{n(8,d=!1),s(t)}))},()=>{f||(f=setTimeout((()=>f=null),500),n(9,p=!p),p?o.sort((function(e,t){return(e=e.title.toLowerCase())<(t=t.title.toLowerCase())?-1:e>t?1:0})):o.sort((function(e,t){return(e=e.title.toLowerCase())>(t=t.title.toLowerCase())?-1:e<t?1:0})),n(3,a.order=p,a),n(3,a.data=o,a),he.send("keys/content-save",{key:l,data:a},(e=>{})),n(2,o=o.concat([])))},()=>m(1),function(e){I[e?"unshift":"push"]((()=>{r.psw1=e,n(5,r)}))},function(){r.password1=this.value,n(5,r)},()=>n(7,u="lock"==u?"":"lock"),()=>n(7,u="export"==u?"":"export"),()=>m(1),function(e){I[e?"unshift":"push"]((()=>{r.psw1=e,n(5,r)}))},function(){r.password1=this.value,n(5,r)},()=>m(2),function(e){I[e?"unshift":"push"]((()=>{r.psw2=e,n(5,r)}))},function(){r.password2=this.value,n(5,r)},function(){r.clue=this.value,n(5,r)},function(){r.format=O(this),n(5,r)}]}class Ll extends ie{constructor(e){super(),re(this,e,Nl,Ml,o,{onContent:0,key:1},null,[-1,-1])}}function Il(t){let n,s;return n=new me({}),{c(){oe(n.$$.fragment)},m(e,t){ae(n,e,t),s=!0},p:e,i(e){s||(ee(n.$$.fragment,e),s=!0)},o(e){te(n.$$.fragment,e),s=!1},d(e){ce(n,e)}}}function Bl(e){let t,n;return t=new Ll({props:{key:e[1],onContent:e[4]}}),{c(){oe(t.$$.fragment)},m(e,s){ae(t,e,s),n=!0},p(e,n){const s={};2&n&&(s.key=e[1]),t.$set(s)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){ce(t,e)}}}function Ul(e){let t,n;return t=new al({props:{keys:e[2],onOptions:e[3]}}),{c(){oe(t.$$.fragment)},m(e,s){ae(t,e,s),n=!0},p(e,n){const s={};4&n&&(s.keys=e[2]),t.$set(s)},i(e){n||(ee(t.$$.fragment,e),n=!0)},o(e){te(t.$$.fragment,e),n=!1},d(e){ce(t,e)}}}function Hl(e){let t,n,s,l;const o=[Ul,Bl,Il],a=[];function c(e,t){return"list"===e[0]?0:"content"===e[0]?1:"load"===e[0]?2:-1}return~(n=c(e))&&(s=a[n]=o[n](e)),{c(){t=k("main"),s&&s.c()},m(e,s){v(e,t,s),~n&&a[n].m(t,null),l=!0},p(e,[l]){let r=n;n=c(e),n===r?~n&&a[n].p(e,l):(s&&(Q(),te(a[r],1,1,(()=>{a[r]=null})),Z()),~n?(s=a[n],s?s.p(e,l):(s=a[n]=o[n](e),s.c()),ee(s,1),s.m(t,null)):s=null)},i(e){l||(ee(s),l=!0)},o(e){te(s),l=!1},d(e){e&&h(t),~n&&a[n].d()}}}function Fl(e,t,n){let s="list",l={},o=[];return M((()=>{he.send("keys/folders",(e=>{n(2,o=e instanceof Array?e:[]);const t=ve.get("key");t?(n(1,l=t),n(0,s="content")):n(0,s="list")}))})),[s,l,o,(e,t)=>{"open"==e?(n(1,l=t||{}),n(0,s="content")):"upd"==e&&t instanceof Array&&n(2,o=t)},(e,t)=>{"lock"===e||"unlock"===e?(t.lock="lock"===e,(e=>{for(const t in o)o[t].id===e.id&&n(2,o[t]=e,o);he.send("keys/update",{data:o})})(t)):(ve.set("key",void 0),n(0,s="list"))}]}class Rl extends ie{constructor(e){super(),re(this,e,Fl,Hl,o,{})}}function Vl(t){let n,s,l,o,a,c,r,i,u,d,p,f,m,$,b;return{c(){n=k("div"),s=k("span"),l=x(),o=k("div"),a=k("strong"),a.textContent=`${be.get("unknown-problem-occurred")}`,c=x(),r=k("div"),i=k("div"),i.textContent=`${be.get("alternatives")}:`,u=x(),d=k("ul"),p=k("li"),p.textContent=`• ${be.get("please-refresh")}`,f=x(),m=k("li"),m.textContent=`• ${be.get("close-and-open")}`,$=x(),b=k("li"),b.textContent=`• ${be.get("sign-out-and-sign")}`,C(s,"class","dizzy svelte-1c830rm"),C(r,"class","opts mt2 svelte-1c830rm")},m(e,t){v(e,n,t),g(n,s),g(n,l),g(n,o),g(o,a),g(n,c),g(n,r),g(r,i),g(r,u),g(r,d),g(d,p),g(d,f),g(d,m),g(d,$),g(d,b)},p:e,i:e,o:e,d(e){e&&h(n)}}}class Jl extends ie{constructor(e){super(),re(this,e,null,Vl,o,{})}}const{window:Yl}=ne;function Gl(e){let t;return{c(){t=k("textarea"),C(t,"rows","10"),t.value=e[0],C(t,"class","svelte-u43ffz")},m(e,n){v(e,t,n)},p(e,n){1&n&&(t.value=e[0])},d(e){e&&h(t)}}}function Wl(e){let t,n,l,o,a,c,r,i,u=!1,d=()=>{u=!1};V(e[4]);var p=e[2];p&&(l=new p({}));let f=""!==e[0]&&Gl(e);return{c(){n=k("div"),l&&oe(l.$$.fragment),o=x(),f&&f.c(),a=w(),C(n,"class","anemona-app svelte-u43ffz")},m(s,p){v(s,n,p),l&&ae(l,n,null),v(s,o,p),f&&f.m(s,p),v(s,a,p),c=!0,r||(i=[_(Yl,"scroll",e[3]),_(Yl,"scroll",(()=>{u=!0,clearTimeout(t),t=setTimeout(d,100),e[4]()}))],r=!0)},p(e,[s]){if(2&s&&!u&&(u=!0,clearTimeout(t),scrollTo(Yl.pageXOffset,e[1]),t=setTimeout(d,100)),p!==(p=e[2])){if(l){Q();const e=l;te(e.$$.fragment,1,0,(()=>{ce(e,1)})),Z()}p?(l=new p({}),oe(l.$$.fragment),ee(l.$$.fragment,1),ae(l,n,null)):l=null}""!==e[0]?f?f.p(e,s):(f=Gl(e),f.c(),f.m(a.parentNode,a)):f&&(f.d(1),f=null)},i(e){c||(l&&ee(l.$$.fragment,e),c=!0)},o(e){l&&te(l.$$.fragment,e),c=!1},d(e){e&&h(n),l&&ce(l),e&&h(o),f&&f.d(e),e&&h(a),r=!1,s(i)}}}function Xl(e,t,n){let s="",l="sidebar",o=0,a=me,c="spinner",r={"web-task":Rs},i={tasks:On,activity:as,keys:Rl,dash:yt,login:Se,logout:Pe};const u=e=>{n(2,a=e)},d=(e,t)=>{u(me),c=e.shift();let n={};if(n="web-task"===l?r:i,c){if(n[c]&&"closed"!==c)we.set(c);else{if("sidebar"!==l||"closed"===c)return u(Jl);c="dash"}return u(n[c])}u(Jl)},p=()=>{u(me),je.auth(l)},f=(e,t)=>{switch(e){case"refresh":return void ve.set("statistics",void 0);case"debug":return n(0,s+=t)}};return M((()=>{l=document.body.id,we.addEventListener((e=>d([e]))),ve.addEventListener(((e,t)=>f(e,t))),window.addEventListener("message",(async e=>{const t=e.data||{};if(he.call(t))return;const n=t.cmd.split("/");switch(n.shift()){case"reloads":return he.send("reloads"),p();case"reload":return p();case"lang":return be.load(t.dat,t.dat);case"loading":return u(me)}d(n)})),p()})),[s,o,a,function(){n(1,o=o||ve.get("scroll_"+c,.01)),ve.set("scroll_"+c,o)},function(){n(1,o=Yl.pageYOffset)}]}const Kl=new class extends ie{constructor(e){super(),re(this,e,Xl,Wl,o,{})}}({target:document.body});return Kl}();
