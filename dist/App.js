var app=function(){"use strict";function e(){}function t(e){return e()}function n(){return Object.create(null)}function s(e){e.forEach(t)}function o(e){return"function"==typeof e}function l(e,t){return e!=e?t==t:e!==t||e&&"object"==typeof e||"function"==typeof e}let r,a;function i(e,t){return r||(r=document.createElement("a")),r.href=t,e===r.href}function c(e,t,n,s){return e[1]&&s?function(e,t){for(const n in t)e[n]=t[n];return e}(n.ctx.slice(),e[1](s(t))):n.ctx}function u(e){return null==e?"":e}function d(e,t){e.appendChild(t)}function p(e,t,n){e.insertBefore(t,n||null)}function f(e){e.parentNode.removeChild(e)}function g(e,t){for(let n=0;n<e.length;n+=1)e[n]&&e[n].d(t)}function m(e){return document.createElement(e)}function v(e){return document.createElementNS("http://www.w3.org/2000/svg",e)}function $(e){return document.createTextNode(e)}function h(){return $(" ")}function b(){return $("")}function k(e,t,n,s){return e.addEventListener(t,n,s),()=>e.removeEventListener(t,n,s)}function x(e){return function(t){return t.preventDefault(),e.call(this,t)}}function y(e,t,n){null==n?e.removeAttribute(t):e.getAttribute(t)!==n&&e.setAttribute(t,n)}function w(e,t,n){t in e?e[t]="boolean"==typeof e[t]&&""===n||n:y(e,t,n)}function _(e,t){t=""+t,e.wholeText!==t&&(e.data=t)}function j(e,t){e.value=null==t?"":t}function C(e,t,n,s){null===n?e.style.removeProperty(t):e.style.setProperty(t,n,s?"important":"")}function E(e,t){for(let n=0;n<e.options.length;n+=1){const s=e.options[n];if(s.__value===t)return void(s.selected=!0)}e.selectedIndex=-1}function A(e){const t=e.querySelector(":checked")||e.options[0];return t&&t.__value}function O(e){a=e}function S(){if(!a)throw new Error("Function called outside component initialization");return a}function P(e){S().$$.on_mount.push(e)}function q(){const e=S();return(t,n,{cancelable:s=!1}={})=>{const o=e.$$.callbacks[t];if(o){const l=function(e,t,{bubbles:n=!1,cancelable:s=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(e,n,s,t),o}(t,n,{cancelable:s});return o.slice().forEach((t=>{t.call(e,l)})),!l.defaultPrevented}return!0}}const T=[],I=[],z=[],D=[],L=Promise.resolve();let N=!1;function B(e){z.push(e)}const M=new Set;let U=0;function V(){const e=a;do{for(;U<T.length;){const e=T[U];U++,O(e),H(e.$$)}for(O(null),T.length=0,U=0;I.length;)I.pop()();for(let e=0;e<z.length;e+=1){const t=z[e];M.has(t)||(M.add(t),t())}z.length=0}while(T.length);for(;D.length;)D.pop()();N=!1,M.clear(),O(e)}function H(e){if(null!==e.fragment){e.update(),s(e.before_update);const t=e.dirty;e.dirty=[-1],e.fragment&&e.fragment.p(e.ctx,t),e.after_update.forEach(B)}}const R=new Set;let G;function F(){G={r:0,c:[],p:G}}function X(){G.r||s(G.c),G=G.p}function Y(e,t){e&&e.i&&(R.delete(e),e.i(t))}function J(e,t,n,s){if(e&&e.o){if(R.has(e))return;R.add(e),G.c.push((()=>{R.delete(e),s&&(n&&e.d(1),s())})),e.o(t)}}const K="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function Q(e){e&&e.c()}function W(e,n,l,r){const{fragment:a,on_mount:i,on_destroy:c,after_update:u}=e.$$;a&&a.m(n,l),r||B((()=>{const n=i.map(t).filter(o);c?c.push(...n):s(n),e.$$.on_mount=[]})),u.forEach(B)}function Z(e,t){const n=e.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(t),n.on_destroy=n.fragment=null,n.ctx=[])}function ee(e,t){-1===e.$$.dirty[0]&&(T.push(e),N||(N=!0,L.then(V)),e.$$.dirty.fill(0)),e.$$.dirty[t/31|0]|=1<<t%31}function te(t,o,l,r,i,c,u,d=[-1]){const p=a;O(t);const g=t.$$={fragment:null,ctx:null,props:c,update:e,not_equal:i,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(p?p.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:o.target||p.$$.root};u&&u(g.root);let m=!1;if(g.ctx=l?l(t,o.props||{},((e,n,...s)=>{const o=s.length?s[0]:n;return g.ctx&&i(g.ctx[e],g.ctx[e]=o)&&(!g.skip_bound&&g.bound[e]&&g.bound[e](o),m&&ee(t,e)),n})):[],g.update(),m=!0,s(g.before_update),g.fragment=!!r&&r(g.ctx),o.target){if(o.hydrate){const e=function(e){return Array.from(e.childNodes)}(o.target);g.fragment&&g.fragment.l(e),e.forEach(f)}else g.fragment&&g.fragment.c();o.intro&&Y(t.$$.fragment),W(t,o.target,o.anchor,o.customElement),V()}O(p)}class ne{$destroy(){Z(this,1),this.$destroy=e}$on(e,t){const n=this.$$.callbacks[e]||(this.$$.callbacks[e]=[]);return n.push(t),()=>{const e=n.indexOf(t);-1!==e&&n.splice(e,1)}}$set(e){var t;this.$$set&&(t=e,0!==Object.keys(t).length)&&(this.$$.skip_bound=!0,this.$$set(e),this.$$.skip_bound=!1)}}function se(t){let n,s;return{c(){n=v("svg"),s=v("circle"),y(s,"class","path svelte-10a1n9q"),y(s,"cx","25"),y(s,"cy","25"),y(s,"r","20"),y(s,"fill","none"),y(s,"stroke-width",le),y(n,"class","spinner svelte-10a1n9q"),y(n,"viewBox","0 0 50 50"),y(n,"width",oe),y(n,"height",oe),C(n,"--speed",re+"ms")},m(e,t){p(e,n,t),d(n,s)},p:e,i:e,o:e,d(e){e&&f(n)}}}let oe=50,le=3,re=2e3;class ae extends ne{constructor(e){super(),te(this,e,null,se,l,{})}}const ie=acquireVsCodeApi();class ce{static addEventListener(e){ce.funcEvent=e}static run(e){ce.funcEvent(e,"exec")}static drop(){ce.rd={},ie.setState(ce.rd)}static get(e,t=null){return ce.rd[e]?ce.rd[e]:(ce.rd=ie.getState()||{},ce.rd[e]?ce.rd[e]:null!==t?(ce.set(e,t),t):null)}static set(e,t){ce.rd[e]=t,ie.setState(ce.rd)}static dispatch(e,t){if(e)return t(!0);window.setTimeout((()=>{"function"==typeof t&&t((e=>{ce.dispatch(e,t)}))}),100)}}ce.rd={},ce.funcEvent=(e,t)=>{};class ue{static call(e){return!(!e||!e.cmd||"function"!=typeof ue.db[e.cmd])&&(ue.db[e.cmd](e.dat||null),ue.db[e.cmd]=void 0,!0)}static send(e,t=null,n=null){"function"==typeof t&&(n=t,t={});const s=t||{};return"function"==typeof n&&(ue.db[e]=n),ie.postMessage({command:e,content:s})}}ue.db={};var de={"personal-access-tokens":"Token de Acceso Personal","gitlab-host":"Servidor control de versiones GitLab","log-in":"Iniciar session","show-token":"Ver token","api-services":"Api para acciones de administrador (opcional)",connect:"Conectar","select-project":"Selecciona un proyecto",pending:"Pendientes",solved:"Resueltas","high-priority":"Prioridad Alta","medium-priority":"Prioridad Media","low-priority":"Prioridad Baja",loading:"Cargando","select-option":"Selecciona un opción",search:"Buscar",all:"Todas",open:"Abiertas",close:"Cerradas",assigned:"Asignadas",delegates:"Delegadas","new-task":"Agregar una nueva tarea",back:"Regresar","assign-user":"Asignar un usuario","edit-task":"Editar tarea (Incidencia)",title:"Título",description:"Descripción","select-priority":"Selecciona una opción",deadline:"Fecha de entrega",add:"Agregar",save:"Guardar","delete-task":"Eliminar tarea (incidencia)","are-you-sure-you-want-to-delete":"¿Está seguro de que desea eliminar esta tarea (incidencia)?",cancel:"Cancelar",remove:"Eliminar","are-you-sure-you-want-to-log-out":"¿Estás seguro de que quieres cerrar sesión?",disconnect:"Desconectar","403forbidden":"403 Prohibido",err:"An error occurred, please try again later","no-tasks-assigned":"No hay tareas asignadas para este proyecto","no-tasks-delegated":"No hay tareas delegadas para este proyecto","progress-percentage":"Porcentaje de avances",project:"Proyecto",logs:"Bitácora",priority:"Prioridad",author:"Author",assign:"Asignado",comments:"Comentarios","created-at":"Creado el",comment:"Comentario","new-comment":"Nuevo comentario",closed:"Cerrado",opened:"Abierto","updated-at":"Actualizado el","closed-at":"Cerrado el","unknown-problem-occurred":"Ocurrió un problema desconocido",alternatives:"Alternativas","please-refresh":"Presiona el icono de Recargar que esta en barra superior  de la extensión","close-and-open":"Cerrar y abrir la pestaña o vista","sign-out-and-sign":"Cerrar e Iniciar sesión"},pe={"personal-access-tokens":"Personal Access Tokens","gitlab-host":"GitLab version control server","log-in":"Log in","show-token":"Show Token","api-services":"API for admin actions (optional)",connect:"Connect","select-project":"Select a project",pending:"Pending tasks",solved:"Solved tasks","high-priority":"High priority","medium-priority":"Medium priority","low-priority":"Low priority",loading:"Loading","select-option":"Select an option",search:"Search",all:"All",open:"Open",close:"Closed",assigned:"Assigned",delegates:"Delegates","new-task":"New task (Issue)",back:"Go back","assign-user":"Assign to user","edit-task":"Edit Task (Issue)",title:"Title",description:"Description","select-priority":"Select a priority",deadline:"Deadline",add:"Add",save:"Save","delete-task":"Delete Task (Issue)","are-you-sure-you-want-to-delete":"Are you sure you want to delete this task (issue)?",cancel:"Cancel",remove:"Remove","are-you-sure-you-want-to-log-out":"Are you sure you want to log out?",disconnect:"Disconnect","403forbidden":"403 Forbidden",err:"An error occurred, please try again later","no-tasks-assigned":"There are no assigned tasks for this project","no-tasks-delegated":"There are no delegated tasks for this project","progress-percentage":"Progress percentage",project:"Project",logs:"logs",priority:"Priority",author:"Author",assign:"Assigned",comments:"Comments","created-at":"Created at",comment:"Comment","new-comment":"New comment",closed:"closed",opened:"open","updated-at":"Updated at","closed-at":"Closed at","unknown-problem-occurred":"An unknown problem occurred",alternatives:"Alternatives","please-refresh":"Press the Reload icon that is on the top bar of the extension","close-and-open":"Close and open tabs or views","sign-out-and-sign":"Sign out and sign in again"};class fe{static key(e){const t=e.toLowerCase().replace(/[^a-z0-9-]/g,"");return fe.get(t)||e}static load(e){"es"===e?fe.rd=de:"en"===e&&(fe.rd=pe),fe.id=e}static get(e){return fe.rd||(fe.rd="es"===fe.id?de:pe),fe.rd[e]||""}}fe.id="en",fe.rd=null;class ge{static clean(){ce.set("page",[])}static setScroll(e,t=0){window.setTimeout((()=>{window.scrollTo(0,ce.get("scroll_"+e)||0)}),t)}static addEventListener(e){ge.funcEvent=e}static back(){const e=ge.get()||"dash";ge.funcEvent(e,"back")}static put(e){ge.funcEvent(e,"put")}static set(e){const t=ce.get("page")||[];t.length&&t[t.length-1]===e||(t.push(e),t.length>9&&t.shift(),ce.set("page",t))}static get(){let e=ce.get("page");e=e instanceof Array?e:[];let t=null;return e.pop()&&(t=e.pop()),ce.set("page",e),t}static last(){let e=ce.get("page")||[],t=e.pop();return ce.set("page",e),t}}ge.funcEvent=(e,t)=>{};let me={};class ve{static set(e){me=e,ce.set("user",me)}static get(){return ve.load(),me}static allow(){return!(!me||!me.id)&&me.allow}static load(){me=me&&me.id?me:ce.get("user")||{}}static getApiService(e){return-1!==e.indexOf("aidev.work")?e.replace("git.","").replace(":8082","")+"/api-task/v1":""}static wAuth(){return ue.send("session/init",me,(e=>{}))}static auth(e){return ve.isView="sidebar"!==e,ve.type=e,ve.load(),this.isView||me.id&&me.host&&me.token?ue.send("session/init",me,(e=>{fe.load(e&&e.lang?e.lang:"en"),ve.isView?e.id?(ve.set(e),ge.put(ve.type)):ge.put("closed"):(ge.put(ge.last()||"dash"),ce.run("refresh"))})):ue.send("session/drop",(()=>{ge.put("login")}))}static login(e,t){e.service=ve.getApiService(e.host),ue.send("session/login",e,(e=>{e&&e.id&&(ce.set("user",e),ce.set("page",[]),ge.put("dash"),ue.send("reloads"),t(!0)),t(!1)}))}static drop(){me={},ce.set("user",me),ue.send("session/drop",(()=>{ge.put("login")}))}}function $e(t){let n;return{c(){n=m("button"),n.textContent=`${fe.get("connect")}`,y(n,"type","submit")},m(e,t){p(e,n,t)},p:e,i:e,o:e,d(e){e&&f(n)}}}function he(t){let n,s;return n=new ae({}),{c(){Q(n.$$.fragment)},m(e,t){W(n,e,t),s=!0},p:e,i(e){s||(Y(n.$$.fragment,e),s=!0)},o(e){J(n.$$.fragment,e),s=!1},d(e){Z(n,e)}}}function be(e){let t,n,o,l,r,a,i,c,u,g,v,$,b,w,_,C,E,A,O,S,P,q,T;const I=[he,$e],z=[];function D(e,t){return e[0]?0:1}return O=D(e),S=z[O]=I[O](e),{c(){t=m("h3"),t.textContent=`${fe.get("log-in")}`,n=h(),o=m("form"),l=m("div"),r=m("label"),r.textContent=`${fe.get("gitlab-host")}`,a=h(),i=m("input"),c=h(),u=m("div"),g=m("label"),g.textContent=`${fe.get("personal-access-tokens")}`,v=h(),$=m("input"),b=h(),w=m("div"),_=m("input"),C=h(),E=m("label"),E.textContent=`${fe.get("show-token")}`,A=h(),S.c(),y(t,"class","pb1"),y(r,"for","apiHost"),y(i,"type","url"),i.required=!0,y(g,"for","privateToken"),y($,"type","password"),$.required=!0,y(_,"type","checkbox"),y(_,"id","showprivateToken"),y(E,"for","showprivateToken")},m(s,f){p(s,t,f),p(s,n,f),p(s,o,f),d(o,l),d(l,r),d(l,a),d(l,i),e[5](i),j(i,e[1].host),d(o,c),d(o,u),d(u,g),d(u,v),d(u,$),e[7]($),j($,e[1].token),d(o,b),d(o,w),d(w,_),d(w,C),d(w,E),d(o,A),z[O].m(o,null),P=!0,q||(T=[k(i,"input",e[6]),k($,"input",e[8]),k(_,"change",e[4]),k(o,"submit",x(e[3]))],q=!0)},p(e,[t]){2&t&&j(i,e[1].host),2&t&&$.value!==e[1].token&&j($,e[1].token);let n=O;O=D(e),O===n?z[O].p(e,t):(F(),J(z[n],1,1,(()=>{z[n]=null})),X(),S=z[O],S?S.p(e,t):(S=z[O]=I[O](e),S.c()),Y(S,1),S.m(o,null))},i(e){P||(Y(S),P=!0)},o(e){J(S),P=!1},d(l){l&&f(t),l&&f(n),l&&f(o),e[5](null),e[7](null),z[O].d(),q=!1,s(T)}}}function ke(e,t,n){let s=!1;const o={host:"",token:""},l={host:null,token:null};return P((()=>{ce.drop(),l.host.focus()})),[s,o,l,()=>{n(0,s=!0),ve.login(o,(e=>n(0,s=!e)))},e=>{l.token.setAttribute("type",e.target.checked?"text":"password")},function(e){I[e?"unshift":"push"]((()=>{l.host=e,n(2,l)}))},function(){o.host=this.value,n(1,o)},function(e){I[e?"unshift":"push"]((()=>{l.token=e,n(2,l)}))},function(){o.token=this.value,n(1,o)}]}ve.isView=!1,ve.type="sidebar";class xe extends ne{constructor(e){super(),te(this,e,ke,be,l,{})}}function ye(t){let n,o,l,r,a,i,c,u,g,v,$,b,x;return{c(){n=m("div"),o=m("h3"),o.textContent=`${fe.get("are-you-sure-you-want-to-log-out")}`,l=h(),r=m("div"),a=m("div"),i=m("input"),c=h(),u=m("div"),g=m("button"),g.textContent=`${fe.get("disconnect")}`,v=h(),$=m("div"),y(o,"class","p2"),y(i,"type","button"),y(i,"class","btn svelte-1br32mt"),i.value=fe.get("cancel"),y(a,"class","col col-6 center"),y(g,"type","button"),y(g,"class","svelte-1br32mt"),y(u,"class","col col-6 center"),y(r,"class","clearfix"),y(n,"class","box-content svelte-1br32mt")},m(e,s){p(e,n,s),d(n,o),d(n,l),d(n,r),d(r,a),d(a,i),d(r,c),d(r,u),d(u,g),d(n,v),d(n,$),b||(x=[k(i,"click",t[0]),k(g,"click",t[1])],b=!0)},p:e,i:e,o:e,d(e){e&&f(n),b=!1,s(x)}}}function we(e){return[()=>ge.back(),()=>{ue.send("web-task/closed"),ve.drop()}]}class _e extends ne{constructor(e){super(),te(this,e,we,ye,l,{})}}function je(e){let t,n,s,o;return{c(){t=m("span"),n=$(e[0]),y(t,"class","svelte-ak7jq7")},m(l,r){p(l,t,r),d(t,n),s||(o=k(t,"click",e[4]),s=!0)},p(e,t){1&t&&_(n,e[0])},d(e){e&&f(t),s=!1,o()}}}function Ce(e){let t,n,o,l,r,a,i,c,g,v,$;return{c(){t=m("div"),n=m("input"),o=h(),l=m("button"),r=m("i"),a=h(),i=m("button"),c=m("i"),n.disabled=e[3],y(n,"type","text"),y(n,"class","svelte-ak7jq7"),y(r,"class","fas fa-xmark"),l.disabled=e[3],y(l,"class","btn-cancel svelte-ak7jq7"),y(l,"type","button"),y(c,"class",g=u(e[2])+" svelte-ak7jq7"),i.disabled=e[3],y(i,"type","button"),y(i,"class","svelte-ak7jq7"),y(t,"class","item-group svelte-ak7jq7")},m(s,u){p(s,t,u),d(t,n),j(n,e[0]),d(t,o),d(t,l),d(l,r),d(t,a),d(t,i),d(i,c),v||($=[k(n,"input",e[8]),k(l,"click",e[9]),k(i,"click",e[5])],v=!0)},p(e,t){8&t&&(n.disabled=e[3]),1&t&&n.value!==e[0]&&j(n,e[0]),8&t&&(l.disabled=e[3]),4&t&&g!==(g=u(e[2])+" svelte-ak7jq7")&&y(c,"class",g),8&t&&(i.disabled=e[3])},d(e){e&&f(t),v=!1,s($)}}}function Ee(t){let n;function s(e,t){return!0===e[1]?Ce:je}let o=s(t),l=o(t);return{c(){n=m("div"),l.c()},m(e,t){p(e,n,t),l.m(n,null)},p(e,[t]){o===(o=s(e))&&l?l.p(e,t):(l.d(1),l=o(e),l&&(l.c(),l.m(n,null)))},i:e,o:e,d(e){e&&f(n),l.d()}}}function Ae(e,t,n){let{id:s=""}=t,{text:o=""}=t,{onSave:l=(e=>{})}=t,r=o,a=!1,i="fas fa-edit",c=!1;function u(){n(1,a=!a)}return e.$$set=e=>{"id"in e&&n(6,s=e.id),"text"in e&&n(0,o=e.text),"onSave"in e&&n(7,l=e.onSave)},[o,a,i,c,u,function(){n(3,c=!0),n(2,i="fas fa-spinner fa-spin"),l(s,o,(e=>{n(3,c=!1),n(2,i="fas fa-edit"),void 0!==e?(r=e,n(0,o=e)):n(0,o=r),u()}))},s,l,function(){o=this.value,n(0,o)},()=>{u()}]}class Oe extends ne{constructor(e){super(),te(this,e,Ae,Ee,l,{id:6,text:0,onSave:7})}}const Se=e=>({}),Pe=e=>({});function qe(e){let t,n;const s=e[1].content,o=function(e,t,n,s){if(e){const o=c(e,t,n,s);return e[0](o)}}(s,e,e[0],Pe);return{c(){t=m("div"),o&&o.c(),y(t,"class","card mb1 svelte-aq82fr")},m(e,s){p(e,t,s),o&&o.m(t,null),n=!0},p(e,[t]){o&&o.p&&(!n||1&t)&&function(e,t,n,s,o,l){if(o){const r=c(t,n,s,l);e.p(r,o)}}(o,s,e,e[0],n?function(e,t,n,s){if(e[2]&&s){const o=e[2](s(n));if(void 0===t.dirty)return o;if("object"==typeof o){const e=[],n=Math.max(t.dirty.length,o.length);for(let s=0;s<n;s+=1)e[s]=t.dirty[s]|o[s];return e}return t.dirty|o}return t.dirty}(s,e[0],t,Se):function(e){if(e.ctx.length>32){const t=[],n=e.ctx.length/32;for(let e=0;e<n;e++)t[e]=-1;return t}return-1}(e[0]),Pe)},i(e){n||(Y(o,e),n=!0)},o(e){J(o,e),n=!1},d(e){e&&f(t),o&&o.d(e)}}}function Te(e,t,n){let{$$slots:s={},$$scope:o}=t;return e.$$set=e=>{"$$scope"in e&&n(0,o=e.$$scope)},[o,s]}class Ie extends ne{constructor(e){super(),te(this,e,Te,qe,l,{})}}function ze(t){let n,s,o=t[0].name+"";return{c(){n=m("div"),s=$(o)},m(e,t){p(e,n,t),d(n,s)},p(e,t){1&t&&o!==(o=e[0].name+"")&&_(s,o)},i:e,o:e,d(e){e&&f(n)}}}function De(e){let t,n;return t=new Oe({props:{id:"name",text:e[0].name,onSave:e[1]}}),{c(){Q(t.$$.fragment)},m(e,s){W(t,e,s),n=!0},p(e,n){const s={};1&n&&(s.text=e[0].name),t.$set(s)},i(e){n||(Y(t.$$.fragment,e),n=!0)},o(e){J(t.$$.fragment,e),n=!1},d(e){Z(t,e)}}}function Le(e){let t;return{c(){t=m("span"),t.textContent="admin",y(t,"class","svelte-j536g4")},m(e,n){p(e,t,n)},d(e){e&&f(t)}}}function Ne(e){let t,n,s,o,l,r,a,c,u,g,v,b,x,w,j,C,E,A,O,S,P,q=e[0].username+"",T=e[0].email+"";const I=[De,ze],z=[];function D(e,t){return e[0].allow?0:1}w=D(e),j=z[w]=I[w](e);let L=e[0].isAdmin&&Le();return{c(){t=m("div"),n=m("div"),n.innerHTML='<li class="fa fa-cog"></li>',s=h(),o=m("div"),o.textContent="12",l=h(),r=m("div"),a=m("img"),u=h(),g=m("h2"),v=$(q),b=h(),x=m("p"),j.c(),C=h(),E=$(T),A=h(),L&&L.c(),y(n,"class","options svelte-j536g4"),y(o,"class","notify svelte-j536g4"),i(a.src,c=e[0].avatarUrl)||y(a,"src",c),y(a,"alt",""),y(a,"class","profile svelte-j536g4"),y(r,"class","cover-photo svelte-j536g4"),y(g,"class","svelte-j536g4"),y(x,"class","svelte-j536g4"),y(t,"slot","content")},m(i,c){p(i,t,c),d(t,n),d(t,s),d(t,o),d(t,l),d(t,r),d(r,a),d(t,u),d(t,g),d(g,v),d(t,b),d(t,x),z[w].m(x,null),d(x,C),d(x,E),d(t,A),L&&L.m(t,null),O=!0,S||(P=k(a,"click",e[2]),S=!0)},p(e,n){(!O||1&n&&!i(a.src,c=e[0].avatarUrl))&&y(a,"src",c),(!O||1&n)&&q!==(q=e[0].username+"")&&_(v,q);let s=w;w=D(e),w===s?z[w].p(e,n):(F(),J(z[s],1,1,(()=>{z[s]=null})),X(),j=z[w],j?j.p(e,n):(j=z[w]=I[w](e),j.c()),Y(j,1),j.m(x,C)),(!O||1&n)&&T!==(T=e[0].email+"")&&_(E,T),e[0].isAdmin?L||(L=Le(),L.c(),L.m(t,null)):L&&(L.d(1),L=null)},i(e){O||(Y(j),O=!0)},o(e){J(j),O=!1},d(e){e&&f(t),z[w].d(),L&&L.d(),S=!1,P()}}}function Be(e){let t,n;return t=new Ie({props:{$$slots:{content:[Ne]},$$scope:{ctx:e}}}),{c(){Q(t.$$.fragment)},m(e,s){W(t,e,s),n=!0},p(e,[n]){const s={};9&n&&(s.$$scope={dirty:n,ctx:e}),t.$set(s)},i(e){n||(Y(t.$$.fragment,e),n=!0)},o(e){J(t.$$.fragment,e),n=!1},d(e){Z(t,e)}}}function Me(e,t,n){let{user:s={}}=t;return e.$$set=e=>{"user"in e&&n(0,s=e.user)},[s,(e,t,o)=>{n(0,s.name=t,s);const l={};l[e]=t,ue.send("user/edit",{user:l},(e=>{e&&e.id&&(n(0,s=e),ve.set(s)),"function"==typeof o&&o(e&&e.name?e.name:void 0)}))},()=>{s.allow&&ue.send("user/avatar",(e=>{e.avatarUrl&&(n(0,s=e),ve.set(s),n(0,s.avatarUrl=e.avatarUrl+"?"+Math.random(),s))}))}]}class Ue extends ne{constructor(e){super(),te(this,e,Me,Be,l,{user:0})}}function Ve(e,t,n){const s=e.slice();return s[20]=t[n],s}function He(e){let t,n,s,o;return{c(){t=m("button"),n=$(e[0]),y(t,"class","mb1")},m(l,r){p(l,t,r),d(t,n),s||(o=k(t,"click",e[8]),s=!0)},p(e,t){1&t&&_(n,e[0])},d(e){e&&f(t),s=!1,o()}}}function Re(e){let t,n,o,l,r,a,i,c,v,b,x,w,C,A,O,S,P,q,T,I,z,D,L,N=e[5],M=[];for(let t=0;t<N.length;t+=1)M[t]=Ge(Ve(e,N,t));return{c(){t=m("div"),n=m("div"),o=m("h3"),l=$(e[0]),r=h(),a=m("div"),i=m("button"),c=m("i"),v=h(),b=m("div"),x=m("input"),w=h(),C=m("button"),A=m("i"),O=h(),S=m("button"),P=m("i"),T=h(),I=m("div"),z=m("select");for(let e=0;e<M.length;e+=1)M[e].c();y(o,"class","svelte-1jrx3uc"),y(n,"class","left"),y(c,"class","fas fa-xmark"),i.disabled=e[3],y(i,"class","btn btn-cancel svelte-1jrx3uc"),y(a,"class","right"),y(t,"class","clearfix mb1"),x.disabled=e[3],y(x,"placeholder",fe.get("search")+"..."),y(x,"type","text"),y(x,"class","svelte-1jrx3uc"),y(A,"class","fas fa-eraser"),C.disabled=e[3],y(C,"class","btn btn-clean svelte-1jrx3uc"),y(P,"class",q=u(e[4])+" svelte-1jrx3uc"),y(S,"class","btn btn-search svelte-1jrx3uc"),S.disabled=e[3],y(b,"class","item-group svelte-1jrx3uc"),y(z,"class","select svelte-1jrx3uc"),void 0===e[6].id&&B((()=>e[16].call(z))),y(I,"class","mt1")},m(s,u){p(s,t,u),d(t,n),d(n,o),d(o,l),d(t,r),d(t,a),d(a,i),d(i,c),p(s,v,u),p(s,b,u),d(b,x),j(x,e[2]),d(b,w),d(b,C),d(C,A),d(b,O),d(b,S),d(S,P),p(s,T,u),p(s,I,u),d(I,z);for(let e=0;e<M.length;e+=1)M[e].m(z,null);e[15](z),E(z,e[6].id),D||(L=[k(i,"click",e[12]),k(x,"input",e[13]),k(C,"click",e[14]),k(S,"click",e[9]),k(z,"change",e[16]),k(z,"change",e[10])],D=!0)},p(e,t){if(1&t&&_(l,e[0]),8&t&&(i.disabled=e[3]),8&t&&(x.disabled=e[3]),4&t&&x.value!==e[2]&&j(x,e[2]),8&t&&(C.disabled=e[3]),16&t&&q!==(q=u(e[4])+" svelte-1jrx3uc")&&y(P,"class",q),8&t&&(S.disabled=e[3]),32&t){let n;for(N=e[5],n=0;n<N.length;n+=1){const s=Ve(e,N,n);M[n]?M[n].p(s,t):(M[n]=Ge(s),M[n].c(),M[n].m(z,null))}for(;n<M.length;n+=1)M[n].d(1);M.length=N.length}96&t&&E(z,e[6].id)},d(n){n&&f(t),n&&f(v),n&&f(b),n&&f(T),n&&f(I),g(M,n),e[15](null),D=!1,s(L)}}}function Ge(e){let t,n,s,o=e[20].value+"";return{c(){t=m("option"),n=$(o),t.__value=s=e[20].id,t.value=t.__value},m(e,s){p(e,t,s),d(t,n)},p(e,l){32&l&&o!==(o=e[20].value+"")&&_(n,o),32&l&&s!==(s=e[20].id)&&(t.__value=s,t.value=t.__value)},d(e){e&&f(t)}}}function Fe(t){let n;function s(e,t){return!0===e[1]?Re:He}let o=s(t),l=o(t);return{c(){n=m("div"),l.c()},m(e,t){p(e,n,t),l.m(n,null)},p(e,[t]){o===(o=s(e))&&l?l.p(e,t):(l.d(1),l=o(e),l&&(l.c(),l.m(n,null)))},i:e,o:e,d(e){e&&f(n),l.d()}}}function Xe(e,t,n){let{id:s=""}=t,{label:o=""}=t;const l=q();let r=!1,a="",i=!1,c="fas fa-search",u=[],d={id:0,name:""},p=null;const f=e=>{n(1,r=!r),(e=>{l("EventExpand",e)})(r)},g=e=>{n(3,i=e),e&&(n(5,u=[{id:"",value:fe.get("loading")+"..."}]),n(6,d.id="",d)),n(4,c="fas fa-"+(i?"spinner fa-spin":"search"))};return e.$$set=e=>{"id"in e&&n(11,s=e.id),"label"in e&&n(0,o=e.label)},[o,r,a,i,c,u,d,p,f,()=>{g(!0),l("EventSelect",{id:s,value:a||"",fun:e=>{e.unshift({id:"",value:fe.get("select-option")+"..."}),n(5,u=e),g(!1),l("EventSelect",{id:s,data:{id:0,name:""}})}})},()=>{n(6,d.name=p.options[p.selectedIndex].text,d),l("EventSelect",{id:s,data:d})},s,()=>f(),function(){a=this.value,n(2,a)},()=>n(2,a=""),function(e){I[e?"unshift":"push"]((()=>{p=e,n(7,p)}))},function(){d.id=A(this),n(6,d),n(5,u)}]}class Ye extends ne{constructor(e){super(),te(this,e,Xe,Fe,l,{id:11,label:0})}}function Je(t){let n,s,o,l,r;return{c(){n=m("div"),s=m("div"),o=m("div"),l=h(),r=m("div"),y(o,"class","gauge__fill svelte-sk2b6t"),y(r,"class","gauge__cover svelte-sk2b6t"),y(s,"class","gauge__body svelte-sk2b6t"),y(n,"class","gauge svelte-sk2b6t")},m(e,a){p(e,n,a),d(n,s),d(s,o),t[3](o),d(s,l),d(s,r),t[4](r)},p:e,i:e,o:e,d(e){e&&f(n),t[3](null),t[4](null)}}}function Ke(e,t,n){let{value:s=0}=t,o=null,l=null;return P((()=>{var e;(e=s)<0||e>1||(n(0,o.style.transform=`rotate(${e/2}turn)`,o),n(1,l.textContent=`${Math.round(100*e)}%`,l))})),e.$$set=e=>{"value"in e&&n(2,s=e.value)},[o,l,s,function(e){I[e?"unshift":"push"]((()=>{o=e,n(0,o)}))},function(e){I[e?"unshift":"push"]((()=>{l=e,n(1,l)}))}]}class Qe extends ne{constructor(e){super(),te(this,e,Ke,Je,l,{value:2})}}function We(t){let n,s,o,l,r,a,i,c,u;return{c(){n=m("div"),s=m("div"),o=$("Progress\r\n        "),l=m("div"),r=h(),a=m("span"),i=$(t[0]),c=$("%"),y(l,"class","progress-bar--inner svelte-szwwex"),C(l,"width",t[0]+"%"),y(s,"class","progress-bar svelte-szwwex"),y(a,"class","progress-bar--counter svelte-szwwex"),y(n,"class",u="progress-bar--wrap progress-bar--"+t[1]+" svelte-szwwex")},m(e,t){p(e,n,t),d(n,s),d(s,o),d(s,l),d(n,r),d(n,a),d(a,i),d(a,c)},p(e,[t]){1&t&&C(l,"width",e[0]+"%"),1&t&&_(i,e[0]),2&t&&u!==(u="progress-bar--wrap progress-bar--"+e[1]+" svelte-szwwex")&&y(n,"class",u)},i:e,o:e,d(e){e&&f(n)}}}function Ze(e,t,n){let{value:s=0}=t,{color:o="green"}=t;return e.$$set=e=>{"value"in e&&n(0,s=e.value),"color"in e&&n(1,o=e.color)},[s,o]}class et extends ne{constructor(e){super(),te(this,e,Ze,We,l,{value:0,color:1})}}function tt(e){let t,n,s,o;return t=new Ie({props:{$$slots:{content:[st]},$$scope:{ctx:e}}}),s=new Ie({props:{$$slots:{content:[ot]},$$scope:{ctx:e}}}),{c(){Q(t.$$.fragment),n=h(),Q(s.$$.fragment)},m(e,l){W(t,e,l),p(e,n,l),W(s,e,l),o=!0},p(e,n){const o={};8193&n&&(o.$$scope={dirty:n,ctx:e}),t.$set(o);const l={};8193&n&&(l.$$scope={dirty:n,ctx:e}),s.$set(l)},i(e){o||(Y(t.$$.fragment,e),Y(s.$$.fragment,e),o=!0)},o(e){J(t.$$.fragment,e),J(s.$$.fragment,e),o=!1},d(e){Z(t,e),e&&f(n),Z(s,e)}}}function nt(t){let n,s;return n=new ae({}),{c(){Q(n.$$.fragment)},m(e,t){W(n,e,t),s=!0},p:e,i(e){s||(Y(n.$$.fragment,e),s=!0)},o(e){J(n.$$.fragment,e),s=!1},d(e){Z(n,e)}}}function st(e){let t,n,s,o,l,r,a,i,c,u,g,v,b,k=fe.get("pending")+"",x=e[0].opened.num+"";return i=new et({props:{value:e[0].opened.val,color:"orange"}}),v=new et({props:{value:e[0].progress.val,color:"blue"}}),{c(){t=m("div"),n=m("h2"),s=$(k),o=$(" ("),l=$(x),r=$(")"),a=h(),Q(i.$$.fragment),c=h(),u=m("h2"),u.textContent=`${fe.get("progress-percentage")}`,g=h(),Q(v.$$.fragment),y(n,"class","mt2 mb1"),y(u,"class","mt2 mb1"),y(t,"slot","content")},m(e,f){p(e,t,f),d(t,n),d(n,s),d(n,o),d(n,l),d(n,r),d(t,a),W(i,t,null),d(t,c),d(t,u),d(t,g),W(v,t,null),b=!0},p(e,t){(!b||1&t)&&x!==(x=e[0].opened.num+"")&&_(l,x);const n={};1&t&&(n.value=e[0].opened.val),i.$set(n);const s={};1&t&&(s.value=e[0].progress.val),v.$set(s)},i(e){b||(Y(i.$$.fragment,e),Y(v.$$.fragment,e),b=!0)},o(e){J(i.$$.fragment,e),J(v.$$.fragment,e),b=!1},d(e){e&&f(t),Z(i),Z(v)}}}function ot(e){let t,n,s,o,l,r,a,i,c,u,g,v,b,k,x,w,j,C,E,A,O,S,P,q,T,I,z,D,L,N,B,M,U,V=fe.get("solved")+"",H=e[0].closed.num+"",R=fe.get("high-priority")+"",G=e[0].alta.tot+"",F=fe.get("medium-priority")+"",X=e[0].media.tot+"",K=fe.get("low-priority")+"",ee=e[0].baja.tot+"";return i=new Qe({props:{value:e[0].porcent.val}}),w=new et({props:{value:e[0].alta.val,color:"red"}}),q=new et({props:{value:e[0].media.val,color:"yellow"}}),M=new et({props:{value:e[0].baja.val,color:"green"}}),{c(){t=m("div"),n=m("h2"),s=$(V),o=$(" ("),l=$(H),r=$(")"),a=h(),Q(i.$$.fragment),c=h(),u=m("h3"),g=$(R),v=$(" ("),b=$(G),k=$(")"),x=h(),Q(w.$$.fragment),j=h(),C=m("h3"),E=$(F),A=$(" ("),O=$(X),S=$(")"),P=h(),Q(q.$$.fragment),T=h(),I=m("h3"),z=$(K),D=$(" ("),L=$(ee),N=$(")"),B=h(),Q(M.$$.fragment),y(n,"class","mt2 mb1"),y(u,"class","mt2 mb1"),y(C,"class","mt2 mb1"),y(I,"class","mt2 mb1"),y(t,"slot","content")},m(e,f){p(e,t,f),d(t,n),d(n,s),d(n,o),d(n,l),d(n,r),d(t,a),W(i,t,null),d(t,c),d(t,u),d(u,g),d(u,v),d(u,b),d(u,k),d(t,x),W(w,t,null),d(t,j),d(t,C),d(C,E),d(C,A),d(C,O),d(C,S),d(t,P),W(q,t,null),d(t,T),d(t,I),d(I,z),d(I,D),d(I,L),d(I,N),d(t,B),W(M,t,null),U=!0},p(e,t){(!U||1&t)&&H!==(H=e[0].closed.num+"")&&_(l,H);const n={};1&t&&(n.value=e[0].porcent.val),i.$set(n),(!U||1&t)&&G!==(G=e[0].alta.tot+"")&&_(b,G);const s={};1&t&&(s.value=e[0].alta.val),w.$set(s),(!U||1&t)&&X!==(X=e[0].media.tot+"")&&_(O,X);const o={};1&t&&(o.value=e[0].media.val),q.$set(o),(!U||1&t)&&ee!==(ee=e[0].baja.tot+"")&&_(L,ee);const r={};1&t&&(r.value=e[0].baja.val),M.$set(r)},i(e){U||(Y(i.$$.fragment,e),Y(w.$$.fragment,e),Y(q.$$.fragment,e),Y(M.$$.fragment,e),U=!0)},o(e){J(i.$$.fragment,e),J(w.$$.fragment,e),J(q.$$.fragment,e),J(M.$$.fragment,e),U=!1},d(e){e&&f(t),Z(i),Z(w),Z(q),Z(M)}}}function lt(e){let t,n,s,o,l,r;t=new Ye({props:{id:"Project",label:e[1]}}),t.$on("EventSelect",e[3]);const a=[nt,tt],i=[];function c(e,t){return e[2]?0:1}return s=c(e),o=i[s]=a[s](e),{c(){Q(t.$$.fragment),n=h(),o.c(),l=b()},m(e,o){W(t,e,o),p(e,n,o),i[s].m(e,o),p(e,l,o),r=!0},p(e,[n]){const r={};2&n&&(r.label=e[1]),t.$set(r);let u=s;s=c(e),s===u?i[s].p(e,n):(F(),J(i[u],1,1,(()=>{i[u]=null})),X(),o=i[s],o?o.p(e,n):(o=i[s]=a[s](e),o.c()),Y(o,1),o.m(l.parentNode,l))},i(e){r||(Y(t.$$.fragment,e),Y(o),r=!0)},o(e){J(t.$$.fragment,e),J(o),r=!1},d(e){Z(t,e),e&&f(n),i[s].d(e),e&&f(l)}}}function rt(e,t,n){let s={},o="",l=!0,r={id:0,name:""};const a=e=>{var t;n(1,o=(t=e).id?t.name:fe.get("select-project")),r=e,ce.set("project",r)},i=(e,t)=>t?Math.round(e.num/t*100):0;function c(e){n(0,s={progress:{val:0,num:0,tot:0},opened:{val:0,num:0,tot:0},closed:{val:0,num:0,tot:0},baja:{val:0,num:0,tot:0},media:{val:0,num:0,tot:0},alta:{val:0,num:0,tot:0},porcent:{val:0,num:0,tot:0}}),n(0,s.opened.num=0,s),n(0,s.closed.num=0,s);for(const t in e)n(0,s.porcent.tot+=e[t].opened+e[t].closed,s),n(0,s.closed.num+=e[t].closed,s),n(0,s.opened.num+=e[t].opened,s),n(0,s[t].tot=e[t].opened+e[t].closed,s),n(0,s[t].num=e[t].closed,s),n(0,s[t].val=s[t].tot?Math.round(s[t].num/s[t].tot*100):0,s);n(0,s.opened.val=i(s.opened,s.porcent.tot),s),n(0,s.closed.val=i(s.closed,s.porcent.tot),s),n(0,s.porcent.val=s.closed.val/100,s)}const u=e=>{const t=e.detail;t.data?t.data.id&&(n(2,l=!0),a(t.data),ue.send("task/get-statistics",t.data,(e=>{const t={};t[r.id]=e,ce.set("tasks-0",[]),ce.set("tasks-1",[]),ce.set("statistics",t),c(e),p((()=>{n(2,l=!1)}))}))):ue.send("project/search",{key:t.value},t.fun)},d=(e,t)=>{for(let t in e)"opened"===e[t].state&&(n(0,s.progress.tot+=100,s),n(0,s.progress.num+=e[t].progress,s));n(0,s.progress.val=i(s.progress,s.progress.tot),s),t()},p=e=>{if(!s.opened.num)return e();let t=ce.get("tasks-0");if(t&&t.length)return d(t,e);ue.send("task/list-opened",r,(t=>{d(t,e)}))};return P((()=>{a(ce.get("project",r));const e=(()=>{const e=ce.get("statistics",[]);return e[0]={baja:{opened:0,closed:0},media:{opened:0,closed:0},alta:{opened:0,closed:0}},e})();e&&e[r.id]?(c(e[r.id]),p((()=>{n(2,l=!1)}))):u({detail:{data:r}})})),[s,o,l,u]}class at extends ne{constructor(e){super(),te(this,e,rt,lt,l,{})}}function it(e){let t,n,s,o;return t=new Ue({props:{user:e[1]}}),s=new at({}),{c(){Q(t.$$.fragment),n=h(),Q(s.$$.fragment)},m(e,l){W(t,e,l),p(e,n,l),W(s,e,l),o=!0},p(e,n){const s={};2&n&&(s.user=e[1]),t.$set(s)},i(e){o||(Y(t.$$.fragment,e),Y(s.$$.fragment,e),o=!0)},o(e){J(t.$$.fragment,e),J(s.$$.fragment,e),o=!1},d(e){Z(t,e),e&&f(n),Z(s,e)}}}function ct(t){let n,s;return n=new ae({}),{c(){Q(n.$$.fragment)},m(e,t){W(n,e,t),s=!0},p:e,i(e){s||(Y(n.$$.fragment,e),s=!0)},o(e){J(n.$$.fragment,e),s=!1},d(e){Z(n,e)}}}function ut(e){let t,n,s,o;const l=[ct,it],r=[];function a(e,t){return e[0]?0:1}return t=a(e),n=r[t]=l[t](e),{c(){n.c(),s=b()},m(e,n){r[t].m(e,n),p(e,s,n),o=!0},p(e,[o]){let i=t;t=a(e),t===i?r[t].p(e,o):(F(),J(r[i],1,1,(()=>{r[i]=null})),X(),n=r[t],n?n.p(e,o):(n=r[t]=l[t](e),n.c()),Y(n,1),n.m(s.parentNode,s))},i(e){o||(Y(n),o=!0)},o(e){J(n),o=!1},d(e){r[t].d(e),e&&f(s)}}}function dt(e,t,n){let s=!0,o={};return P((()=>{(e=>{let t=ve.get();if(t&&t.id)return e(t);ue.send("user/get-data",(t=>{if(t&&t.id)return ve.set(t),e(t);e(null)}))})((e=>{e?(n(1,o=e),n(0,s=!1)):ue.send("session/form-login")}))})),[s,o]}class pt extends ne{constructor(e){super(),te(this,e,dt,ut,l,{})}}function ft(t){let n,s,o,l,r,a=ve.allow(),i=a&&function(t){let n,s,o,l,r;return{c(){n=m("span"),n.innerHTML='<i class="fas fa-trash red svelte-11mizk4"></i>',s=h(),o=m("i"),y(n,"class","svelte-11mizk4"),y(o,"class","line svelte-11mizk4")},m(e,a){p(e,n,a),p(e,s,a),p(e,o,a),l||(r=k(n,"click",t[1]),l=!0)},p:e,d(e){e&&f(n),e&&f(s),e&&f(o),l=!1,r()}}}(t);return{c(){n=m("span"),i&&i.c(),s=h(),o=m("span"),o.innerHTML='<i class="fa fa-edit blue"></i>',y(o,"class","svelte-11mizk4"),y(n,"class","opc text-center svelte-11mizk4")},m(e,a){p(e,n,a),i&&i.m(n,null),d(n,s),d(n,o),l||(r=k(o,"click",t[2]),l=!0)},p(e,[t]){a&&i.p(e,t)},i:e,o:e,d(e){e&&f(n),i&&i.d(),l=!1,r()}}}function gt(e,t,n){let{selOpc:s=(e=>{})}=t;return e.$$set=e=>{"selOpc"in e&&n(0,s=e.selOpc)},[s,()=>s("D"),()=>s("E")]}class mt extends ne{constructor(e){super(),te(this,e,gt,ft,l,{selOpc:0})}}function vt(e){let t,n,s,o,l,r,a,i;return a=new mt({props:{selOpc:e[0]}}),{c(){t=m("div"),n=m("i"),s=h(),o=m("span"),o.textContent="•••",l=h(),r=m("div"),Q(a.$$.fragment),y(n,"class","db2 svelte-1qkjnkz"),y(n,"tabindex","0"),y(o,"class","dropbtn svelte-1qkjnkz"),y(r,"class","dropdown-content svelte-1qkjnkz"),y(r,"tabindex","0"),y(t,"class","dropdown svelte-1qkjnkz"),y(t,"tabindex","0")},m(e,c){p(e,t,c),d(t,n),d(t,s),d(t,o),d(t,l),d(t,r),W(a,r,null),i=!0},p(e,[t]){const n={};1&t&&(n.selOpc=e[0]),a.$set(n)},i(e){i||(Y(a.$$.fragment,e),i=!0)},o(e){J(a.$$.fragment,e),i=!1},d(e){e&&f(t),Z(a)}}}function $t(e,t,n){let{selOpc:s=(()=>{})}=t;return e.$$set=e=>{"selOpc"in e&&n(0,s=e.selOpc)},[s]}class ht extends ne{constructor(e){super(),te(this,e,$t,vt,l,{selOpc:0})}}function bt(e){let t,n,s;return n=new ht({props:{selOpc:e[12]}}),{c(){t=m("span"),Q(n.$$.fragment),y(t,"class","menu svelte-16erb4f")},m(e,o){p(e,t,o),W(n,t,null),s=!0},p(e,t){const s={};3&t&&(s.selOpc=e[12]),n.$set(s)},i(e){s||(Y(n.$$.fragment,e),s=!0)},o(e){J(n.$$.fragment,e),s=!1},d(e){e&&f(t),Z(n)}}}function kt(e){let t,n,o,l,r,a,i,c,u,g,v,$,b,x,w,_,C,E;return{c(){t=m("div"),n=m("input"),o=h(),l=m("datalist"),r=m("option"),a=m("option"),i=m("option"),c=m("option"),u=m("option"),g=m("option"),v=m("option"),$=m("option"),b=m("option"),x=m("option"),w=m("option"),_=m("input"),y(n,"type","range"),y(n,"class","input-range"),y(n,"step","10"),y(n,"list","tickmarks"),r.__value="0",r.value=r.__value,y(r,"label","0%"),a.__value="10",a.value=a.__value,i.__value="20",i.value=i.__value,c.__value="30",c.value=c.__value,u.__value="40",u.value=u.__value,g.__value="50",g.value=g.__value,y(g,"label","50%"),v.__value="60",v.value=v.__value,$.__value="70",$.value=$.__value,b.__value="80",b.value=b.__value,x.__value="90",x.value=x.__value,w.__value="100",w.value=w.__value,y(w,"label","100%"),y(l,"id","tickmarks")},m(s,f){p(s,t,f),d(t,n),j(n,e[2]),d(t,o),d(t,l),d(l,r),d(l,a),d(l,i),d(l,c),d(l,u),d(l,g),d(l,v),d(l,$),d(l,b),d(l,x),d(l,w),d(l,_),C||(E=[k(n,"change",e[9]),k(n,"change",e[14]),k(n,"input",e[14])],C=!0)},p(e,t){4&t&&j(n,e[2])},d(e){e&&f(t),C=!1,s(E)}}}function xt(e){let t,n,s,o,l,r,a,c,u,g=e[0].assignee.name+"";return{c(){t=m("footer"),n=m("strong"),n.textContent=`${fe.get("assign")}:`,s=h(),o=m("div"),l=m("img"),a=h(),c=m("span"),u=$(g),y(n,"class","svelte-16erb4f"),i(l.src,r=e[0].assignee.avatar_url)||y(l,"src",r),y(l,"alt",""),y(l,"class","svelte-16erb4f"),y(c,"class","svelte-16erb4f"),y(o,"class","svelte-16erb4f"),y(t,"class","svelte-16erb4f")},m(e,r){p(e,t,r),d(t,n),d(t,s),d(t,o),d(o,l),d(o,a),d(o,c),d(c,u)},p(e,t){1&t&&!i(l.src,r=e[0].assignee.avatar_url)&&y(l,"src",r),1&t&&g!==(g=e[0].assignee.name+"")&&_(u,g)},d(e){e&&f(t)}}}function yt(e){let t,n,o,l,r,a,i,c,g,v,b,x,j,C,E,A,O,S,P,q,T,I,z,D,L,N,B,M,U,V,H,R,G,K,ee,te,ne,se=e[0].title+"",oe=e[0].dueDate+"",le=e[0].description+"",re=e[0].comments+"",ae=e[4].id===e[0].author.id&&"opened"===e[0].state&&bt(e);L=new et({props:{value:e[2],color:"cyan"}});let ie=e[3]===e[7]&&"opened"===e[0].state&&kt(e),ce=e[0].assignee&&e[0].assignee.id!==e[4].id&&xt(e);return{c(){t=m("message-item"),n=m("div"),l=h(),r=m("input"),a=h(),i=m("span"),c=m("i"),g=h(),v=m("header"),b=m("div"),x=m("span"),j=$(se),C=h(),E=m("span"),A=$(oe),O=h(),ae&&ae.c(),S=h(),P=m("main"),q=m("p"),T=$(le),I=h(),z=m("div"),D=m("div"),Q(L.$$.fragment),N=h(),ie&&ie.c(),B=h(),M=m("span"),U=m("i"),V=$(" Comentarios ("),H=$(re),R=$(")"),G=h(),ce&&ce.c(),y(n,"class",o="tag "+e[6]+" svelte-16erb4f"),y(r,"class","checkbox svelte-16erb4f"),y(r,"type","checkbox"),r.checked=e[5],y(c,"class","fa fa-bell  svelte-16erb4f"),y(i,"class","notify "+wt+" svelte-16erb4f"),y(x,"class","subject svelte-16erb4f"),y(E,"class","date svelte-16erb4f"),y(b,"class","sender-info svelte-16erb4f"),y(v,"class","svelte-16erb4f"),y(q,"class","svelte-16erb4f"),y(D,"class","progress svelte-16erb4f"),y(U,"class","fa fa-comment"),y(M,"class","comment svelte-16erb4f"),y(z,"class","svelte-16erb4f"),y(P,"class","svelte-16erb4f"),w(t,"class",K=u("opened"===e[0].state?"unread":"done")+" svelte-16erb4f")},m(s,o){p(s,t,o),d(t,n),d(t,l),d(t,r),d(t,a),d(t,i),d(i,c),d(t,g),d(t,v),d(v,b),d(b,x),d(x,j),d(b,C),d(b,E),d(E,A),d(v,O),ae&&ae.m(v,null),d(t,S),d(t,P),d(P,q),d(q,T),d(P,I),d(P,z),d(z,D),W(L,D,null),d(z,N),ie&&ie.m(z,null),d(z,B),d(z,M),d(M,U),d(M,V),d(M,H),d(M,R),d(t,G),ce&&ce.m(t,null),ee=!0,te||(ne=[k(r,"change",e[8]),k(b,"click",e[11]),k(D,"click",e[13]),k(M,"click",e[11])],te=!0)},p(e,[s]){(!ee||64&s&&o!==(o="tag "+e[6]+" svelte-16erb4f"))&&y(n,"class",o),(!ee||32&s)&&(r.checked=e[5]),(!ee||1&s)&&se!==(se=e[0].title+"")&&_(j,se),(!ee||1&s)&&oe!==(oe=e[0].dueDate+"")&&_(A,oe),e[4].id===e[0].author.id&&"opened"===e[0].state?ae?(ae.p(e,s),17&s&&Y(ae,1)):(ae=bt(e),ae.c(),Y(ae,1),ae.m(v,null)):ae&&(F(),J(ae,1,1,(()=>{ae=null})),X()),(!ee||1&s)&&le!==(le=e[0].description+"")&&_(T,le);const l={};4&s&&(l.value=e[2]),L.$set(l),e[3]===e[7]&&"opened"===e[0].state?ie?ie.p(e,s):(ie=kt(e),ie.c(),ie.m(z,B)):ie&&(ie.d(1),ie=null),(!ee||1&s)&&re!==(re=e[0].comments+"")&&_(H,re),e[0].assignee&&e[0].assignee.id!==e[4].id?ce?ce.p(e,s):(ce=xt(e),ce.c(),ce.m(t,null)):ce&&(ce.d(1),ce=null),(!ee||1&s&&K!==(K=u("opened"===e[0].state?"unread":"done")+" svelte-16erb4f"))&&w(t,"class",K)},i(e){ee||(Y(ae),Y(L.$$.fragment,e),ee=!0)},o(e){J(ae),J(L.$$.fragment,e),ee=!1},d(e){e&&f(t),ae&&ae.d(),Z(L),ie&&ie.d(),ce&&ce.d(),te=!1,s(ne)}}}let wt="none";function _t(e,t,n){let{selOpc:s=(()=>{})}=t,{task:o={}}=t,l=0,r="";const a=e=>{const t=o.labels.indexOf(e);return t>-1?o.labels[t]:void 0};let i={},c=o.id,u="",d="none";const p=e=>{"opened"===o.state&&n(3,r=e===r?"":e)};P((()=>{n(4,i=ve.get())}));return e.$$set=e=>{"selOpc"in e&&n(1,s=e.selOpc),"task"in e&&n(0,o=e.task)},e.$$.update=()=>{1&e.$$.dirty&&n(6,(o.labels,d=a("alta")||a("media")||a("baja")||"none")),1&e.$$.dirty&&n(5,u="closed"===o.state?"checked":""),1&e.$$.dirty&&(()=>{n(3,r="");let e=0;for(let n=0;n<=10;n++)t=(10*n).toString(),e=o.labels.indexOf(t)>-1?10*n:e;var t;void 0!==l&&n(2,l=e)})(o.labels)},[o,s,l,r,i,u,d,c,()=>{n(0,o.state="opened"===o.state?"closed":"opened",o),n(0,o.progress="closed"===o.state?0:1,o),ue.send("task/state",o,(e=>{ce.run("refresh"),ue.send("web-task/refresh",o)}))},()=>{n(0,o.labels=[d,l.toString()],o),ue.send("task/labels",o,(e=>{ce.run("refresh"),ue.send("web-task/refresh",o)}))},p,()=>{ue.send("web-task/comments",o)},e=>s(e+":"+o.id),()=>p(c),function(){var e;e=this.value,l=""===e?null:+e,n(2,l)}]}class jt extends ne{constructor(e){super(),te(this,e,_t,yt,l,{selOpc:1,task:0})}}function Ct(e,t,n){const s=e.slice();return s[2]=t[n],s}function Et(t){let n,s=fe.get("no-tasks-"+(ce.get("filter_tasks")?"delegated":"assigned"))+"";return{c(){n=$(s)},m(e,t){p(e,n,t)},p:e,i:e,o:e,d(e){e&&f(n)}}}function At(e){let t,n,s,o=e[1],l=[];for(let t=0;t<o.length;t+=1)l[t]=Ot(Ct(e,o,t));const r=e=>J(l[e],1,1,(()=>{l[e]=null}));return{c(){t=m("div"),n=m("div");for(let e=0;e<l.length;e+=1)l[e].c();y(n,"class","inbox-list svelte-1wb9h1m"),y(t,"class","inbox svelte-1wb9h1m")},m(e,o){p(e,t,o),d(t,n);for(let e=0;e<l.length;e+=1)l[e].m(n,null);s=!0},p(e,t){if(3&t){let s;for(o=e[1],s=0;s<o.length;s+=1){const r=Ct(e,o,s);l[s]?(l[s].p(r,t),Y(l[s],1)):(l[s]=Ot(r),l[s].c(),Y(l[s],1),l[s].m(n,null))}for(F(),s=o.length;s<l.length;s+=1)r(s);X()}},i(e){if(!s){for(let e=0;e<o.length;e+=1)Y(l[e]);s=!0}},o(e){l=l.filter(Boolean);for(let e=0;e<l.length;e+=1)J(l[e]);s=!1},d(e){e&&f(t),g(l,e)}}}function Ot(e){let t,n;return t=new jt({props:{task:e[2],selOpc:e[0]}}),{c(){Q(t.$$.fragment)},m(e,s){W(t,e,s),n=!0},p(e,n){const s={};2&n&&(s.task=e[2]),1&n&&(s.selOpc=e[0]),t.$set(s)},i(e){n||(Y(t.$$.fragment,e),n=!0)},o(e){J(t.$$.fragment,e),n=!1},d(e){Z(t,e)}}}function St(e){let t,n,s,o;const l=[At,Et],r=[];function a(e,t){return e[1]instanceof Array&&e[1].length?0:1}return t=a(e),n=r[t]=l[t](e),{c(){n.c(),s=b()},m(e,n){r[t].m(e,n),p(e,s,n),o=!0},p(e,[o]){let i=t;t=a(e),t===i?r[t].p(e,o):(F(),J(r[i],1,1,(()=>{r[i]=null})),X(),n=r[t],n?n.p(e,o):(n=r[t]=l[t](e),n.c()),Y(n,1),n.m(s.parentNode,s))},i(e){o||(Y(n),o=!0)},o(e){J(n),o=!1},d(e){r[t].d(e),e&&f(s)}}}function Pt(e,t,n){let{selOpc:s=(()=>{})}=t,{tasks:o=[]}=t;return P((()=>{ge.setScroll("tasks")})),e.$$set=e=>{"selOpc"in e&&n(0,s=e.selOpc),"tasks"in e&&n(1,o=e.tasks)},[s,o]}class qt extends ne{constructor(e){super(),te(this,e,Pt,St,l,{selOpc:0,tasks:1})}}function Tt(e,t,n){const s=e.slice();return s[19]=t[n],s}function It(t){let n,o,l,r,a,i,c,u,v,b,w,C,A,O,S,P,q,T,I,z,D,L,N,M,U,V,H,R,G,F=fe.get(t[0].id?"edit-task":"new-task")+"",X=fe.get(t[0].id?"save":"add")+"",Y=t[3],J=[];for(let e=0;e<Y.length;e+=1)J[e]=Dt(Tt(t,Y,e));return{c(){n=m("form"),o=m("h3"),o.textContent=`${t[5].name}`,l=h(),r=m("h4"),a=$(F),i=h(),c=m("input"),u=h(),v=m("textarea"),b=h(),w=m("select");for(let e=0;e<J.length;e+=1)J[e].c();C=h(),A=m("select"),O=m("option"),O.textContent=`${fe.get("select-priority")}`,S=m("option"),S.textContent=`${fe.get("low-priority")}`,P=m("option"),P.textContent=`${fe.get("medium-priority")}`,q=m("option"),q.textContent=`${fe.get("high-priority")}`,T=h(),I=m("h4"),I.textContent=`${fe.get("deadline")}:`,z=h(),D=m("input"),L=h(),N=m("br"),M=h(),U=m("div"),V=m("button"),H=$(X),y(r,"class","mb1"),c.required=!0,y(c,"type","text"),y(c,"class","input mb1"),y(c,"placeholder",fe.get("title")),y(v,"class","textarea mb2"),y(v,"rows","4"),y(v,"placeholder",fe.get("description")),y(w,"id","idUsers"),y(w,"class","select mb2"),w.required=!0,void 0===t[4].idUser&&B((()=>t[10].call(w))),O.__value="",O.value=O.__value,S.__value="baja",S.value=S.__value,P.__value="media",P.value=P.__value,q.__value="alta",q.value=q.__value,y(A,"class","select mb1"),A.required=!0,void 0===t[4].priority&&B((()=>t[11].call(A))),y(I,"class","mb1"),y(D,"type","date"),y(D,"clas","mb1"),y(V,"class","btn"),y(V,"type","submit"),y(U,"class","mt1"),y(n,"class","p1")},m(e,s){p(e,n,s),d(n,o),d(n,l),d(n,r),d(r,a),d(n,i),d(n,c),t[7](c),j(c,t[4].title),d(n,u),d(n,v),j(v,t[4].description),d(n,b),d(n,w);for(let e=0;e<J.length;e+=1)J[e].m(w,null);E(w,t[4].idUser),d(n,C),d(n,A),d(A,O),d(A,S),d(A,P),d(A,q),E(A,t[4].priority),d(n,T),d(n,I),d(n,z),d(n,D),j(D,t[4].date),d(n,L),d(n,N),d(n,M),d(n,U),d(U,V),d(V,H),R||(G=[k(c,"input",t[8]),k(v,"input",t[9]),k(w,"change",t[10]),k(A,"change",t[11]),k(D,"input",t[12]),k(n,"submit",x(t[6]))],R=!0)},p(e,t){if(1&t&&F!==(F=fe.get(e[0].id?"edit-task":"new-task")+"")&&_(a,F),24&t&&c.value!==e[4].title&&j(c,e[4].title),24&t&&j(v,e[4].description),8&t){let n;for(Y=e[3],n=0;n<Y.length;n+=1){const s=Tt(e,Y,n);J[n]?J[n].p(s,t):(J[n]=Dt(s),J[n].c(),J[n].m(w,null))}for(;n<J.length;n+=1)J[n].d(1);J.length=Y.length}24&t&&E(w,e[4].idUser),24&t&&E(A,e[4].priority),24&t&&j(D,e[4].date),1&t&&X!==(X=fe.get(e[0].id?"save":"add")+"")&&_(H,X)},i:e,o:e,d(e){e&&f(n),t[7](null),g(J,e),R=!1,s(G)}}}function zt(t){let n,s;return n=new ae({}),{c(){Q(n.$$.fragment)},m(e,t){W(n,e,t),s=!0},p:e,i(e){s||(Y(n.$$.fragment,e),s=!0)},o(e){J(n.$$.fragment,e),s=!1},d(e){Z(n,e)}}}function Dt(e){let t,n,s,o=e[19].value+"";return{c(){t=m("option"),n=$(o),t.__value=s=e[19].id,t.value=t.__value},m(e,s){p(e,t,s),d(t,n)},p(e,l){8&l&&o!==(o=e[19].value+"")&&_(n,o),8&l&&s!==(s=e[19].id)&&(t.__value=s,t.value=t.__value)},d(e){e&&f(t)}}}function Lt(e){let t,n,s,o;const l=[zt,It],r=[];function a(e,t){return e[1]?0:1}return t=a(e),n=r[t]=l[t](e),{c(){n.c(),s=b()},m(e,n){r[t].m(e,n),p(e,s,n),o=!0},p(e,[o]){let i=t;t=a(e),t===i?r[t].p(e,o):(F(),J(r[i],1,1,(()=>{r[i]=null})),X(),n=r[t],n?n.p(e,o):(n=r[t]=l[t](e),n.c()),Y(n,1),n.m(s.parentNode,s))},i(e){o||(Y(n),o=!0)},o(e){J(n),o=!1},d(e){r[t].d(e),e&&f(s)}}}function Nt(e,t,n){let{task:s={}}=t;const o=q();let l=!0,r=ce.get("project"),a=null,i=[],c={};const u=e=>{if(s&&s.labels){const t=s.labels.indexOf(e);return t>-1?s.labels[t]:void 0}};return P((()=>{ue.send("user/list-by-project",{id:r.id},(e=>{e.unshift({id:"",value:fe.get("assign-user")+"..."}),n(3,i=e),n(4,c=function(e){return n(4,c={date:(e.dueDate||"")+"",title:(e.title||"")+"",description:(e.description||"")+"",idProject:r.id,idUser:(e.assignee?e.assignee.id:"")||"",priority:u("alta")||u("media")||u("baja")||""}),c}(s)),n(1,l=!1)}))})),e.$$set=e=>{"task"in e&&n(0,s=e.task)},[s,l,a,i,c,r,function(){s.id,n(4,c.idProject=r.id,c),s.id?function(){if(-1===s.labels.indexOf(c.priority)){const e=[];for(const t in s.labels)-1===["alta","media","baja"].indexOf(s.labels[t])&&e.push(s.labels[t]);e.push(c.priority),n(4,c.labels=e,c)}n(4,c.id=s.id,c),n(4,c.idProject=r.id,c),ue.send("task/upd",c,(e=>{if(e&&e.id){const t=ve.get(),n=e.assignee.id===t.id?0:1;ce.get("tasks-"+n,[]);const s=ce.get("statistics");s&&s[e.idProject]&&(s[e.idProject]=void 0,ce.set("statistics",s)),ce.set("tasks-0",[]),ce.set("tasks-1",[]),o("EventAdded",{op:"upd",opc:"tasks_"+n})}else ue.send("onError",fe.key(e&&e.message||"err"))}))}():ue.send("task/add",c,(e=>{if(e&&e.id){const t=ve.get(),n=e.assignee.id===t.id?0:1,s=ce.get("tasks-"+n,[]),l=ce.get("statistics");l&&l[e.idProject]&&(l[e.idProject]=void 0,ce.set("statistics",l)),s.unshift(e),ce.set("tasks-"+n,s),ce.set("filter_state",0),ce.set("filter_priority",0),o("EventAdded",{op:"add",opc:"tasks_"+n})}else ue.send("onError",fe.key(e&&e.message||"err"))}))},function(e){I[e?"unshift":"push"]((()=>{a=e,n(2,a)}))},function(){c.title=this.value,n(4,c),n(3,i)},function(){c.description=this.value,n(4,c),n(3,i)},function(){c.idUser=A(this),n(4,c),n(3,i)},function(){c.priority=A(this),n(4,c),n(3,i)},function(){c.date=this.value,n(4,c),n(3,i)}]}class Bt extends ne{constructor(e){super(),te(this,e,Nt,Lt,l,{task:0})}}function Mt(t){let n,o,l,r,a,i,c,u,g,v,b,w,j,C,E,A,O,S,P,q,T,I,z,D,L,N,B=t[0].title+"",M=t[0].description+"",U=t[0].dueDate+"";return{c(){n=m("form"),o=m("h3"),o.textContent=`${t[1].name}`,l=h(),r=m("h4"),r.textContent=`${fe.get("delete-task")}`,a=h(),i=m("span"),c=$(B),u=h(),g=m("p"),v=$(M),b=h(),w=m("h4"),w.textContent=`${fe.get("deadline")}`,j=h(),C=m("span"),E=$(U),A=h(),O=m("br"),S=h(),P=m("h4"),P.textContent=`${fe.get("are-you-sure-you-want-to-delete")}`,q=h(),T=m("div"),I=m("input"),z=h(),D=m("button"),D.textContent=`${fe.get("remove")}`,y(r,"class","mb1"),y(i,"class","input mb1 svelte-i0wpt8"),y(g,"class","input mb1 svelte-i0wpt8"),y(w,"class","mb1"),y(C,"class","mb1 svelte-i0wpt8"),y(I,"class","btn"),y(I,"type","button"),I.value=fe.get("cancel"),y(D,"class","btn"),y(D,"type","submit"),y(T,"class","flex mt1"),y(n,"class","p1")},m(e,s){p(e,n,s),d(n,o),d(n,l),d(n,r),d(n,a),d(n,i),d(i,c),d(n,u),d(n,g),d(g,v),d(n,b),d(n,w),d(n,j),d(n,C),d(C,E),d(n,A),d(n,O),d(n,S),d(n,P),d(n,q),d(n,T),d(T,I),d(T,z),d(T,D),L||(N=[k(I,"click",t[3]),k(n,"submit",x(t[2]))],L=!0)},p(e,[t]){1&t&&B!==(B=e[0].title+"")&&_(c,B),1&t&&M!==(M=e[0].description+"")&&_(v,M),1&t&&U!==(U=e[0].dueDate+"")&&_(E,U)},i:e,o:e,d(e){e&&f(n),L=!1,s(N)}}}function Ut(e,t,n){let{task:s={}}=t;const o=q();let l=ce.get("project");return e.$$set=e=>{"task"in e&&n(0,s=e.task)},[s,l,function(){ue.send("task/del",s,(e=>{if(e&&e.id){const t=ce.get("filter_tasks",0);ce.get("tasks-"+t,[]);const n=ce.get("statistics");n&&n[e.idProject]&&(n[e.idProject]=void 0,ce.set("statistics",n)),ce.set("tasks-0",[]),ce.set("tasks-1",[]),o("EventDeleted",{op:"del",opc:"tasks_"+t})}else ue.send("onError",fe.key(e&&e.message||"err"))}))},function(){o("EventDeleted",{opc:"list"})}]}class Vt extends ne{constructor(e){super(),te(this,e,Ut,Mt,l,{task:0})}}function Ht(e,t,n){const s=e.slice();return s[5]=t[n],s[7]=n,s}function Rt(e){let t,n,s,o,l,r,a,i=e[5].title+"";function c(){return e[3](e[7])}return{c(){t=m("a"),n=m("i"),o=h(),l=$(i),y(n,"class",s=u(e[5].icon)+" svelte-njfrk6"),y(t,"class","item svelte-njfrk6"),y(t,"href","#option")},m(e,s){p(e,t,s),d(t,n),d(t,o),d(t,l),r||(a=k(t,"click",x(c)),r=!0)},p(t,o){e=t,1&o&&s!==(s=u(e[5].icon)+" svelte-njfrk6")&&y(n,"class",s),1&o&&i!==(i=e[5].title+"")&&_(l,i)},d(e){e&&f(t),r=!1,a()}}}function Gt(t){let n,s,o,l,r,a,i=t[0].options,c=[];for(let e=0;e<i.length;e+=1)c[e]=Rt(Ht(t,i,e));return{c(){n=m("div"),s=m("span"),o=m("i"),r=h(),a=m("div");for(let e=0;e<c.length;e+=1)c[e].c();y(o,"class",l=u(t[1].icon)+" svelte-njfrk6"),y(s,"class","dropbtn svelte-njfrk6"),y(a,"class","dropdown-content svelte-njfrk6"),y(n,"class","dropdown svelte-njfrk6")},m(e,t){p(e,n,t),d(n,s),d(s,o),d(n,r),d(n,a);for(let e=0;e<c.length;e+=1)c[e].m(a,null)},p(e,[t]){if(2&t&&l!==(l=u(e[1].icon)+" svelte-njfrk6")&&y(o,"class",l),5&t){let n;for(i=e[0].options,n=0;n<i.length;n+=1){const s=Ht(e,i,n);c[n]?c[n].p(s,t):(c[n]=Rt(s),c[n].c(),c[n].m(a,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=i.length}},i:e,o:e,d(e){e&&f(n),g(c,e)}}}function Ft(e,t,n){let{btn:s={options:[]}}=t;const o=q();let l={icon:""};const r=e=>{n(0,s.selectedIndex=e,s),n(1,l=s.options[s.selectedIndex]),o("SelectedOption",s)};P((()=>{n(1,l=s.options[s.selectedIndex])}));return e.$$set=e=>{"btn"in e&&n(0,s=e.btn)},[s,l,r,e=>{r(e)}]}class Xt extends ne{constructor(e){super(),te(this,e,Ft,Gt,l,{btn:0})}}function Yt(e,t,n){const s=e.slice();return s[9]=t[n],s}function Jt(e,t,n){const s=e.slice();return s[9]=t[n],s}function Kt(t){let n,s,o,l,r,a,i;function c(){return t[3](t[9])}return{c(){n=m("span"),s=m("i"),l=h(),y(s,"class",o=u(t[9].icon)+" svelte-1bknspx"),y(n,"class","btn svelte-1bknspx"),y(n,"title",r=t[9].title)},m(e,t){p(e,n,t),d(n,s),d(n,l),a||(i=k(n,"click",c),a=!0)},p(e,l){t=e,1&l&&o!==(o=u(t[9].icon)+" svelte-1bknspx")&&y(s,"class",o),1&l&&r!==(r=t[9].title)&&y(n,"title",r)},i:e,o:e,d(e){e&&f(n),a=!1,i()}}}function Qt(e){let t,n;return t=new Xt({props:{btn:e[9]}}),t.$on("SelectedOption",e[1]),{c(){Q(t.$$.fragment)},m(e,s){W(t,e,s),n=!0},p(e,n){const s={};1&n&&(s.btn=e[9]),t.$set(s)},i(e){n||(Y(t.$$.fragment,e),n=!0)},o(e){J(t.$$.fragment,e),n=!1},d(e){Z(t,e)}}}function Wt(e){let t,n,s,o;const l=[Qt,Kt],r=[];function a(e,t){return"dropdown"===e[9].type?0:"button"===e[9].type?1:-1}return~(t=a(e))&&(n=r[t]=l[t](e)),{c(){n&&n.c(),s=b()},m(e,n){~t&&r[t].m(e,n),p(e,s,n),o=!0},p(e,o){let i=t;t=a(e),t===i?~t&&r[t].p(e,o):(n&&(F(),J(r[i],1,1,(()=>{r[i]=null})),X()),~t?(n=r[t],n?n.p(e,o):(n=r[t]=l[t](e),n.c()),Y(n,1),n.m(s.parentNode,s)):n=null)},i(e){o||(Y(n),o=!0)},o(e){J(n),o=!1},d(e){~t&&r[t].d(e),e&&f(s)}}}function Zt(t){let n,s,o,l,r,a,i;function c(){return t[4](t[9])}return{c(){n=m("span"),s=m("i"),l=h(),y(s,"class",o=u(t[9].icon)+" svelte-1bknspx"),y(n,"class","btn svelte-1bknspx"),y(n,"title",r=t[9].title)},m(e,t){p(e,n,t),d(n,s),d(n,l),a||(i=k(n,"click",c),a=!0)},p(e,l){t=e,1&l&&o!==(o=u(t[9].icon)+" svelte-1bknspx")&&y(s,"class",o),1&l&&r!==(r=t[9].title)&&y(n,"title",r)},i:e,o:e,d(e){e&&f(n),a=!1,i()}}}function en(e){let t,n;return t=new Xt({props:{btn:e[9]}}),t.$on("EventSeletect",e[1]),{c(){Q(t.$$.fragment)},m(e,s){W(t,e,s),n=!0},p(e,n){const s={};1&n&&(s.btn=e[9]),t.$set(s)},i(e){n||(Y(t.$$.fragment,e),n=!0)},o(e){J(t.$$.fragment,e),n=!1},d(e){Z(t,e)}}}function tn(e){let t,n,s,o;const l=[en,Zt],r=[];function a(e,t){return"dropdown"===e[9].type?0:"button"===e[9].type?1:-1}return~(t=a(e))&&(n=r[t]=l[t](e)),{c(){n&&n.c(),s=b()},m(e,n){~t&&r[t].m(e,n),p(e,s,n),o=!0},p(e,o){let i=t;t=a(e),t===i?~t&&r[t].p(e,o):(n&&(F(),J(r[i],1,1,(()=>{r[i]=null})),X()),~t?(n=r[t],n?n.p(e,o):(n=r[t]=l[t](e),n.c()),Y(n,1),n.m(s.parentNode,s)):n=null)},i(e){o||(Y(n),o=!0)},o(e){J(n),o=!1},d(e){~t&&r[t].d(e),e&&f(s)}}}function nn(e){let t,n,s,o,l,r=e[0].left,a=[];for(let t=0;t<r.length;t+=1)a[t]=Wt(Jt(e,r,t));const i=e=>J(a[e],1,1,(()=>{a[e]=null}));let c=e[0].right,u=[];for(let t=0;t<c.length;t+=1)u[t]=tn(Yt(e,c,t));const v=e=>J(u[e],1,1,(()=>{u[e]=null}));return{c(){t=m("div"),n=m("div");for(let e=0;e<a.length;e+=1)a[e].c();s=h(),o=m("div");for(let e=0;e<u.length;e+=1)u[e].c();y(n,"class","box-left svelte-1bknspx"),y(o,"class","box-right svelte-1bknspx"),y(t,"class","box-nav svelte-1bknspx")},m(e,r){p(e,t,r),d(t,n);for(let e=0;e<a.length;e+=1)a[e].m(n,null);d(t,s),d(t,o);for(let e=0;e<u.length;e+=1)u[e].m(o,null);l=!0},p(e,[t]){if(3&t){let s;for(r=e[0].left,s=0;s<r.length;s+=1){const o=Jt(e,r,s);a[s]?(a[s].p(o,t),Y(a[s],1)):(a[s]=Wt(o),a[s].c(),Y(a[s],1),a[s].m(n,null))}for(F(),s=r.length;s<a.length;s+=1)i(s);X()}if(3&t){let n;for(c=e[0].right,n=0;n<c.length;n+=1){const s=Yt(e,c,n);u[n]?(u[n].p(s,t),Y(u[n],1)):(u[n]=tn(s),u[n].c(),Y(u[n],1),u[n].m(o,null))}for(F(),n=c.length;n<u.length;n+=1)v(n);X()}},i(e){if(!l){for(let e=0;e<r.length;e+=1)Y(a[e]);for(let e=0;e<c.length;e+=1)Y(u[e]);l=!0}},o(e){a=a.filter(Boolean);for(let e=0;e<a.length;e+=1)J(a[e]);u=u.filter(Boolean);for(let e=0;e<u.length;e+=1)J(u[e]);l=!1},d(e){e&&f(t),g(a,e),g(u,e)}}}function sn(e,t,n){let{btns:s=""}=t;const o=q();let l={left:{},right:{}};const r={Priority:{type:"dropdown",id:"priority",selectedIndex:ce.get("filter_priority",0),options:[{title:fe.get("all"),icon:"fas fa-square blue"},{title:fe.get("high-priority"),icon:"fas fa-square red"},{title:fe.get("medium-priority"),icon:"fas fa-square yellow"},{title:fe.get("low-priority"),icon:"fas fa-square green"}]},State:{type:"dropdown",id:"state",selectedIndex:ce.get("filter_state",0),options:[{title:fe.get("all"),icon:"far fa-square blue"},{title:fe.get("open"),icon:"far fa-square orange"},{title:fe.get("close"),icon:"far fa-check-square green"}]},Task:{type:"dropdown",id:"tasks",selectedIndex:ce.get("filter_tasks",0),options:[{title:fe.get("assigned"),icon:"far fa-user blue"},{title:fe.get("delegates"),icon:"fas fa-users orange"}]},Add:{type:"button",id:"add",title:fe.get("new-task"),icon:" fas fa-plus blue"},Back:{type:"button",id:"back",title:fe.get("back"),icon:" fas fa-reply blue"}},a=e=>{const t=[],n=e.split(",");for(const e in n)if(r[n[e]]){const s=r[n[e]];s.selectedIndex=ce.get("filter_"+s.id,0),t.push(r[n[e]])}return t},i=e=>{if("string"==typeof e){const t=e.split("/");n(0,l.left=t[0]?a(t[0]):[],l),n(0,l.right=t[0]?a(t[1]):[],l)}return l},c=e=>{e instanceof CustomEvent&&(e=e.detail.id+"_"+e.detail.selectedIndex),o("EventToolsBtns",{opc:e})};P((()=>{n(0,l=i(s))}));return e.$$set=e=>{"btns"in e&&n(2,s=e.btns)},e.$$.update=()=>{4&e.$$.dirty&&n(0,l=i(s))},[l,c,s,e=>c(e.id),e=>c(e.id)]}class on extends ne{constructor(e){super(),te(this,e,sn,nn,l,{btns:2})}}function ln(e){let t,n;return t=new Ye({props:{id:"Project",label:e[3]}}),t.$on("EventExpand",e[6]),t.$on("EventSelect",e[8]),{c(){Q(t.$$.fragment)},m(e,s){W(t,e,s),n=!0},p(e,n){const s={};8&n&&(s.label=e[3]),t.$set(s)},i(e){n||(Y(t.$$.fragment,e),n=!0)},o(e){J(t.$$.fragment,e),n=!1},d(e){Z(t,e)}}}function rn(e){let t,n;return t=new on({props:{btns:e[2]}}),t.$on("EventToolsBtns",e[7]),{c(){Q(t.$$.fragment)},m(e,s){W(t,e,s),n=!0},p(e,n){const s={};4&n&&(s.btns=e[2]),t.$set(s)},i(e){n||(Y(t.$$.fragment,e),n=!0)},o(e){J(t.$$.fragment,e),n=!1},d(e){Z(t,e)}}}function an(t){let n,s;return n=new ae({}),{c(){Q(n.$$.fragment)},m(e,t){W(n,e,t),s=!0},p:e,i(e){s||(Y(n.$$.fragment,e),s=!0)},o(e){J(n.$$.fragment,e),s=!1},d(e){Z(n,e)}}}function cn(e){let t,n;return t=new Vt({props:{task:e[0]}}),t.$on("EventDeleted",e[7]),{c(){Q(t.$$.fragment)},m(e,s){W(t,e,s),n=!0},p(e,n){const s={};1&n&&(s.task=e[0]),t.$set(s)},i(e){n||(Y(t.$$.fragment,e),n=!0)},o(e){J(t.$$.fragment,e),n=!1},d(e){Z(t,e)}}}function un(e){let t,n;return t=new Bt({props:{task:e[0]}}),t.$on("EventAdded",e[7]),{c(){Q(t.$$.fragment)},m(e,s){W(t,e,s),n=!0},p(e,n){const s={};1&n&&(s.task=e[0]),t.$set(s)},i(e){n||(Y(t.$$.fragment,e),n=!0)},o(e){J(t.$$.fragment,e),n=!1},d(e){Z(t,e)}}}function dn(e){let t,n;return t=new qt({props:{tasks:e[1],selOpc:e[9]}}),{c(){Q(t.$$.fragment)},m(e,s){W(t,e,s),n=!0},p(e,n){const s={};2&n&&(s.tasks=e[1]),t.$set(s)},i(e){n||(Y(t.$$.fragment,e),n=!0)},o(e){J(t.$$.fragment,e),n=!1},d(e){Z(t,e)}}}function pn(e){let t,n,s,o,l,r,a,i,c,g="new"!==e[4]&&ln(e),v="none"!==e[4]&&rn(e);const $=[dn,un,cn,an],b=[];function k(e,t){return"list"===e[4]?0:"new"===e[4]||"edit"===e[4]?1:"del"===e[4]?2:"load"===e[4]?3:-1}return~(r=k(e))&&(a=b[r]=$[r](e)),{c(){t=m("header"),g&&g.c(),n=h(),v&&v.c(),o=h(),l=m("main"),a&&a.c(),y(t,"class",s=u(e[5])+" svelte-ob3r67"),y(l,"class",i=u(e[5])+" svelte-ob3r67")},m(e,s){p(e,t,s),g&&g.m(t,null),d(t,n),v&&v.m(t,null),p(e,o,s),p(e,l,s),~r&&b[r].m(l,null),c=!0},p(e,[o]){"new"!==e[4]?g?(g.p(e,o),16&o&&Y(g,1)):(g=ln(e),g.c(),Y(g,1),g.m(t,n)):g&&(F(),J(g,1,1,(()=>{g=null})),X()),"none"!==e[4]?v?(v.p(e,o),16&o&&Y(v,1)):(v=rn(e),v.c(),Y(v,1),v.m(t,null)):v&&(F(),J(v,1,1,(()=>{v=null})),X()),(!c||32&o&&s!==(s=u(e[5])+" svelte-ob3r67"))&&y(t,"class",s);let d=r;r=k(e),r===d?~r&&b[r].p(e,o):(a&&(F(),J(b[d],1,1,(()=>{b[d]=null})),X()),~r?(a=b[r],a?a.p(e,o):(a=b[r]=$[r](e),a.c()),Y(a,1),a.m(l,null)):a=null),(!c||32&o&&i!==(i=u(e[5])+" svelte-ob3r67"))&&y(l,"class",i)},i(e){c||(Y(g),Y(v),Y(a),c=!0)},o(e){J(g),J(v),J(a),c=!1},d(e){e&&f(t),g&&g.d(),v&&v.d(),e&&f(o),e&&f(l),~r&&b[r].d()}}}function fn(e,t,n){let s={id:0,name:""},o={},l={},r="",a="",i="",c="",u={};const d=e=>{var t;n(3,a=(t=e).id?t.name:fe.get("select-project")),s=e,ce.set("project",s)},p=e=>{if("list"===e){if(!s.id)return n(4,i="none");n(2,r="Priority,State,Task/Add")}else"new"===e?(n(0,o={}),n(2,r="Back/")):n(2,r="edit"===e?"Back/":"");n(4,i=e),"function"==typeof u.set&&u.set(r)},f=(e,t)=>{ue.send("task/list-data-"+e,s,(n=>{ce.set("tasks-"+e,n),g(n,t)}))},g=(e,t)=>{e=(e=>{const t=[],n=ce.get("filter_priority",0);if(0===n)return e;for(const s in e)(1===n&&e[s].labels.indexOf("alta")>-1||2===n&&e[s].labels.indexOf("media")>-1||3===n&&e[s].labels.indexOf("baja")>-1)&&t.push(e[s]);return t})(e=(e=>{const t=[],n=ce.get("filter_state",0);if(0===n)return e;for(const s in e)(1===n&&"opened"===e[s].state||2===n&&"closed"===e[s].state)&&t.push(e[s]);return t})(e)),n(1,l=e),t("list")},m=e=>{const t=ce.get("filter_tasks",0);let n=ce.get("tasks-"+t,[]);n&&n.length?g(n,e):(p("load"),f(t,(()=>{e("list")})))},v=e=>{((e,t)=>{const n=e.split("_");n.length>1?(ce.set("filter_"+n[0],parseInt(n[1])),m(t)):t(e)})(e,(e=>{p("add"===e?"new":"back"===e?"list":e)}))};function $(e){for(const t in l)if(l[t].id===e)return l[t];return{}}return P((()=>{d(ce.get("project",s)),p("load"),f(ce.get("filter_tasks",0),(()=>{p("list")}))})),[o,l,r,a,i,c,e=>{n(5,c=e.detail?"expand":"")},e=>{const t=e.detail;"function"==typeof t.set&&(u=t,u.set(r)),t.op&&(t.op,m((()=>{}))),t.opc&&v(t.opc)},e=>{const t=e.detail;t.data?(d(t.data),p("load"),f(ce.get("filter_tasks",0),(()=>{p("list")}))):ue.send("project/search",{key:t.value},t.fun)},e=>{const t=e.split(":");"E"===t[0]?(n(0,o=$(parseInt(t[1]))),p("edit")):"D"===t[0]&&(n(0,o=$(parseInt(t[1]))),p("del"))}]}class gn extends ne{constructor(e){super(),te(this,e,fn,pn,l,{})}}function mn(e,t,n){const s=e.slice();return s[11]=t[n],s}function vn(e,t,n){const s=e.slice();return s[14]=t[n],s}function $n(e){let t,n,s,o,l,r,a,c,v,b,k,x,w,j,C,E,A,O,S,P,q,T,I,z,D,L,N,B,M,U,V,H,R,G,F,X,K,ee,te,ne,se,oe,le,re,ae,ie,ce,ue,de,pe,ge,me,ve,$e,he,be,ke,xe,ye,we,_e,je,Ce,Ee=e[2].title+"",Ae=e[2].author.username+"",Oe=e[2].project.name+"",Se=e[2].description+"",Pe=e[2].dueDate+"",qe=e[2].priority+"",Te=fe.get("comments")+"",Ie=e[2].comments+"",ze=e[2].assignee&&e[2].assignee.id!==e[2].author.id&&bn(e);se=new et({props:{value:e[2].progress,color:"cyan"}});let De=e[5].length&&kn(e),Le=e[4],Ne=[];for(let t=0;t<Le.length;t+=1)Ne[t]=yn(mn(e,Le,t));function Be(e,t){return e[1]?_n:"opened"===e[2].state?wn:void 0}let Me=Be(e),Ue=Me&&Me(e);return{c(){t=m("h2"),n=$(Ee),s=h(),o=m("div"),l=$(e[6]),a=h(),c=m("hr"),v=h(),b=m("div"),k=m("div"),x=m("div"),w=m("strong"),w.textContent=`${fe.get("author")}`,j=h(),C=m("img"),A=h(),O=m("div"),S=$(Ae),P=h(),ze&&ze.c(),q=h(),T=m("div"),I=m("strong"),I.textContent=`${fe.get("project")}:`,z=h(),D=m("p"),L=$(Oe),N=h(),B=m("strong"),B.textContent=`${fe.get("description")}:`,M=h(),U=m("p"),V=$(Se),H=h(),R=m("strong"),R.textContent=`${fe.get("deadline")}:`,G=h(),F=m("p"),X=$(Pe),K=h(),ee=m("strong"),ee.textContent=`${fe.get("progress-percentage")}:`,te=h(),ne=m("div"),Q(se.$$.fragment),oe=h(),le=m("strong"),le.textContent=`${fe.get("priority")}:`,re=h(),ae=m("div"),ie=m("div"),ce=$(qe),de=h(),De&&De.c(),pe=h(),ge=m("br"),me=h(),ve=m("hr"),$e=h(),he=m("div"),be=m("h2"),ke=$(Te),xe=$(" ("),ye=$(Ie),we=$(")"),_e=h();for(let e=0;e<Ne.length;e+=1)Ne[e].c();je=h(),Ue&&Ue.c(),y(t,"class","mb2"),y(o,"class",r=u(e[2].state)+" svelte-ic2537"),y(c,"class","svelte-ic2537"),y(w,"class","mb1"),i(C.src,E=e[2].author.avatar_url)||y(C,"src",E),y(C,"alt",""),y(C,"class","svelte-ic2537"),y(x,"class","text-center svelte-ic2537"),y(k,"class","user svelte-ic2537"),y(D,"class","input mb1 svelte-ic2537"),y(U,"class","input mb1 svelte-ic2537"),y(F,"class","input mb2 svelte-ic2537"),y(ne,"class","progress"),y(ie,"class",ue="tag "+e[2].priority+" svelte-ic2537"),y(ae,"class","mb2"),y(T,"class","task svelte-ic2537"),y(b,"class","flex mt1"),y(ve,"class","svelte-ic2537"),y(be,"class","mb3")},m(e,r){p(e,t,r),d(t,n),p(e,s,r),p(e,o,r),d(o,l),p(e,a,r),p(e,c,r),p(e,v,r),p(e,b,r),d(b,k),d(k,x),d(x,w),d(x,j),d(x,C),d(x,A),d(x,O),d(O,S),d(k,P),ze&&ze.m(k,null),d(b,q),d(b,T),d(T,I),d(T,z),d(T,D),d(D,L),d(T,N),d(T,B),d(T,M),d(T,U),d(U,V),d(T,H),d(T,R),d(T,G),d(T,F),d(F,X),d(T,K),d(T,ee),d(T,te),d(T,ne),W(se,ne,null),d(T,oe),d(T,le),d(T,re),d(T,ae),d(ae,ie),d(ie,ce),d(T,de),De&&De.m(T,null),d(T,pe),d(T,ge),p(e,me,r),p(e,ve,r),p(e,$e,r),p(e,he,r),d(he,be),d(be,ke),d(be,xe),d(be,ye),d(be,we),d(he,_e);for(let e=0;e<Ne.length;e+=1)Ne[e].m(he,null);d(he,je),Ue&&Ue.m(he,null),Ce=!0},p(e,t){(!Ce||4&t)&&Ee!==(Ee=e[2].title+"")&&_(n,Ee),(!Ce||64&t)&&_(l,e[6]),(!Ce||4&t&&r!==(r=u(e[2].state)+" svelte-ic2537"))&&y(o,"class",r),(!Ce||4&t&&!i(C.src,E=e[2].author.avatar_url))&&y(C,"src",E),(!Ce||4&t)&&Ae!==(Ae=e[2].author.username+"")&&_(S,Ae),e[2].assignee&&e[2].assignee.id!==e[2].author.id?ze?ze.p(e,t):(ze=bn(e),ze.c(),ze.m(k,null)):ze&&(ze.d(1),ze=null),(!Ce||4&t)&&Oe!==(Oe=e[2].project.name+"")&&_(L,Oe),(!Ce||4&t)&&Se!==(Se=e[2].description+"")&&_(V,Se),(!Ce||4&t)&&Pe!==(Pe=e[2].dueDate+"")&&_(X,Pe);const s={};if(4&t&&(s.value=e[2].progress),se.$set(s),(!Ce||4&t)&&qe!==(qe=e[2].priority+"")&&_(ce,qe),(!Ce||4&t&&ue!==(ue="tag "+e[2].priority+" svelte-ic2537"))&&y(ie,"class",ue),e[5].length?De?De.p(e,t):(De=kn(e),De.c(),De.m(T,pe)):De&&(De.d(1),De=null),(!Ce||4&t)&&Ie!==(Ie=e[2].comments+"")&&_(ye,Ie),16&t){let n;for(Le=e[4],n=0;n<Le.length;n+=1){const s=mn(e,Le,n);Ne[n]?Ne[n].p(s,t):(Ne[n]=yn(s),Ne[n].c(),Ne[n].m(he,je))}for(;n<Ne.length;n+=1)Ne[n].d(1);Ne.length=Le.length}Me===(Me=Be(e))&&Ue?Ue.p(e,t):(Ue&&Ue.d(1),Ue=Me&&Me(e),Ue&&(Ue.c(),Ue.m(he,null)))},i(e){Ce||(Y(se.$$.fragment,e),Ce=!0)},o(e){J(se.$$.fragment,e),Ce=!1},d(e){e&&f(t),e&&f(s),e&&f(o),e&&f(a),e&&f(c),e&&f(v),e&&f(b),ze&&ze.d(),Z(se),De&&De.d(),e&&f(me),e&&f(ve),e&&f($e),e&&f(he),g(Ne,e),Ue&&Ue.d()}}}function hn(t){let n,s;return n=new ae({}),{c(){Q(n.$$.fragment)},m(e,t){W(n,e,t),s=!0},p:e,i(e){s||(Y(n.$$.fragment,e),s=!0)},o(e){J(n.$$.fragment,e),s=!1},d(e){Z(n,e)}}}function bn(e){let t,n,s,o,l,r,a,c,u,g,v=e[2].assignee.username+"";return{c(){t=m("hr"),n=h(),s=m("div"),o=m("strong"),o.textContent=`${fe.get("assign")}`,l=h(),r=m("img"),c=h(),u=m("div"),g=$(v),y(t,"class","mt2 svelte-ic2537"),y(o,"class","mb1"),i(r.src,a=e[2].assignee.avatar_url)||y(r,"src",a),y(r,"alt",""),y(r,"class","svelte-ic2537"),y(s,"class","text-center mt2 svelte-ic2537")},m(e,a){p(e,t,a),p(e,n,a),p(e,s,a),d(s,o),d(s,l),d(s,r),d(s,c),d(s,u),d(u,g)},p(e,t){4&t&&!i(r.src,a=e[2].assignee.avatar_url)&&y(r,"src",a),4&t&&v!==(v=e[2].assignee.username+"")&&_(g,v)},d(e){e&&f(t),e&&f(n),e&&f(s)}}}function kn(e){let t,n,s,o=e[5],l=[];for(let t=0;t<o.length;t+=1)l[t]=xn(vn(e,o,t));return{c(){t=m("strong"),t.textContent=`${fe.get("logs")}:`,n=h(),s=m("ul");for(let e=0;e<l.length;e+=1)l[e].c();y(s,"class","ml3 fs-8px")},m(e,o){p(e,t,o),p(e,n,o),p(e,s,o);for(let e=0;e<l.length;e+=1)l[e].m(s,null)},p(e,t){if(32&t){let n;for(o=e[5],n=0;n<o.length;n+=1){const r=vn(e,o,n);l[n]?l[n].p(r,t):(l[n]=xn(r),l[n].c(),l[n].m(s,null))}for(;n<l.length;n+=1)l[n].d(1);l.length=o.length}},d(e){e&&f(t),e&&f(n),e&&f(s),g(l,e)}}}function xn(e){let t,n,s,o,l=e[14].createdAt+"",r=e[14].body+"";return{c(){t=m("li"),n=$(l),s=$(" - "),o=$(r),y(t,"class","fs8px")},m(e,l){p(e,t,l),d(t,n),d(t,s),d(t,o)},p(e,t){32&t&&l!==(l=e[14].createdAt+"")&&_(n,l),32&t&&r!==(r=e[14].body+"")&&_(o,r)},d(e){e&&f(t)}}}function yn(e){let t,n,s,o,l,r,a,c,u,g,v,b,k,x,w,j,C,E,A,O,S,P=e[11].author.username+"",q=e[11].createdAt+"",T=e[11].body+"";return{c(){t=m("div"),n=m("div"),s=m("div"),o=m("img"),r=h(),a=m("div"),c=$(P),u=h(),g=m("div"),v=m("strong"),v.textContent=`${fe.get("created-at")}:`,b=h(),k=m("div"),x=$(q),w=h(),j=m("strong"),j.textContent=`${fe.get("comment")}:`,C=h(),E=m("div"),A=$(T),O=h(),S=m("hr"),i(o.src,l=e[11].author.avatar_url)||y(o,"src",l),y(o,"alt",""),y(o,"class","svelte-ic2537"),y(s,"class","text-center svelte-ic2537"),y(n,"class","user svelte-ic2537"),y(k,"class","input svelte-ic2537"),y(E,"class","input svelte-ic2537"),y(g,"class","task svelte-ic2537"),y(t,"class","flex mb2"),y(S,"class","mb2 svelte-ic2537")},m(e,l){p(e,t,l),d(t,n),d(n,s),d(s,o),d(s,r),d(s,a),d(a,c),d(t,u),d(t,g),d(g,v),d(g,b),d(g,k),d(k,x),d(g,w),d(g,j),d(g,C),d(g,E),d(E,A),p(e,O,l),p(e,S,l)},p(e,t){16&t&&!i(o.src,l=e[11].author.avatar_url)&&y(o,"src",l),16&t&&P!==(P=e[11].author.username+"")&&_(c,P),16&t&&q!==(q=e[11].createdAt+"")&&_(x,q),16&t&&T!==(T=e[11].body+"")&&_(A,T)},d(e){e&&f(t),e&&f(O),e&&f(S)}}}function wn(e){let t,n,o,l,r,a,i,c,u,g,v;return{c(){t=m("form"),n=m("strong"),n.textContent=`${fe.get("new-comment")}:`,o=h(),l=m("textarea"),r=h(),a=m("div"),i=m("div"),c=h(),u=m("button"),u.textContent=`${fe.get("add")}`,l.required="required",y(l,"class","textarea mb2"),y(l,"rows","4"),y(l,"placeholder",fe.get("comment")),y(i,"class","spacer svelte-ic2537"),y(u,"class","btn"),y(u,"type","submit"),y(a,"class","flex mt1"),y(t,"class","p1")},m(s,f){p(s,t,f),d(t,n),d(t,o),d(t,l),j(l,e[3].body),d(t,r),d(t,a),d(a,i),d(a,c),d(a,u),g||(v=[k(l,"input",e[8]),k(t,"submit",x(e[7]))],g=!0)},p(e,t){8&t&&j(l,e[3].body)},d(e){e&&f(t),g=!1,s(v)}}}function _n(t){let n;return{c(){n=m("div"),y(n,"class","fas fa-spinner fa-spin fa-3x")},m(e,t){p(e,n,t)},p:e,d(e){e&&f(n)}}}function jn(e){let t,n,s,o;const l=[hn,$n],r=[];function a(e,t){return e[0]?0:1}return t=a(e),n=r[t]=l[t](e),{c(){n.c(),s=b()},m(e,n){r[t].m(e,n),p(e,s,n),o=!0},p(e,[o]){let i=t;t=a(e),t===i?r[t].p(e,o):(F(),J(r[i],1,1,(()=>{r[i]=null})),X(),n=r[t],n?n.p(e,o):(n=r[t]=l[t](e),n.c()),Y(n,1),n.m(s.parentNode,s))},i(e){o||(Y(n),o=!0)},o(e){J(n),o=!1},d(e){r[t].d(e),e&&f(s)}}}function Cn(e,t,n){let s=!0,o=!1,l={},r={body:"",idIssue:0,idProject:0},a=[],i=[],c="";return P((()=>{ce.get("user"),setTimeout((()=>n(0,s=!1)),5e3),ue.send("task/load",(e=>{e.id?ce.set("task",e):e=ce.get("task",{}),n(2,l=e),"closed"===l.state?n(6,c=fe.get("closed-at")+"  "+l.closedAt):n(6,c=fe.get("opened")+" - "+fe.get("updated-at")+" "+l.updatedAt),ue.send("comments/load",{idProject:l.project.id,id:l.id},(e=>{n(4,a=e.comments),n(5,i=e.notes),n(0,s=!1)}))}))})),[s,o,l,r,a,i,c,function(){n(3,r.idProject=l.idProject,r),n(3,r.idIssue=l.id,r),n(1,o=!0),ue.send("comments/add",r,(e=>{n(1,o=!1),n(2,l.comments++,l);const t=a.concat([e]);n(4,a=t),n(3,r={})}))},function(){r.body=this.value,n(3,r)}]}class En extends ne{constructor(e){super(),te(this,e,Cn,jn,l,{})}}function An(t){let n,s,o,l,r,a,i,c,u,g,v,$,b,k,x;return{c(){n=m("div"),s=m("span"),o=h(),l=m("div"),r=m("strong"),r.textContent=`${fe.get("unknown-problem-occurred")}`,a=h(),i=m("div"),c=m("div"),c.textContent=`${fe.get("alternatives")}:`,u=h(),g=m("ul"),v=m("li"),v.textContent=`• ${fe.get("please-refresh")}`,$=h(),b=m("li"),b.textContent=`• ${fe.get("close-and-open")}`,k=h(),x=m("li"),x.textContent=`• ${fe.get("sign-out-and-sign")}`,y(s,"class","dizzy svelte-1c830rm"),y(i,"class","opts mt2 svelte-1c830rm")},m(e,t){p(e,n,t),d(n,s),d(n,o),d(n,l),d(l,r),d(n,a),d(n,i),d(i,c),d(i,u),d(i,g),d(g,v),d(g,$),d(g,b),d(g,k),d(g,x)},p:e,i:e,o:e,d(e){e&&f(n)}}}class On extends ne{constructor(e){super(),te(this,e,null,An,l,{})}}const{window:Sn}=K;function Pn(e){let t,n,o,l,r,a,i=!1,c=()=>{i=!1};B(e[3]);var u=e[1];return u&&(o=new u({})),{c(){n=m("div"),o&&Q(o.$$.fragment),y(n,"class","anemona-app svelte-whzz5u")},m(s,u){p(s,n,u),o&&W(o,n,null),l=!0,r||(a=[k(Sn,"scroll",e[2]),k(Sn,"scroll",(()=>{i=!0,clearTimeout(t),t=setTimeout(c,100),e[3]()}))],r=!0)},p(e,[s]){if(1&s&&!i&&(i=!0,clearTimeout(t),scrollTo(Sn.pageXOffset,e[0]),t=setTimeout(c,100)),u!==(u=e[1])){if(o){F();const e=o;J(e.$$.fragment,1,0,(()=>{Z(e,1)})),X()}u?(o=new u({}),Q(o.$$.fragment),Y(o.$$.fragment,1),W(o,n,null)):o=null}},i(e){l||(o&&Y(o.$$.fragment,e),l=!0)},o(e){o&&J(o.$$.fragment,e),l=!1},d(e){e&&f(n),o&&Z(o),r=!1,s(a)}}}function qn(e,t,n){let s="sidebar",o=0,l=ae,r="spinner",a={"web-task":En},i={tasks:gn,dash:pt,login:xe,logout:_e};const c=e=>{n(1,l=e)},u=(e,t)=>{c(ae),r=e.shift();let n={};if(n="web-task"===s?a:i,r)return r.indexOf("list-data")>-1&&(r="tasks"),n[r]&&"closed"!==r?(ge.set(r),c(n[r])):c(On);c(On)},d=()=>{c(ae),ve.auth(s)},p=e=>{"refresh"!==e||ce.set("statistics",void 0)};return P((()=>{s=document.body.id,ge.addEventListener((e=>u([e]))),ce.addEventListener((e=>p(e))),window.addEventListener("message",(async e=>{const t=e.data||{};if(ue.call(t))return;const n=t.cmd.split("/");switch(n.shift()){case"reloads":return ue.send("reloads"),d();case"reload":return d();case"lang":return fe.load(t.dat);case"loading":return c(ae)}u(n)})),d()})),[o,l,function(){n(0,o=o||ce.get("scroll_"+r,.01)),ce.set("scroll_"+r,o)},function(){n(0,o=Sn.pageYOffset)}]}return new class extends ne{constructor(e){super(),te(this,e,qn,Pn,l,{})}}({target:document.body})}();
