var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function s(t){t.forEach(e)}function o(t){return"function"==typeof t}function l(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}let a,r;function i(t,e){return a||(a=document.createElement("a")),a.href=e,t===a.href}function c(t,e,n,s){return t[1]&&s?function(t,e){for(const n in e)t[n]=e[n];return t}(n.ctx.slice(),t[1](s(e))):n.ctx}function u(t){return null==t?"":t}function d(t,e){t.appendChild(e)}function p(t,e,n){t.insertBefore(e,n||null)}function f(t){t.parentNode.removeChild(t)}function g(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function m(t){return document.createElement(t)}function v(t){return document.createElementNS("http://www.w3.org/2000/svg",t)}function $(t){return document.createTextNode(t)}function h(){return $(" ")}function b(){return $("")}function k(t,e,n,s){return t.addEventListener(e,n,s),()=>t.removeEventListener(e,n,s)}function x(t){return function(e){return e.preventDefault(),t.call(this,e)}}function y(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function _(t,e,n){e in t?t[e]="boolean"==typeof t[e]&&""===n||n:y(t,e,n)}function w(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function j(t,e){t.value=null==e?"":e}function E(t,e,n,s){null===n?t.style.removeProperty(e):t.style.setProperty(e,n,s?"important":"")}function S(t,e){for(let n=0;n<t.options.length;n+=1){const s=t.options[n];if(s.__value===e)return void(s.selected=!0)}t.selectedIndex=-1}function O(t){const e=t.querySelector(":checked")||t.options[0];return e&&e.__value}function C(t){r=t}function A(){if(!r)throw new Error("Function called outside component initialization");return r}function T(t){A().$$.on_mount.push(t)}function q(){const t=A();return(e,n,{cancelable:s=!1}={})=>{const o=t.$$.callbacks[e];if(o){const l=function(t,e,{bubbles:n=!1,cancelable:s=!1}={}){const o=document.createEvent("CustomEvent");return o.initCustomEvent(t,n,s,e),o}(e,n,{cancelable:s});return o.slice().forEach((e=>{e.call(t,l)})),!l.defaultPrevented}return!0}}const P=[],D=[],I=[],z=[],L=Promise.resolve();let N=!1;function B(t){I.push(t)}const M=new Set;let U=0;function H(){const t=r;do{for(;U<P.length;){const t=P[U];U++,C(t),G(t.$$)}for(C(null),P.length=0,U=0;D.length;)D.pop()();for(let t=0;t<I.length;t+=1){const e=I[t];M.has(e)||(M.add(e),e())}I.length=0}while(P.length);for(;z.length;)z.pop()();N=!1,M.clear(),C(t)}function G(t){if(null!==t.fragment){t.update(),s(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(B)}}const F=new Set;let R;function K(){R={r:0,c:[],p:R}}function V(){R.r||s(R.c),R=R.p}function X(t,e){t&&t.i&&(F.delete(t),t.i(e))}function Y(t,e,n,s){if(t&&t.o){if(F.has(t))return;F.add(t),R.c.push((()=>{F.delete(t),s&&(n&&t.d(1),s())})),t.o(e)}}const J="undefined"!=typeof window?window:"undefined"!=typeof globalThis?globalThis:global;function Q(t){t&&t.c()}function W(t,n,l,a){const{fragment:r,on_mount:i,on_destroy:c,after_update:u}=t.$$;r&&r.m(n,l),a||B((()=>{const n=i.map(e).filter(o);c?c.push(...n):s(n),t.$$.on_mount=[]})),u.forEach(B)}function Z(t,e){const n=t.$$;null!==n.fragment&&(s(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function tt(t,e){-1===t.$$.dirty[0]&&(P.push(t),N||(N=!0,L.then(H)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function et(e,o,l,a,i,c,u,d=[-1]){const p=r;C(e);const g=e.$$={fragment:null,ctx:null,props:c,update:t,not_equal:i,bound:n(),on_mount:[],on_destroy:[],on_disconnect:[],before_update:[],after_update:[],context:new Map(o.context||(p?p.$$.context:[])),callbacks:n(),dirty:d,skip_bound:!1,root:o.target||p.$$.root};u&&u(g.root);let m=!1;if(g.ctx=l?l(e,o.props||{},((t,n,...s)=>{const o=s.length?s[0]:n;return g.ctx&&i(g.ctx[t],g.ctx[t]=o)&&(!g.skip_bound&&g.bound[t]&&g.bound[t](o),m&&tt(e,t)),n})):[],g.update(),m=!0,s(g.before_update),g.fragment=!!a&&a(g.ctx),o.target){if(o.hydrate){const t=function(t){return Array.from(t.childNodes)}(o.target);g.fragment&&g.fragment.l(t),t.forEach(f)}else g.fragment&&g.fragment.c();o.intro&&X(e.$$.fragment),W(e,o.target,o.anchor,o.customElement),H()}C(p)}class nt{$destroy(){Z(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function st(e){let n,s;return{c(){n=v("svg"),s=v("circle"),y(s,"class","path svelte-10a1n9q"),y(s,"cx","25"),y(s,"cy","25"),y(s,"r","20"),y(s,"fill","none"),y(s,"stroke-width",lt),y(n,"class","spinner svelte-10a1n9q"),y(n,"viewBox","0 0 50 50"),y(n,"width",ot),y(n,"height",ot),E(n,"--speed",at+"ms")},m(t,e){p(t,n,e),d(n,s)},p:t,i:t,o:t,d(t){t&&f(n)}}}let ot=50,lt=3,at=2e3;class rt extends nt{constructor(t){super(),et(this,t,null,st,l,{})}}var it={"personal-access-tokens":"Token de Acceso Personal","gitlab-host":"Servidor control de versiones GitLab","log-in":"Iniciar session","show-token":"Ver token","api-services":"Api para acciones de administrador (opcional)",connect:"Conectar","select-project":"Selecciona un proyecto",pending:"Pendientes",solved:"Resueltas","high-priority":"Prioridad Alta","medium-priority":"Prioridad Media","low-priority":"Prioridad Baja",loading:"Cargando","select-option":"Selecciona un opción",search:"Buscar",all:"Todas",open:"Abiertas",close:"Cerradas",assigned:"Asignadas",delegates:"Delegadas","new-task":"Agregar una nueva tarea",back:"Regresar","assign-user":"Asignar un usuario","edit-task":"Editar tarea (Incidencia)",title:"Título",description:"Descripción","select-priority":"Selecciona una opción",deadline:"Fecha de entrega",add:"Agregar",save:"Guardar","delete-task":"Eliminar tarea (incidencia)","are-you-sure-you-want-to-delete":"¿Está seguro de que desea eliminar esta tarea (incidencia)?",cancel:"Cancelar",remove:"Eliminar","are-you-sure-you-want-to-log-out":"¿Estás seguro de que quieres cerrar sesión?",disconnect:"Desconectar","403forbidden":"403 Prohibido",err:"An error occurred, please try again later","no-tasks-assigned":"No hay tareas asignadas para este proyecto","no-tasks-delegated":"No hay tareas delegadas para este proyecto"},ct={"personal-access-tokens":"Personal Access Tokens","gitlab-host":"GitLab version control server","log-in":"Log in","show-token":"Show Token","api-services":"API for admin actions (optional)",connect:"Connect","select-project":"Select a project",pending:"Pending tasks",solved:"Solved tasks","high-priority":"High priority","medium-priority":"Medium priority","low-priority":"Low priority",loading:"Loading","select-option":"Select an option",search:"Search",all:"All",open:"Open",close:"Closed",assigned:"Assigned",delegates:"Delegates","new-task":"New task (Issue)",back:"Go back","assign-user":"Assign to user","edit-task":"Edit Task (Issue)",title:"Title",description:"Description","select-priority":"Select a priority",deadline:"Deadline",add:"Add",save:"Save","delete-task":"Delete Task (Issue)","are-you-sure-you-want-to-delete":"Are you sure you want to delete this task (issue)?",cancel:"Cancel",remove:"Remove","are-you-sure-you-want-to-log-out":"Are you sure you want to log out?",disconnect:"Disconnect","403forbidden":"403 Forbidden",err:"An error occurred, please try again later","no-tasks-assigned":"There are no assigned tasks for this project","no-tasks-delegated":"There are no delegated tasks for this project"};const ut=acquireVsCodeApi();class dt{static addEventListener(t){dt.funcEvent=t}static run(t){dt.funcEvent(t,"exec")}static drop(){dt.rd={},ut.setState(dt.rd)}static get(t){return console.log("STATE::",t,dt.rd),dt.rd[t]?dt.rd[t]:(dt.rd=ut.getState(),dt.rd[t]?dt.rd[t]:null)}static set(t,e){dt.rd[t]=e,ut.setState(dt.rd)}static dispatch(t,e){if(console.log("dispatch interactive..."),t)return e(!0);window.setTimeout((()=>{"function"==typeof e&&e((t=>{dt.dispatch(t,e)}))}),100)}}dt.rd={},dt.funcEvent=(t,e)=>{};class pt{static clean(){dt.set("page",[])}static setScroll(t,e=0){window.setTimeout((()=>{window.scrollTo(0,dt.get("scroll_"+t)||0)}),e)}static addEventListener(t){pt.funcEvent=t}static back(){const t=pt.get()||"dash";pt.funcEvent(t,"back")}static put(t){pt.funcEvent(t,"put")}static set(t){const e=dt.get("page")||[];e.length&&e[e.length-1]===t||(e.push(t),e.length>9&&e.shift(),dt.set("page",e))}static get(){let t=dt.get("page")||[],e=null;return t.pop()&&(e=t.pop()),dt.set("page",t),e}static last(){let t=dt.get("page")||[],e=t.pop();return dt.set("page",t),e}}pt.funcEvent=(t,e)=>{};class ft{static call(t){return!(!t||!t.cmd||"function"!=typeof ft.db[t.cmd])&&(ft.db[t.cmd](t.dat||null),ft.db[t.cmd]=void 0,!0)}static send(t,e=null,n=null){"function"==typeof e&&(n=e,e={});const s=e||{};return"function"==typeof n&&(ft.db[t]=n),ut.postMessage({command:t,content:s})}}ft.db={};class gt{static key(t){const e=t.toLowerCase().replace(/[^a-z0-9-]/g,"");return gt.get(e)||t}static load(t){"es"===t?gt.rd=it:"en"===t&&(gt.rd=ct),gt.id=t}static get(t){return gt.rd||(gt.rd="es"===gt.id?it:ct),gt.rd[t]||""}}function mt(e){let n,o,l,a,r,i,c,u,g,v,$,b,_,w,E,S,O,C,A,T,q,P,D,I,z,L;return{c(){n=m("h3"),n.textContent=`${gt.get("log-in")}`,o=h(),l=m("form"),a=m("div"),r=m("label"),r.textContent=`${gt.get("gitlab-host")}`,i=h(),c=m("input"),u=h(),g=m("div"),v=m("label"),v.textContent=`${gt.get("personal-access-tokens")}`,$=h(),b=m("input"),_=h(),w=m("div"),E=m("input"),S=h(),O=m("label"),O.textContent=`${gt.get("show-token")}`,C=h(),A=m("div"),T=m("label"),T.textContent=`${gt.get("api-services")}`,q=h(),P=m("input"),D=h(),I=m("button"),I.textContent=`${gt.get("connect")}`,y(n,"class","pb1"),y(r,"for","apiHost"),y(c,"type","url"),c.required=!0,y(v,"for","privateToken"),y(b,"type","password"),b.required=!0,y(E,"type","checkbox"),y(E,"id","showprivateToken"),y(O,"for","showprivateToken"),y(T,"for","apiHost"),y(P,"type","url"),y(P,"id","apiHost"),y(A,"class","mt2"),y(I,"type","submit")},m(t,s){p(t,n,s),p(t,o,s),p(t,l,s),d(l,a),d(a,r),d(a,i),d(a,c),e[4](c),j(c,e[0].host),d(l,u),d(l,g),d(g,v),d(g,$),d(g,b),e[6](b),j(b,e[0].token),d(l,_),d(l,w),d(w,E),d(w,S),d(w,O),d(w,C),d(w,A),d(A,T),d(A,q),d(A,P),j(P,e[0].service),d(l,D),d(l,I),z||(L=[k(c,"input",e[5]),k(b,"input",e[7]),k(E,"change",e[3]),k(P,"input",e[8]),k(l,"submit",x(e[2]))],z=!0)},p(t,[e]){1&e&&j(c,t[0].host),1&e&&b.value!==t[0].token&&j(b,t[0].token),1&e&&j(P,t[0].service)},i:t,o:t,d(t){t&&f(n),t&&f(o),t&&f(l),e[4](null),e[6](null),z=!1,s(L)}}}function vt(t,e,n){const s={host:"",token:"",service:""},o={host:null,token:null};return T((()=>{dt.drop(),o.host.focus()})),[s,o,()=>ft.send("session/login",s,(t=>{t&&t.id&&(dt.set("user",t),dt.set("page",[]),pt.put("dash"))})),t=>{o.token.setAttribute("type",t.target.checked?"text":"password")},function(t){D[t?"unshift":"push"]((()=>{o.host=t,n(1,o)}))},function(){s.host=this.value,n(0,s)},function(t){D[t?"unshift":"push"]((()=>{o.token=t,n(1,o)}))},function(){s.token=this.value,n(0,s)},function(){s.service=this.value,n(0,s)}]}gt.id="en",gt.rd=null;class $t extends nt{constructor(t){super(),et(this,t,vt,mt,l,{})}}function ht(e){let n,o,l,a,r,i,c,u,g,v,$,b,x;return{c(){n=m("div"),o=m("h3"),o.textContent=`${gt.get("are-you-sure-you-want-to-log-out")}`,l=h(),a=m("div"),r=m("div"),i=m("input"),c=h(),u=m("div"),g=m("button"),g.textContent=`${gt.get("disconnect")}`,v=h(),$=m("div"),y(o,"class","p2"),y(i,"type","button"),y(i,"class","btn svelte-1br32mt"),i.value=gt.get("cancel"),y(r,"class","col col-6 center"),y(g,"type","button"),y(g,"class","svelte-1br32mt"),y(u,"class","col col-6 center"),y(a,"class","clearfix"),y(n,"class","box-content svelte-1br32mt")},m(t,s){p(t,n,s),d(n,o),d(n,l),d(n,a),d(a,r),d(r,i),d(a,c),d(a,u),d(u,g),d(n,v),d(n,$),b||(x=[k(i,"click",e[0]),k(g,"click",e[1])],b=!0)},p:t,i:t,o:t,d(t){t&&f(n),b=!1,s(x)}}}function bt(t){return[()=>pt.back(),()=>ft.send("session/drop",(()=>{pt.put("login")}))]}class kt extends nt{constructor(t){super(),et(this,t,bt,ht,l,{})}}function xt(t){let e,n,s,o;return{c(){e=m("span"),n=$(t[0]),y(e,"class","svelte-ak7jq7")},m(l,a){p(l,e,a),d(e,n),s||(o=k(e,"click",t[4]),s=!0)},p(t,e){1&e&&w(n,t[0])},d(t){t&&f(e),s=!1,o()}}}function yt(t){let e,n,o,l,a,r,i,c,g,v,$;return{c(){e=m("div"),n=m("input"),o=h(),l=m("button"),a=m("i"),r=h(),i=m("button"),c=m("i"),n.disabled=t[3],y(n,"type","text"),y(n,"class","svelte-ak7jq7"),y(a,"class","fas fa-xmark"),l.disabled=t[3],y(l,"class","btn-cancel svelte-ak7jq7"),y(l,"type","button"),y(c,"class",g=u(t[2])+" svelte-ak7jq7"),i.disabled=t[3],y(i,"type","button"),y(i,"class","svelte-ak7jq7"),y(e,"class","item-group svelte-ak7jq7")},m(s,u){p(s,e,u),d(e,n),j(n,t[0]),d(e,o),d(e,l),d(l,a),d(e,r),d(e,i),d(i,c),v||($=[k(n,"input",t[8]),k(l,"click",t[9]),k(i,"click",t[5])],v=!0)},p(t,e){8&e&&(n.disabled=t[3]),1&e&&n.value!==t[0]&&j(n,t[0]),8&e&&(l.disabled=t[3]),4&e&&g!==(g=u(t[2])+" svelte-ak7jq7")&&y(c,"class",g),8&e&&(i.disabled=t[3])},d(t){t&&f(e),v=!1,s($)}}}function _t(e){let n;function s(t,e){return!0===t[1]?yt:xt}let o=s(e),l=o(e);return{c(){n=m("div"),l.c()},m(t,e){p(t,n,e),l.m(n,null)},p(t,[e]){o===(o=s(t))&&l?l.p(t,e):(l.d(1),l=o(t),l&&(l.c(),l.m(n,null)))},i:t,o:t,d(t){t&&f(n),l.d()}}}function wt(t,e,n){let{id:s=""}=e,{text:o=""}=e,{onSave:l=(t=>{})}=e,a=o,r=!1,i="fas fa-edit",c=!1;function u(){n(1,r=!r)}return t.$$set=t=>{"id"in t&&n(6,s=t.id),"text"in t&&n(0,o=t.text),"onSave"in t&&n(7,l=t.onSave)},[o,r,i,c,u,function(){n(3,c=!0),n(2,i="fas fa-spinner fa-spin"),l(s,o,(t=>{n(3,c=!1),n(2,i="fas fa-edit"),void 0!==t?(a=t,n(0,o=t)):n(0,o=a),u()}))},s,l,function(){o=this.value,n(0,o)},()=>{u()}]}class jt extends nt{constructor(t){super(),et(this,t,wt,_t,l,{id:6,text:0,onSave:7})}}const Et=t=>({}),St=t=>({});function Ot(t){let e,n;const s=t[1].content,o=function(t,e,n,s){if(t){const o=c(t,e,n,s);return t[0](o)}}(s,t,t[0],St);return{c(){e=m("div"),o&&o.c(),y(e,"class","card mb1 svelte-aq82fr")},m(t,s){p(t,e,s),o&&o.m(e,null),n=!0},p(t,[e]){o&&o.p&&(!n||1&e)&&function(t,e,n,s,o,l){if(o){const a=c(e,n,s,l);t.p(a,o)}}(o,s,t,t[0],n?function(t,e,n,s){if(t[2]&&s){const o=t[2](s(n));if(void 0===e.dirty)return o;if("object"==typeof o){const t=[],n=Math.max(e.dirty.length,o.length);for(let s=0;s<n;s+=1)t[s]=e.dirty[s]|o[s];return t}return e.dirty|o}return e.dirty}(s,t[0],e,Et):function(t){if(t.ctx.length>32){const e=[],n=t.ctx.length/32;for(let t=0;t<n;t++)e[t]=-1;return e}return-1}(t[0]),St)},i(t){n||(X(o,t),n=!0)},o(t){Y(o,t),n=!1},d(t){t&&f(e),o&&o.d(t)}}}function Ct(t,e,n){let{$$slots:s={},$$scope:o}=e;return t.$$set=t=>{"$$scope"in t&&n(0,o=t.$$scope)},[o,s]}class At extends nt{constructor(t){super(),et(this,t,Ct,Ot,l,{})}}function Tt(e){let n,s,o=e[0].name+"";return{c(){n=m("div"),s=$(o)},m(t,e){p(t,n,e),d(n,s)},p(t,e){1&e&&o!==(o=t[0].name+"")&&w(s,o)},i:t,o:t,d(t){t&&f(n)}}}function qt(t){let e,n;return e=new jt({props:{id:"name",text:t[0].name,onSave:t[1]}}),{c(){Q(e.$$.fragment)},m(t,s){W(e,t,s),n=!0},p(t,n){const s={};1&n&&(s.text=t[0].name),e.$set(s)},i(t){n||(X(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function Pt(t){let e;return{c(){e=m("span"),e.textContent="admin",y(e,"class","svelte-10it582")},m(t,n){p(t,e,n)},d(t){t&&f(e)}}}function Dt(t){let e,n,s,o,l,a,r,c,u,g,v,b,x,_,j,E,S,O=t[0].username+"",C=t[0].email+"";const A=[qt,Tt],T=[];function q(t,e){return t[0].allow?0:1}g=q(t),v=T[g]=A[g](t);let P=t[0].isAdmin&&Pt();return{c(){e=m("div"),n=m("div"),s=m("img"),l=h(),a=m("h2"),r=$(O),c=h(),u=m("p"),v.c(),b=h(),x=$(C),_=h(),P&&P.c(),i(s.src,o=t[0].avatarUrl)||y(s,"src",o),y(s,"alt",""),y(s,"class","profile svelte-10it582"),y(n,"class","cover-photo svelte-10it582"),y(a,"class","svelte-10it582"),y(u,"class","svelte-10it582"),y(e,"slot","content")},m(o,i){p(o,e,i),d(e,n),d(n,s),d(e,l),d(e,a),d(a,r),d(e,c),d(e,u),T[g].m(u,null),d(u,b),d(u,x),d(e,_),P&&P.m(e,null),j=!0,E||(S=k(s,"click",t[2]),E=!0)},p(t,n){(!j||1&n&&!i(s.src,o=t[0].avatarUrl))&&y(s,"src",o),(!j||1&n)&&O!==(O=t[0].username+"")&&w(r,O);let l=g;g=q(t),g===l?T[g].p(t,n):(K(),Y(T[l],1,1,(()=>{T[l]=null})),V(),v=T[g],v?v.p(t,n):(v=T[g]=A[g](t),v.c()),X(v,1),v.m(u,b)),(!j||1&n)&&C!==(C=t[0].email+"")&&w(x,C),t[0].isAdmin?P||(P=Pt(),P.c(),P.m(e,null)):P&&(P.d(1),P=null)},i(t){j||(X(v),j=!0)},o(t){Y(v),j=!1},d(t){t&&f(e),T[g].d(),P&&P.d(),E=!1,S()}}}function It(t){let e,n;return e=new At({props:{$$slots:{content:[Dt]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment)},m(t,s){W(e,t,s),n=!0},p(t,[n]){const s={};9&n&&(s.$$scope={dirty:n,ctx:t}),e.$set(s)},i(t){n||(X(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function zt(t,e,n){let{user:s={}}=e;return t.$$set=t=>{"user"in t&&n(0,s=t.user)},[s,(t,e,o)=>{n(0,s.name=e,s);const l={};l[t]=e,console.log("user Edit",l),ft.send("user/edit",{user:l},(t=>{console.log("user result: ",t),t&&t.id&&(n(0,s=t),dt.set("user",s)),"function"==typeof o&&o(t&&t.name?t.name:void 0)}))},()=>{s.allow&&ft.send("user/avatar",(t=>{console.log("user change avatar",t),t.avatarUrl&&(n(0,s=t),dt.set("user",s),n(0,s.avatarUrl=t.avatarUrl+"?"+Math.random(),s))}))}]}class Lt extends nt{constructor(t){super(),et(this,t,zt,It,l,{user:0})}}function Nt(t,e,n){const s=t.slice();return s[20]=e[n],s}function Bt(t){let e,n,s,o;return{c(){e=m("button"),n=$(t[0]),y(e,"class","mb1")},m(l,a){p(l,e,a),d(e,n),s||(o=k(e,"click",t[8]),s=!0)},p(t,e){1&e&&w(n,t[0])},d(t){t&&f(e),s=!1,o()}}}function Mt(t){let e,n,o,l,a,r,i,c,v,b,x,_,E,O,C,A,T,q,P,D,I,z,L,N=t[5],M=[];for(let e=0;e<N.length;e+=1)M[e]=Ut(Nt(t,N,e));return{c(){e=m("div"),n=m("div"),o=m("h3"),l=$(t[0]),a=h(),r=m("div"),i=m("button"),c=m("i"),v=h(),b=m("div"),x=m("input"),_=h(),E=m("button"),O=m("i"),C=h(),A=m("button"),T=m("i"),P=h(),D=m("div"),I=m("select");for(let t=0;t<M.length;t+=1)M[t].c();y(o,"class","svelte-1jrx3uc"),y(n,"class","left"),y(c,"class","fas fa-xmark"),i.disabled=t[3],y(i,"class","btn btn-cancel svelte-1jrx3uc"),y(r,"class","right"),y(e,"class","clearfix mb1"),x.disabled=t[3],y(x,"placeholder",gt.get("search")+"..."),y(x,"type","text"),y(x,"class","svelte-1jrx3uc"),y(O,"class","fas fa-eraser"),E.disabled=t[3],y(E,"class","btn btn-clean svelte-1jrx3uc"),y(T,"class",q=u(t[4])+" svelte-1jrx3uc"),y(A,"class","btn btn-search svelte-1jrx3uc"),A.disabled=t[3],y(b,"class","item-group svelte-1jrx3uc"),y(I,"class","select svelte-1jrx3uc"),void 0===t[6].id&&B((()=>t[16].call(I))),y(D,"class","mt1")},m(s,u){p(s,e,u),d(e,n),d(n,o),d(o,l),d(e,a),d(e,r),d(r,i),d(i,c),p(s,v,u),p(s,b,u),d(b,x),j(x,t[2]),d(b,_),d(b,E),d(E,O),d(b,C),d(b,A),d(A,T),p(s,P,u),p(s,D,u),d(D,I);for(let t=0;t<M.length;t+=1)M[t].m(I,null);t[15](I),S(I,t[6].id),z||(L=[k(i,"click",t[12]),k(x,"input",t[13]),k(E,"click",t[14]),k(A,"click",t[9]),k(I,"change",t[16]),k(I,"change",t[10])],z=!0)},p(t,e){if(1&e&&w(l,t[0]),8&e&&(i.disabled=t[3]),8&e&&(x.disabled=t[3]),4&e&&x.value!==t[2]&&j(x,t[2]),8&e&&(E.disabled=t[3]),16&e&&q!==(q=u(t[4])+" svelte-1jrx3uc")&&y(T,"class",q),8&e&&(A.disabled=t[3]),32&e){let n;for(N=t[5],n=0;n<N.length;n+=1){const s=Nt(t,N,n);M[n]?M[n].p(s,e):(M[n]=Ut(s),M[n].c(),M[n].m(I,null))}for(;n<M.length;n+=1)M[n].d(1);M.length=N.length}96&e&&S(I,t[6].id)},d(n){n&&f(e),n&&f(v),n&&f(b),n&&f(P),n&&f(D),g(M,n),t[15](null),z=!1,s(L)}}}function Ut(t){let e,n,s,o=t[20].value+"";return{c(){e=m("option"),n=$(o),e.__value=s=t[20].id,e.value=e.__value},m(t,s){p(t,e,s),d(e,n)},p(t,l){32&l&&o!==(o=t[20].value+"")&&w(n,o),32&l&&s!==(s=t[20].id)&&(e.__value=s,e.value=e.__value)},d(t){t&&f(e)}}}function Ht(e){let n;function s(t,e){return!0===t[1]?Mt:Bt}let o=s(e),l=o(e);return{c(){n=m("div"),l.c()},m(t,e){p(t,n,e),l.m(n,null)},p(t,[e]){o===(o=s(t))&&l?l.p(t,e):(l.d(1),l=o(t),l&&(l.c(),l.m(n,null)))},i:t,o:t,d(t){t&&f(n),l.d()}}}function Gt(t,e,n){let{id:s=""}=e,{label:o=""}=e;const l=q();let a=!1,r="",i=!1,c="fas fa-search",u=[],d={id:0,name:""},p=null;const f=t=>{n(1,a=!a),(t=>{l("EventExpand",t)})(a)},g=t=>{n(3,i=t),t&&(n(5,u=[{id:"",value:gt.get("loading")+"..."}]),n(6,d.id="",d)),n(4,c="fas fa-"+(i?"spinner fa-spin":"search"))};return t.$$set=t=>{"id"in t&&n(11,s=t.id),"label"in t&&n(0,o=t.label)},[o,a,r,i,c,u,d,p,f,()=>{g(!0),l("EventSelect",{id:s,value:r||"",fun:t=>{t.unshift({id:"",value:gt.get("select-option")+"..."}),n(5,u=t),g(!1),l("EventSelect",{id:s,data:{id:0,name:""}})}})},()=>{n(6,d.name=p.options[p.selectedIndex].text,d),l("EventSelect",{id:s,data:d})},s,()=>f(),function(){r=this.value,n(2,r)},()=>n(2,r=""),function(t){D[t?"unshift":"push"]((()=>{p=t,n(7,p)}))},function(){d.id=O(this),n(6,d),n(5,u)}]}class Ft extends nt{constructor(t){super(),et(this,t,Gt,Ht,l,{id:11,label:0})}}function Rt(e){let n,s,o,l,a;return{c(){n=m("div"),s=m("div"),o=m("div"),l=h(),a=m("div"),y(o,"class","gauge__fill svelte-sk2b6t"),y(a,"class","gauge__cover svelte-sk2b6t"),y(s,"class","gauge__body svelte-sk2b6t"),y(n,"class","gauge svelte-sk2b6t")},m(t,r){p(t,n,r),d(n,s),d(s,o),e[3](o),d(s,l),d(s,a),e[4](a)},p:t,i:t,o:t,d(t){t&&f(n),e[3](null),e[4](null)}}}function Kt(t,e,n){let{value:s=0}=e,o=null,l=null;return T((()=>{var t;(t=s)<0||t>1||(n(0,o.style.transform=`rotate(${t/2}turn)`,o),n(1,l.textContent=`${Math.round(100*t)}%`,l))})),t.$$set=t=>{"value"in t&&n(2,s=t.value)},[o,l,s,function(t){D[t?"unshift":"push"]((()=>{o=t,n(0,o)}))},function(t){D[t?"unshift":"push"]((()=>{l=t,n(1,l)}))}]}class Vt extends nt{constructor(t){super(),et(this,t,Kt,Rt,l,{value:2})}}function Xt(e){let n,s,o,l,a,r,i,c,u;return{c(){n=m("div"),s=m("div"),o=$("Progress\r\n        "),l=m("div"),a=h(),r=m("span"),i=$(e[0]),c=$("%"),y(l,"class","progress-bar--inner svelte-szwwex"),E(l,"width",e[0]+"%"),y(s,"class","progress-bar svelte-szwwex"),y(r,"class","progress-bar--counter svelte-szwwex"),y(n,"class",u="progress-bar--wrap progress-bar--"+e[1]+" svelte-szwwex")},m(t,e){p(t,n,e),d(n,s),d(s,o),d(s,l),d(n,a),d(n,r),d(r,i),d(r,c)},p(t,[e]){1&e&&E(l,"width",t[0]+"%"),1&e&&w(i,t[0]),2&e&&u!==(u="progress-bar--wrap progress-bar--"+t[1]+" svelte-szwwex")&&y(n,"class",u)},i:t,o:t,d(t){t&&f(n)}}}function Yt(t,e,n){let{value:s=0}=e,{color:o="green"}=e;return t.$$set=t=>{"value"in t&&n(0,s=t.value),"color"in t&&n(1,o=t.color)},[s,o]}class Jt extends nt{constructor(t){super(),et(this,t,Yt,Xt,l,{value:0,color:1})}}function Qt(t){let e,n,s,o;return e=new At({props:{$$slots:{content:[Zt]},$$scope:{ctx:t}}}),s=new At({props:{$$slots:{content:[te]},$$scope:{ctx:t}}}),{c(){Q(e.$$.fragment),n=h(),Q(s.$$.fragment)},m(t,l){W(e,t,l),p(t,n,l),W(s,t,l),o=!0},p(t,n){const o={};2049&n&&(o.$$scope={dirty:n,ctx:t}),e.$set(o);const l={};2049&n&&(l.$$scope={dirty:n,ctx:t}),s.$set(l)},i(t){o||(X(e.$$.fragment,t),X(s.$$.fragment,t),o=!0)},o(t){Y(e.$$.fragment,t),Y(s.$$.fragment,t),o=!1},d(t){Z(e,t),t&&f(n),Z(s,t)}}}function Wt(e){let n,s;return n=new rt({}),{c(){Q(n.$$.fragment)},m(t,e){W(n,t,e),s=!0},p:t,i(t){s||(X(n.$$.fragment,t),s=!0)},o(t){Y(n.$$.fragment,t),s=!1},d(t){Z(n,t)}}}function Zt(t){let e,n,s,o,l,a,r,i,c,u=gt.get("pending")+"",g=t[0].opened.num+"";return i=new Jt({props:{value:t[0].opened.val,color:"orange"}}),{c(){e=m("div"),n=m("h2"),s=$(u),o=$(" ("),l=$(g),a=$(")"),r=h(),Q(i.$$.fragment),y(n,"class","mt2 mb1"),y(e,"slot","content")},m(t,u){p(t,e,u),d(e,n),d(n,s),d(n,o),d(n,l),d(n,a),d(e,r),W(i,e,null),c=!0},p(t,e){(!c||1&e)&&g!==(g=t[0].opened.num+"")&&w(l,g);const n={};1&e&&(n.value=t[0].opened.val),i.$set(n)},i(t){c||(X(i.$$.fragment,t),c=!0)},o(t){Y(i.$$.fragment,t),c=!1},d(t){t&&f(e),Z(i)}}}function te(t){let e,n,s,o,l,a,r,i,c,u,g,v,b,k,x,_,j,E,S,O,C,A,T,q,P,D,I,z,L,N,B,M,U,H=gt.get("solved")+"",G=t[0].closed.num+"",F=gt.get("high-priority")+"",R=t[0].alta.tot+"",K=gt.get("medium-priority")+"",V=t[0].media.tot+"",J=gt.get("low-priority")+"",tt=t[0].baja.tot+"";return i=new Vt({props:{value:t[0].porcent.val}}),_=new Jt({props:{value:t[0].alta.val,color:"red"}}),q=new Jt({props:{value:t[0].media.val,color:"yellow"}}),M=new Jt({props:{value:t[0].baja.val,color:"green"}}),{c(){e=m("div"),n=m("h2"),s=$(H),o=$(" ("),l=$(G),a=$(")"),r=h(),Q(i.$$.fragment),c=h(),u=m("h3"),g=$(F),v=$(" ("),b=$(R),k=$(")"),x=h(),Q(_.$$.fragment),j=h(),E=m("h3"),S=$(K),O=$(" ("),C=$(V),A=$(")"),T=h(),Q(q.$$.fragment),P=h(),D=m("h3"),I=$(J),z=$(" ("),L=$(tt),N=$(")"),B=h(),Q(M.$$.fragment),y(n,"class","mt2 mb1"),y(u,"class","mt2 mb1"),y(E,"class","mt2 mb1"),y(D,"class","mt2 mb1"),y(e,"slot","content")},m(t,f){p(t,e,f),d(e,n),d(n,s),d(n,o),d(n,l),d(n,a),d(e,r),W(i,e,null),d(e,c),d(e,u),d(u,g),d(u,v),d(u,b),d(u,k),d(e,x),W(_,e,null),d(e,j),d(e,E),d(E,S),d(E,O),d(E,C),d(E,A),d(e,T),W(q,e,null),d(e,P),d(e,D),d(D,I),d(D,z),d(D,L),d(D,N),d(e,B),W(M,e,null),U=!0},p(t,e){(!U||1&e)&&G!==(G=t[0].closed.num+"")&&w(l,G);const n={};1&e&&(n.value=t[0].porcent.val),i.$set(n),(!U||1&e)&&R!==(R=t[0].alta.tot+"")&&w(b,R);const s={};1&e&&(s.value=t[0].alta.val),_.$set(s),(!U||1&e)&&V!==(V=t[0].media.tot+"")&&w(C,V);const o={};1&e&&(o.value=t[0].media.val),q.$set(o),(!U||1&e)&&tt!==(tt=t[0].baja.tot+"")&&w(L,tt);const a={};1&e&&(a.value=t[0].baja.val),M.$set(a)},i(t){U||(X(i.$$.fragment,t),X(_.$$.fragment,t),X(q.$$.fragment,t),X(M.$$.fragment,t),U=!0)},o(t){Y(i.$$.fragment,t),Y(_.$$.fragment,t),Y(q.$$.fragment,t),Y(M.$$.fragment,t),U=!1},d(t){t&&f(e),Z(i),Z(_),Z(q),Z(M)}}}function ee(t){let e,n,s,o,l,a;e=new Ft({props:{id:"Project",label:t[1]}}),e.$on("EventSelect",t[3]);const r=[Wt,Qt],i=[];function c(t,e){return t[2]?0:1}return s=c(t),o=i[s]=r[s](t),{c(){Q(e.$$.fragment),n=h(),o.c(),l=b()},m(t,o){W(e,t,o),p(t,n,o),i[s].m(t,o),p(t,l,o),a=!0},p(t,[n]){const a={};2&n&&(a.label=t[1]),e.$set(a);let u=s;s=c(t),s===u?i[s].p(t,n):(K(),Y(i[u],1,1,(()=>{i[u]=null})),V(),o=i[s],o?o.p(t,n):(o=i[s]=r[s](t),o.c()),X(o,1),o.m(l.parentNode,l))},i(t){a||(X(e.$$.fragment,t),X(o),a=!0)},o(t){Y(e.$$.fragment,t),Y(o),a=!1},d(t){Z(e,t),t&&f(n),i[s].d(t),t&&f(l)}}}function ne(t,e,n){let s={},o="",l=!0,a={id:0,name:""};const r=t=>{var e;n(1,o=(e=t).id?e.name:gt.get("select-project")),a=t,dt.set("project",a)},i=(t,e)=>e?Math.round(t.num/e*100):0;function c(t){n(0,s={opened:{val:0,num:0,tot:0},closed:{val:0,num:0,tot:0},baja:{val:0,num:0,tot:0},media:{val:0,num:0,tot:0},alta:{val:0,num:0,tot:0},porcent:{val:0,num:0,tot:0}}),n(0,s.opened.num=0,s),n(0,s.closed.num=0,s);for(const e in t)n(0,s.porcent.tot+=t[e].opened+t[e].closed,s),n(0,s.closed.num+=t[e].closed,s),n(0,s.opened.num+=t[e].opened,s),n(0,s[e].tot=t[e].opened+t[e].closed,s),n(0,s[e].num=t[e].closed,s),n(0,s[e].val=s[e].tot?Math.round(s[e].num/s[e].tot*100):0,s);n(0,s.opened.val=i(s.opened,s.porcent.tot),s),n(0,s.closed.val=i(s.closed,s.porcent.tot),s),n(0,s.porcent.val=s.closed.val/100,s)}const u=t=>{const e=t.detail;e.data?e.data.id&&(n(2,l=!0),console.log("statistics tasks data :::",e.data),r(e.data),ft.send("task/get-statistics",e.data,(t=>{const e={};e[a.id]=t,dt.set("tasks-0",[]),dt.set("tasks-1",[]),dt.set("statistics",e),c(t),n(2,l=!1)}))):ft.send("project/search",{key:e.value},e.fun)};return T((()=>{r(dt.get("project")||a);const t=(()=>{const t=dt.get("statistics")||[];return t[0]={baja:{opened:0,closed:0},media:{opened:0,closed:0},alta:{opened:0,closed:0}},t})();console.log("statistics ",t),t&&t[a.id]?(c(t[a.id]),n(2,l=!1)):u({detail:{data:a}})})),[s,o,l,u]}class se extends nt{constructor(t){super(),et(this,t,ne,ee,l,{})}}function oe(t){let e,n,s,o;return e=new Lt({props:{user:t[1]}}),s=new se({}),{c(){Q(e.$$.fragment),n=h(),Q(s.$$.fragment)},m(t,l){W(e,t,l),p(t,n,l),W(s,t,l),o=!0},p(t,n){const s={};2&n&&(s.user=t[1]),e.$set(s)},i(t){o||(X(e.$$.fragment,t),X(s.$$.fragment,t),o=!0)},o(t){Y(e.$$.fragment,t),Y(s.$$.fragment,t),o=!1},d(t){Z(e,t),t&&f(n),Z(s,t)}}}function le(e){let n,s;return n=new rt({}),{c(){Q(n.$$.fragment)},m(t,e){W(n,t,e),s=!0},p:t,i(t){s||(X(n.$$.fragment,t),s=!0)},o(t){Y(n.$$.fragment,t),s=!1},d(t){Z(n,t)}}}function ae(t){let e,n,s,o;const l=[le,oe],a=[];function r(t,e){return t[0]?0:1}return e=r(t),n=a[e]=l[e](t),{c(){n.c(),s=b()},m(t,n){a[e].m(t,n),p(t,s,n),o=!0},p(t,[o]){let i=e;e=r(t),e===i?a[e].p(t,o):(K(),Y(a[i],1,1,(()=>{a[i]=null})),V(),n=a[e],n?n.p(t,o):(n=a[e]=l[e](t),n.c()),X(n,1),n.m(s.parentNode,s))},i(t){o||(X(n),o=!0)},o(t){Y(n),o=!1},d(t){a[e].d(t),t&&f(s)}}}function re(t,e,n){let s=!0,o={};return T((()=>{(t=>{let e=dt.get("user");if(e&&e.id)return t(e);ft.send("user/get-data",(e=>{if(e&&e.id)return dt.set("user",e),t(e);t(null)}))})((t=>{t?(console.log("user get data: ",t),n(1,o=t),n(0,s=!1)):ft.send("session/form-login")}))})),[s,o]}class ie extends nt{constructor(t){super(),et(this,t,re,ae,l,{})}}function ce(e){let n,s,o,l,a,r=e[1].allow&&function(e){let n,s,o,l,a;return{c(){n=m("span"),n.innerHTML='<i class="fas fa-trash red svelte-11mizk4"></i>',s=h(),o=m("i"),y(n,"class","svelte-11mizk4"),y(o,"class","line svelte-11mizk4")},m(t,r){p(t,n,r),p(t,s,r),p(t,o,r),l||(a=k(n,"click",e[2]),l=!0)},p:t,d(t){t&&f(n),t&&f(s),t&&f(o),l=!1,a()}}}(e);return{c(){n=m("span"),r&&r.c(),s=h(),o=m("span"),o.innerHTML='<i class="fa fa-edit blue"></i>',y(o,"class","svelte-11mizk4"),y(n,"class","opc text-center svelte-11mizk4")},m(t,i){p(t,n,i),r&&r.m(n,null),d(n,s),d(n,o),l||(a=k(o,"click",e[3]),l=!0)},p(t,[e]){t[1].allow&&r.p(t,e)},i:t,o:t,d(t){t&&f(n),r&&r.d(),l=!1,a()}}}function ue(t,e,n){let{selOpc:s=(t=>{})}=e,o=dt.get("user");T((()=>{dt.get("user")}));return t.$$set=t=>{"selOpc"in t&&n(0,s=t.selOpc)},[s,o,()=>s("D"),()=>s("E")]}class de extends nt{constructor(t){super(),et(this,t,ue,ce,l,{selOpc:0})}}function pe(t){let e,n,s,o,l,a,r,i;return r=new de({props:{selOpc:t[0]}}),{c(){e=m("div"),n=m("i"),s=h(),o=m("span"),o.textContent="•••",l=h(),a=m("div"),Q(r.$$.fragment),y(n,"class","db2 svelte-1qkjnkz"),y(n,"tabindex","0"),y(o,"class","dropbtn svelte-1qkjnkz"),y(a,"class","dropdown-content svelte-1qkjnkz"),y(a,"tabindex","0"),y(e,"class","dropdown svelte-1qkjnkz"),y(e,"tabindex","0")},m(t,c){p(t,e,c),d(e,n),d(e,s),d(e,o),d(e,l),d(e,a),W(r,a,null),i=!0},p(t,[e]){const n={};1&e&&(n.selOpc=t[0]),r.$set(n)},i(t){i||(X(r.$$.fragment,t),i=!0)},o(t){Y(r.$$.fragment,t),i=!1},d(t){t&&f(e),Z(r)}}}function fe(t,e,n){let{selOpc:s=(()=>{})}=e;return t.$$set=t=>{"selOpc"in t&&n(0,s=t.selOpc)},[s]}class ge extends nt{constructor(t){super(),et(this,t,fe,pe,l,{selOpc:0})}}function me(t){let e,n,s;return n=new ge({props:{selOpc:t[11]}}),{c(){e=m("span"),Q(n.$$.fragment),y(e,"class","menu svelte-x95ogs")},m(t,o){p(t,e,o),W(n,e,null),s=!0},p(t,e){const s={};3&e&&(s.selOpc=t[11]),n.$set(s)},i(t){s||(X(n.$$.fragment,t),s=!0)},o(t){Y(n.$$.fragment,t),s=!1},d(t){t&&f(e),Z(n)}}}function ve(t){let e,n,o,l,a,r,i,c,u,g,v,$,b,x,_,w,E,S;return{c(){e=m("div"),n=m("input"),o=h(),l=m("datalist"),a=m("option"),r=m("option"),i=m("option"),c=m("option"),u=m("option"),g=m("option"),v=m("option"),$=m("option"),b=m("option"),x=m("option"),_=m("option"),w=m("input"),y(n,"type","range"),y(n,"class","input-range"),y(n,"step","10"),y(n,"list","tickmarks"),a.__value="0",a.value=a.__value,y(a,"label","0%"),r.__value="10",r.value=r.__value,i.__value="20",i.value=i.__value,c.__value="30",c.value=c.__value,u.__value="40",u.value=u.__value,g.__value="50",g.value=g.__value,y(g,"label","50%"),v.__value="60",v.value=v.__value,$.__value="70",$.value=$.__value,b.__value="80",b.value=b.__value,x.__value="90",x.value=x.__value,_.__value="100",_.value=_.__value,y(_,"label","100%"),y(l,"id","tickmarks")},m(s,f){p(s,e,f),d(e,n),j(n,t[2]),d(e,o),d(e,l),d(l,a),d(l,r),d(l,i),d(l,c),d(l,u),d(l,g),d(l,v),d(l,$),d(l,b),d(l,x),d(l,_),d(l,w),E||(S=[k(n,"change",t[9]),k(n,"change",t[13]),k(n,"input",t[13])],E=!0)},p(t,e){4&e&&j(n,t[2])},d(t){t&&f(e),E=!1,s(S)}}}function $e(t){let e,n,s,o,l,a,r,c,u,g=t[0].assignee.name+"";return{c(){e=m("footer"),n=m("strong"),n.textContent="Asignado a:",s=h(),o=m("div"),l=m("img"),r=h(),c=m("span"),u=$(g),y(n,"class","svelte-x95ogs"),i(l.src,a=t[0].assignee.avatar_url)||y(l,"src",a),y(l,"alt",""),y(l,"class","svelte-x95ogs"),y(c,"class","svelte-x95ogs"),y(o,"class","svelte-x95ogs"),y(e,"class","svelte-x95ogs")},m(t,a){p(t,e,a),d(e,n),d(e,s),d(e,o),d(o,l),d(o,r),d(o,c),d(c,u)},p(t,e){1&e&&!i(l.src,a=t[0].assignee.avatar_url)&&y(l,"src",a),1&e&&g!==(g=t[0].assignee.name+"")&&w(u,g)},d(t){t&&f(e)}}}function he(t){let e,n,o,l,a,r,i,c,g,v,b,x,j,E,S,O,C,A,T,q,P,D,I,z,L,N,B,M,U=t[0].title+"",H=t[0].dueDate+"",G=t[0].description+"",F=t[4].id===t[0].author.id&&"opened"===t[0].state&&me(t);D=new Jt({props:{value:t[2],color:"cyan"}});let R=t[3]===t[7]&&"opened"===t[0].state&&ve(t),J=t[0].assignee.id!==t[4].id&&$e(t);return{c(){e=m("message-item"),n=m("div"),l=h(),a=m("input"),r=h(),i=m("header"),c=m("div"),g=m("span"),v=$(U),b=h(),x=m("span"),j=$(H),E=h(),F&&F.c(),S=h(),O=m("main"),C=m("p"),A=$(G),T=h(),q=m("div"),P=m("div"),Q(D.$$.fragment),I=h(),R&&R.c(),z=h(),J&&J.c(),y(n,"class",o="tag "+t[6]+" svelte-x95ogs"),y(a,"class","checkbox svelte-x95ogs"),y(a,"type","checkbox"),a.checked=t[5],y(g,"class","subject svelte-x95ogs"),y(x,"class","date svelte-x95ogs"),y(c,"class","sender-info svelte-x95ogs"),y(i,"class","svelte-x95ogs"),y(C,"class","svelte-x95ogs"),y(P,"class","progress svelte-x95ogs"),y(O,"class","svelte-x95ogs"),_(e,"class",L=u("opened"===t[0].state?"unread":"done")+" svelte-x95ogs")},m(s,o){p(s,e,o),d(e,n),d(e,l),d(e,a),d(e,r),d(e,i),d(i,c),d(c,g),d(g,v),d(c,b),d(c,x),d(x,j),d(i,E),F&&F.m(i,null),d(e,S),d(e,O),d(O,C),d(C,A),d(O,T),d(O,q),d(q,P),W(D,P,null),d(q,I),R&&R.m(q,null),d(e,z),J&&J.m(e,null),N=!0,B||(M=[k(a,"change",t[8]),k(P,"click",t[12])],B=!0)},p(t,[s]){(!N||64&s&&o!==(o="tag "+t[6]+" svelte-x95ogs"))&&y(n,"class",o),(!N||32&s)&&(a.checked=t[5]),(!N||1&s)&&U!==(U=t[0].title+"")&&w(v,U),(!N||1&s)&&H!==(H=t[0].dueDate+"")&&w(j,H),t[4].id===t[0].author.id&&"opened"===t[0].state?F?(F.p(t,s),17&s&&X(F,1)):(F=me(t),F.c(),X(F,1),F.m(i,null)):F&&(K(),Y(F,1,1,(()=>{F=null})),V()),(!N||1&s)&&G!==(G=t[0].description+"")&&w(A,G);const l={};4&s&&(l.value=t[2]),D.$set(l),t[3]===t[7]&&"opened"===t[0].state?R?R.p(t,s):(R=ve(t),R.c(),R.m(q,null)):R&&(R.d(1),R=null),t[0].assignee.id!==t[4].id?J?J.p(t,s):(J=$e(t),J.c(),J.m(e,null)):J&&(J.d(1),J=null),(!N||1&s&&L!==(L=u("opened"===t[0].state?"unread":"done")+" svelte-x95ogs"))&&_(e,"class",L)},i(t){N||(X(F),X(D.$$.fragment,t),N=!0)},o(t){Y(F),Y(D.$$.fragment,t),N=!1},d(t){t&&f(e),F&&F.d(),Z(D),R&&R.d(),J&&J.d(),B=!1,s(M)}}}function be(t,e,n){let{selOpc:s=(()=>{})}=e,{task:o={}}=e,l=0,a="";const r=t=>{const e=o.labels.indexOf(t);return e>-1?o.labels[e]:void 0};let i={},c=o.id,u="",d="none";const p=t=>{"opened"===o.state&&n(3,a=t===a?"":t)};T((()=>{n(4,i=dt.get("user"))}));return t.$$set=t=>{"selOpc"in t&&n(1,s=t.selOpc),"task"in t&&n(0,o=t.task)},t.$$.update=()=>{1&t.$$.dirty&&n(6,(o.labels,d=r("alta")||r("media")||r("baja")||"none")),1&t.$$.dirty&&n(5,u="closed"===o.state?"checked":""),1&t.$$.dirty&&(()=>{n(3,a="");let t=0;for(let n=0;n<=10;n++)e=(10*n).toString(),t=o.labels.indexOf(e)>-1?10*n:t;var e;void 0!==l&&n(2,l=t)})(o.labels)},[o,s,l,a,i,u,d,c,()=>{n(0,o.state="opened"===o.state?"closed":"opened",o),n(0,o.progress="closed"===o.state?0:1,o),ft.send("task/state",o,(t=>{dt.run("refresh"),console.log("TASKS::",t)}))},()=>{n(0,o.labels=[d,l.toString()],o),console.log(o.labels),ft.send("task/labels",o,(t=>{dt.run("refresh"),console.log("TASKS::",t)}))},p,t=>s(t+":"+o.id),()=>p(c),function(){var t;t=this.value,l=""===t?null:+t,n(2,l)}]}class ke extends nt{constructor(t){super(),et(this,t,be,he,l,{selOpc:1,task:0})}}function xe(t,e,n){const s=t.slice();return s[3]=e[n],s}function ye(e){let n,s=gt.get(e[2]?"no-tasks-delegated":"no-tasks-assigned")+"";return{c(){n=$(s)},m(t,e){p(t,n,e)},p(t,e){4&e&&s!==(s=gt.get(t[2]?"no-tasks-delegated":"no-tasks-assigned")+"")&&w(n,s)},i:t,o:t,d(t){t&&f(n)}}}function _e(t){let e,n,s,o=t[1],l=[];for(let e=0;e<o.length;e+=1)l[e]=we(xe(t,o,e));const a=t=>Y(l[t],1,1,(()=>{l[t]=null}));return{c(){e=m("div"),n=m("div");for(let t=0;t<l.length;t+=1)l[t].c();y(n,"class","inbox-list svelte-3mj1yq"),y(e,"class","inbox svelte-3mj1yq")},m(t,o){p(t,e,o),d(e,n);for(let t=0;t<l.length;t+=1)l[t].m(n,null);s=!0},p(t,e){if(3&e){let s;for(o=t[1],s=0;s<o.length;s+=1){const a=xe(t,o,s);l[s]?(l[s].p(a,e),X(l[s],1)):(l[s]=we(a),l[s].c(),X(l[s],1),l[s].m(n,null))}for(K(),s=o.length;s<l.length;s+=1)a(s);V()}},i(t){if(!s){for(let t=0;t<o.length;t+=1)X(l[t]);s=!0}},o(t){l=l.filter(Boolean);for(let t=0;t<l.length;t+=1)Y(l[t]);s=!1},d(t){t&&f(e),g(l,t)}}}function we(t){let e,n;return e=new ke({props:{task:t[3],selOpc:t[0]}}),{c(){Q(e.$$.fragment)},m(t,s){W(e,t,s),n=!0},p(t,n){const s={};2&n&&(s.task=t[3]),1&n&&(s.selOpc=t[0]),e.$set(s)},i(t){n||(X(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function je(t){let e,n,s,o;const l=[_e,ye],a=[];function r(t,e){return t[1]instanceof Array&&t[1].length?0:1}return e=r(t),n=a[e]=l[e](t),{c(){n.c(),s=b()},m(t,n){a[e].m(t,n),p(t,s,n),o=!0},p(t,[o]){let i=e;e=r(t),e===i?a[e].p(t,o):(K(),Y(a[i],1,1,(()=>{a[i]=null})),V(),n=a[e],n?n.p(t,o):(n=a[e]=l[e](t),n.c()),X(n,1),n.m(s.parentNode,s))},i(t){o||(X(n),o=!0)},o(t){Y(n),o=!1},d(t){a[e].d(t),t&&f(s)}}}function Ee(t,e,n){let{selOpc:s=(()=>{})}=e,{tasks:o=[]}=e,l=dt.get("filter_tasks")||0;return T((()=>{n(2,l=dt.get("filter_tasks")||0),pt.setScroll("tasks")})),t.$$set=t=>{"selOpc"in t&&n(0,s=t.selOpc),"tasks"in t&&n(1,o=t.tasks)},[s,o,l]}class Se extends nt{constructor(t){super(),et(this,t,Ee,je,l,{selOpc:0,tasks:1})}}function Oe(t,e,n){const s=t.slice();return s[19]=e[n],s}function Ce(e){let n,o,l,a,r,i,c,u,v,b,_,E,O,C,A,T,q,P,D,I,z,L,N,M,U,H,G,F,R,K=gt.get(e[0].id?"edit-task":"new-task")+"",V=gt.get(e[0].id?"save":"add")+"",X=e[3],Y=[];for(let t=0;t<X.length;t+=1)Y[t]=Te(Oe(e,X,t));return{c(){n=m("form"),o=m("h3"),o.textContent=`${e[5].name}`,l=h(),a=m("h4"),r=$(K),i=h(),c=m("input"),u=h(),v=m("textarea"),b=h(),_=m("select");for(let t=0;t<Y.length;t+=1)Y[t].c();E=h(),O=m("select"),C=m("option"),C.textContent=`${gt.get("select-priority")}`,A=m("option"),A.textContent=`${gt.get("low-priority")}`,T=m("option"),T.textContent=`${gt.get("medium-priority")}`,q=m("option"),q.textContent=`${gt.get("high-priority")}`,P=h(),D=m("h4"),D.textContent=`${gt.get("deadline")}:`,I=h(),z=m("input"),L=h(),N=m("br"),M=h(),U=m("div"),H=m("button"),G=$(V),y(a,"class","mb1"),c.required=!0,y(c,"type","text"),y(c,"class","input mb1"),y(c,"placeholder",gt.get("title")),y(v,"class","textarea mb2"),y(v,"rows","4"),y(v,"placeholder",gt.get("description")),y(_,"id","idUsers"),y(_,"class","select mb2"),_.required=!0,void 0===e[4].idUser&&B((()=>e[10].call(_))),C.__value="",C.value=C.__value,A.__value="baja",A.value=A.__value,T.__value="media",T.value=T.__value,q.__value="alta",q.value=q.__value,y(O,"class","select mb1"),O.required=!0,void 0===e[4].priority&&B((()=>e[11].call(O))),y(D,"class","mb1"),y(z,"type","date"),y(z,"clas","mb1"),y(H,"class","btn"),y(H,"type","submit"),y(U,"class","mt1"),y(n,"class","p1")},m(t,s){p(t,n,s),d(n,o),d(n,l),d(n,a),d(a,r),d(n,i),d(n,c),e[7](c),j(c,e[4].title),d(n,u),d(n,v),j(v,e[4].description),d(n,b),d(n,_);for(let t=0;t<Y.length;t+=1)Y[t].m(_,null);S(_,e[4].idUser),d(n,E),d(n,O),d(O,C),d(O,A),d(O,T),d(O,q),S(O,e[4].priority),d(n,P),d(n,D),d(n,I),d(n,z),j(z,e[4].date),d(n,L),d(n,N),d(n,M),d(n,U),d(U,H),d(H,G),F||(R=[k(c,"input",e[8]),k(v,"input",e[9]),k(_,"change",e[10]),k(O,"change",e[11]),k(z,"input",e[12]),k(n,"submit",x(e[6]))],F=!0)},p(t,e){if(1&e&&K!==(K=gt.get(t[0].id?"edit-task":"new-task")+"")&&w(r,K),24&e&&c.value!==t[4].title&&j(c,t[4].title),24&e&&j(v,t[4].description),8&e){let n;for(X=t[3],n=0;n<X.length;n+=1){const s=Oe(t,X,n);Y[n]?Y[n].p(s,e):(Y[n]=Te(s),Y[n].c(),Y[n].m(_,null))}for(;n<Y.length;n+=1)Y[n].d(1);Y.length=X.length}24&e&&S(_,t[4].idUser),24&e&&S(O,t[4].priority),24&e&&j(z,t[4].date),1&e&&V!==(V=gt.get(t[0].id?"save":"add")+"")&&w(G,V)},i:t,o:t,d(t){t&&f(n),e[7](null),g(Y,t),F=!1,s(R)}}}function Ae(e){let n,s;return n=new rt({}),{c(){Q(n.$$.fragment)},m(t,e){W(n,t,e),s=!0},p:t,i(t){s||(X(n.$$.fragment,t),s=!0)},o(t){Y(n.$$.fragment,t),s=!1},d(t){Z(n,t)}}}function Te(t){let e,n,s,o=t[19].value+"";return{c(){e=m("option"),n=$(o),e.__value=s=t[19].id,e.value=e.__value},m(t,s){p(t,e,s),d(e,n)},p(t,l){8&l&&o!==(o=t[19].value+"")&&w(n,o),8&l&&s!==(s=t[19].id)&&(e.__value=s,e.value=e.__value)},d(t){t&&f(e)}}}function qe(t){let e,n,s,o;const l=[Ae,Ce],a=[];function r(t,e){return t[1]?0:1}return e=r(t),n=a[e]=l[e](t),{c(){n.c(),s=b()},m(t,n){a[e].m(t,n),p(t,s,n),o=!0},p(t,[o]){let i=e;e=r(t),e===i?a[e].p(t,o):(K(),Y(a[i],1,1,(()=>{a[i]=null})),V(),n=a[e],n?n.p(t,o):(n=a[e]=l[e](t),n.c()),X(n,1),n.m(s.parentNode,s))},i(t){o||(X(n),o=!0)},o(t){Y(n),o=!1},d(t){a[e].d(t),t&&f(s)}}}function Pe(t,e,n){let{task:s={}}=e;const o=q();let l=!0,a=dt.get("project"),r=null,i=[],c={};const u=t=>{if(s&&s.labels){const e=s.labels.indexOf(t);return e>-1?s.labels[e]:void 0}};return T((()=>{ft.send("user/list-by-project",{id:a.id},(t=>{var e;t.unshift({id:"",value:gt.get("assign-user")+"..."}),n(3,i=t),n(4,(n(4,c={date:((e=s).dueDate||"")+"",title:(e.title||"")+"",description:(e.description||"")+"",idProject:a.id,idUser:(e.assignee?e.assignee.id:"")||"",priority:u("alta")||u("media")||u("baja")||""}),c)),n(1,l=!1)}))})),t.$$set=t=>{"task"in t&&n(0,s=t.task)},[s,l,r,i,c,a,function(){s.id,n(4,c.idProject=a.id,c),s.id?function(){if(-1===s.labels.indexOf(c.priority)){const t=[];for(const e in s.labels)-1===["alta","media","baja"].indexOf(s.labels[e])&&t.push(s.labels[e]);t.push(c.priority),n(4,c.labels=t,c)}n(4,c.id=s.id,c),n(4,c.idProject=a.id,c),ft.send("task/upd",c,(t=>{if(t&&t.id){const e=dt.get("user"),n=t.assignee.id===e.id?0:1;dt.get("tasks-"+n);const s=dt.get("statistics");s&&s[t.idProject]&&(s[t.idProject]=void 0,dt.set("statistics",s)),dt.set("tasks-0",[]),dt.set("tasks-1",[]),o("EventAdded",{op:"upd",opc:"tasks_"+n})}else ft.send("onError",gt.key(t&&t.message||"err"))}))}():ft.send("task/add",c,(t=>{if(t&&t.id){const e=dt.get("user"),n=t.assignee.id===e.id?0:1,s=dt.get("tasks-"+n)||[],l=dt.get("statistics");l&&l[t.idProject]&&(l[t.idProject]=void 0,dt.set("statistics",l)),s.unshift(t),dt.set("tasks-"+n,s),dt.set("filter_state",0),dt.set("filter_priority",0),o("EventAdded",{op:"add",opc:"tasks_"+n})}else ft.send("onError",gt.key(t&&t.message||"err"))}))},function(t){D[t?"unshift":"push"]((()=>{r=t,n(2,r)}))},function(){c.title=this.value,n(4,c),n(3,i)},function(){c.description=this.value,n(4,c),n(3,i)},function(){c.idUser=O(this),n(4,c),n(3,i)},function(){c.priority=O(this),n(4,c),n(3,i)},function(){c.date=this.value,n(4,c),n(3,i)}]}class De extends nt{constructor(t){super(),et(this,t,Pe,qe,l,{task:0})}}function Ie(e){let n,o,l,a,r,i,c,u,g,v,b,_,j,E,S,O,C,A,T,q,P,D,I,z,L,N,B=e[0].title+"",M=e[0].description+"",U=e[0].dueDate+"";return{c(){n=m("form"),o=m("h3"),o.textContent=`${e[1].name}`,l=h(),a=m("h4"),a.textContent=`${gt.get("delete-task")}`,r=h(),i=m("span"),c=$(B),u=h(),g=m("p"),v=$(M),b=h(),_=m("h4"),_.textContent=`${gt.get("deadline")}`,j=h(),E=m("span"),S=$(U),O=h(),C=m("br"),A=h(),T=m("h4"),T.textContent=`${gt.get("are-you-sure-you-want-to-delete")}`,q=h(),P=m("div"),D=m("input"),I=h(),z=m("button"),z.textContent=`${gt.get("remove")}`,y(a,"class","mb1"),y(i,"class","input mb1 svelte-i0wpt8"),y(g,"class","input mb1 svelte-i0wpt8"),y(_,"class","mb1"),y(E,"class","mb1 svelte-i0wpt8"),y(D,"class","btn"),y(D,"type","button"),D.value=gt.get("cancel"),y(z,"class","btn"),y(z,"type","submit"),y(P,"class","flex mt1"),y(n,"class","p1")},m(t,s){p(t,n,s),d(n,o),d(n,l),d(n,a),d(n,r),d(n,i),d(i,c),d(n,u),d(n,g),d(g,v),d(n,b),d(n,_),d(n,j),d(n,E),d(E,S),d(n,O),d(n,C),d(n,A),d(n,T),d(n,q),d(n,P),d(P,D),d(P,I),d(P,z),L||(N=[k(D,"click",e[3]),k(n,"submit",x(e[2]))],L=!0)},p(t,[e]){1&e&&B!==(B=t[0].title+"")&&w(c,B),1&e&&M!==(M=t[0].description+"")&&w(v,M),1&e&&U!==(U=t[0].dueDate+"")&&w(S,U)},i:t,o:t,d(t){t&&f(n),L=!1,s(N)}}}function ze(t,e,n){let{task:s={}}=e;const o=q();let l=dt.get("project");return t.$$set=t=>{"task"in t&&n(0,s=t.task)},[s,l,function(){ft.send("task/del",s,(t=>{if(t&&t.id){const e=dt.get("filter_tasks")||0;dt.get("tasks-"+e);const n=dt.get("statistics");n&&n[t.idProject]&&(n[t.idProject]=void 0,dt.set("statistics",n)),dt.set("tasks-0",[]),dt.set("tasks-1",[]),o("EventDeleted",{op:"del",opc:"tasks_"+e})}else ft.send("onError",gt.key(t&&t.message||"err"))}))},function(){o("EventDeleted",{opc:"list"})}]}class Le extends nt{constructor(t){super(),et(this,t,ze,Ie,l,{task:0})}}function Ne(t,e,n){const s=t.slice();return s[5]=e[n],s[7]=n,s}function Be(t){let e,n,s,o,l,a,r,i=t[5].title+"";function c(){return t[3](t[7])}return{c(){e=m("a"),n=m("i"),o=h(),l=$(i),y(n,"class",s=u(t[5].icon)+" svelte-njfrk6"),y(e,"class","item svelte-njfrk6"),y(e,"href","#option")},m(t,s){p(t,e,s),d(e,n),d(e,o),d(e,l),a||(r=k(e,"click",x(c)),a=!0)},p(e,o){t=e,1&o&&s!==(s=u(t[5].icon)+" svelte-njfrk6")&&y(n,"class",s),1&o&&i!==(i=t[5].title+"")&&w(l,i)},d(t){t&&f(e),a=!1,r()}}}function Me(e){let n,s,o,l,a,r,i=e[0].options,c=[];for(let t=0;t<i.length;t+=1)c[t]=Be(Ne(e,i,t));return{c(){n=m("div"),s=m("span"),o=m("i"),a=h(),r=m("div");for(let t=0;t<c.length;t+=1)c[t].c();y(o,"class",l=u(e[1].icon)+" svelte-njfrk6"),y(s,"class","dropbtn svelte-njfrk6"),y(r,"class","dropdown-content svelte-njfrk6"),y(n,"class","dropdown svelte-njfrk6")},m(t,e){p(t,n,e),d(n,s),d(s,o),d(n,a),d(n,r);for(let t=0;t<c.length;t+=1)c[t].m(r,null)},p(t,[e]){if(2&e&&l!==(l=u(t[1].icon)+" svelte-njfrk6")&&y(o,"class",l),5&e){let n;for(i=t[0].options,n=0;n<i.length;n+=1){const s=Ne(t,i,n);c[n]?c[n].p(s,e):(c[n]=Be(s),c[n].c(),c[n].m(r,null))}for(;n<c.length;n+=1)c[n].d(1);c.length=i.length}},i:t,o:t,d(t){t&&f(n),g(c,t)}}}function Ue(t,e,n){let{btn:s={options:[]}}=e;const o=q();let l={icon:""};const a=t=>{n(0,s.selectedIndex=t,s),n(1,l=s.options[s.selectedIndex]),o("SelectedOption",s)};T((()=>{n(1,l=s.options[s.selectedIndex])}));return t.$$set=t=>{"btn"in t&&n(0,s=t.btn)},[s,l,a,t=>{a(t)}]}class He extends nt{constructor(t){super(),et(this,t,Ue,Me,l,{btn:0})}}function Ge(t,e,n){const s=t.slice();return s[9]=e[n],s}function Fe(t,e,n){const s=t.slice();return s[9]=e[n],s}function Re(e){let n,s,o,l,a,r,i;function c(){return e[3](e[9])}return{c(){n=m("span"),s=m("i"),l=h(),y(s,"class",o=u(e[9].icon)+" svelte-1bknspx"),y(n,"class","btn svelte-1bknspx"),y(n,"title",a=e[9].title)},m(t,e){p(t,n,e),d(n,s),d(n,l),r||(i=k(n,"click",c),r=!0)},p(t,l){e=t,1&l&&o!==(o=u(e[9].icon)+" svelte-1bknspx")&&y(s,"class",o),1&l&&a!==(a=e[9].title)&&y(n,"title",a)},i:t,o:t,d(t){t&&f(n),r=!1,i()}}}function Ke(t){let e,n;return e=new He({props:{btn:t[9]}}),e.$on("SelectedOption",t[1]),{c(){Q(e.$$.fragment)},m(t,s){W(e,t,s),n=!0},p(t,n){const s={};1&n&&(s.btn=t[9]),e.$set(s)},i(t){n||(X(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function Ve(t){let e,n,s,o;const l=[Ke,Re],a=[];function r(t,e){return"dropdown"===t[9].type?0:"button"===t[9].type?1:-1}return~(e=r(t))&&(n=a[e]=l[e](t)),{c(){n&&n.c(),s=b()},m(t,n){~e&&a[e].m(t,n),p(t,s,n),o=!0},p(t,o){let i=e;e=r(t),e===i?~e&&a[e].p(t,o):(n&&(K(),Y(a[i],1,1,(()=>{a[i]=null})),V()),~e?(n=a[e],n?n.p(t,o):(n=a[e]=l[e](t),n.c()),X(n,1),n.m(s.parentNode,s)):n=null)},i(t){o||(X(n),o=!0)},o(t){Y(n),o=!1},d(t){~e&&a[e].d(t),t&&f(s)}}}function Xe(e){let n,s,o,l,a,r,i;function c(){return e[4](e[9])}return{c(){n=m("span"),s=m("i"),l=h(),y(s,"class",o=u(e[9].icon)+" svelte-1bknspx"),y(n,"class","btn svelte-1bknspx"),y(n,"title",a=e[9].title)},m(t,e){p(t,n,e),d(n,s),d(n,l),r||(i=k(n,"click",c),r=!0)},p(t,l){e=t,1&l&&o!==(o=u(e[9].icon)+" svelte-1bknspx")&&y(s,"class",o),1&l&&a!==(a=e[9].title)&&y(n,"title",a)},i:t,o:t,d(t){t&&f(n),r=!1,i()}}}function Ye(t){let e,n;return e=new He({props:{btn:t[9]}}),e.$on("EventSeletect",t[1]),{c(){Q(e.$$.fragment)},m(t,s){W(e,t,s),n=!0},p(t,n){const s={};1&n&&(s.btn=t[9]),e.$set(s)},i(t){n||(X(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function Je(t){let e,n,s,o;const l=[Ye,Xe],a=[];function r(t,e){return"dropdown"===t[9].type?0:"button"===t[9].type?1:-1}return~(e=r(t))&&(n=a[e]=l[e](t)),{c(){n&&n.c(),s=b()},m(t,n){~e&&a[e].m(t,n),p(t,s,n),o=!0},p(t,o){let i=e;e=r(t),e===i?~e&&a[e].p(t,o):(n&&(K(),Y(a[i],1,1,(()=>{a[i]=null})),V()),~e?(n=a[e],n?n.p(t,o):(n=a[e]=l[e](t),n.c()),X(n,1),n.m(s.parentNode,s)):n=null)},i(t){o||(X(n),o=!0)},o(t){Y(n),o=!1},d(t){~e&&a[e].d(t),t&&f(s)}}}function Qe(t){let e,n,s,o,l,a=t[0].left,r=[];for(let e=0;e<a.length;e+=1)r[e]=Ve(Fe(t,a,e));const i=t=>Y(r[t],1,1,(()=>{r[t]=null}));let c=t[0].right,u=[];for(let e=0;e<c.length;e+=1)u[e]=Je(Ge(t,c,e));const v=t=>Y(u[t],1,1,(()=>{u[t]=null}));return{c(){e=m("div"),n=m("div");for(let t=0;t<r.length;t+=1)r[t].c();s=h(),o=m("div");for(let t=0;t<u.length;t+=1)u[t].c();y(n,"class","box-left svelte-1bknspx"),y(o,"class","box-right svelte-1bknspx"),y(e,"class","box-nav svelte-1bknspx")},m(t,a){p(t,e,a),d(e,n);for(let t=0;t<r.length;t+=1)r[t].m(n,null);d(e,s),d(e,o);for(let t=0;t<u.length;t+=1)u[t].m(o,null);l=!0},p(t,[e]){if(3&e){let s;for(a=t[0].left,s=0;s<a.length;s+=1){const o=Fe(t,a,s);r[s]?(r[s].p(o,e),X(r[s],1)):(r[s]=Ve(o),r[s].c(),X(r[s],1),r[s].m(n,null))}for(K(),s=a.length;s<r.length;s+=1)i(s);V()}if(3&e){let n;for(c=t[0].right,n=0;n<c.length;n+=1){const s=Ge(t,c,n);u[n]?(u[n].p(s,e),X(u[n],1)):(u[n]=Je(s),u[n].c(),X(u[n],1),u[n].m(o,null))}for(K(),n=c.length;n<u.length;n+=1)v(n);V()}},i(t){if(!l){for(let t=0;t<a.length;t+=1)X(r[t]);for(let t=0;t<c.length;t+=1)X(u[t]);l=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)Y(r[t]);u=u.filter(Boolean);for(let t=0;t<u.length;t+=1)Y(u[t]);l=!1},d(t){t&&f(e),g(r,t),g(u,t)}}}function We(t,e,n){let{btns:s=""}=e;const o=q();let l={left:{},right:{}};const a={Priority:{type:"dropdown",id:"priority",selectedIndex:dt.get("filter_priority")||0,options:[{title:gt.get("all"),icon:"fas fa-square blue"},{title:gt.get("high-priority"),icon:"fas fa-square red"},{title:gt.get("medium-priority"),icon:"fas fa-square yellow"},{title:gt.get("low-priority"),icon:"fas fa-square green"}]},State:{type:"dropdown",id:"state",selectedIndex:dt.get("filter_state")||0,options:[{title:gt.get("all"),icon:"far fa-square blue"},{title:gt.get("open"),icon:"far fa-square orange"},{title:gt.get("close"),icon:"far fa-check-square green"}]},Task:{type:"dropdown",id:"tasks",selectedIndex:dt.get("filter_tasks")||0,options:[{title:gt.get("assigned"),icon:"far fa-user blue"},{title:gt.get("delegates"),icon:"fas fa-users orange"}]},Add:{type:"button",id:"add",title:gt.get("new-task"),icon:" fas fa-plus blue"},Back:{type:"button",id:"back",title:gt.get("back"),icon:" fas fa-reply blue"}},r=t=>{const e=[],n=t.split(",");for(const t in n)if(a[n[t]]){const s=a[n[t]];s.selectedIndex=dt.get("filter_"+s.id)||0,e.push(a[n[t]])}return e},i=t=>{if("string"==typeof t){const e=t.split("/");n(0,l.left=e[0]?r(e[0]):[],l),n(0,l.right=e[0]?r(e[1]):[],l)}return l},c=t=>{t instanceof CustomEvent&&(t=t.detail.id+"_"+t.detail.selectedIndex),o("EventToolsBtns",{opc:t})};T((()=>{n(0,l=i(s))}));return t.$$set=t=>{"btns"in t&&n(2,s=t.btns)},t.$$.update=()=>{4&t.$$.dirty&&n(0,l=i(s))},[l,c,s,t=>c(t.id),t=>c(t.id)]}class Ze extends nt{constructor(t){super(),et(this,t,We,Qe,l,{btns:2})}}function tn(t){let e,n;return e=new Ft({props:{id:"Project",label:t[3]}}),e.$on("EventExpand",t[6]),e.$on("EventSelect",t[8]),{c(){Q(e.$$.fragment)},m(t,s){W(e,t,s),n=!0},p(t,n){const s={};8&n&&(s.label=t[3]),e.$set(s)},i(t){n||(X(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function en(t){let e,n;return e=new Ze({props:{btns:t[2]}}),e.$on("EventToolsBtns",t[7]),{c(){Q(e.$$.fragment)},m(t,s){W(e,t,s),n=!0},p(t,n){const s={};4&n&&(s.btns=t[2]),e.$set(s)},i(t){n||(X(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function nn(e){let n,s;return n=new rt({}),{c(){Q(n.$$.fragment)},m(t,e){W(n,t,e),s=!0},p:t,i(t){s||(X(n.$$.fragment,t),s=!0)},o(t){Y(n.$$.fragment,t),s=!1},d(t){Z(n,t)}}}function sn(t){let e,n;return e=new Le({props:{task:t[0]}}),e.$on("EventDeleted",t[7]),{c(){Q(e.$$.fragment)},m(t,s){W(e,t,s),n=!0},p(t,n){const s={};1&n&&(s.task=t[0]),e.$set(s)},i(t){n||(X(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function on(t){let e,n;return e=new De({props:{task:t[0]}}),e.$on("EventAdded",t[7]),{c(){Q(e.$$.fragment)},m(t,s){W(e,t,s),n=!0},p(t,n){const s={};1&n&&(s.task=t[0]),e.$set(s)},i(t){n||(X(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function ln(t){let e,n;return e=new Se({props:{tasks:t[1],selOpc:t[9]}}),{c(){Q(e.$$.fragment)},m(t,s){W(e,t,s),n=!0},p(t,n){const s={};2&n&&(s.tasks=t[1]),e.$set(s)},i(t){n||(X(e.$$.fragment,t),n=!0)},o(t){Y(e.$$.fragment,t),n=!1},d(t){Z(e,t)}}}function an(t){let e,n,s,o,l,a,r,i,c,g="new"!==t[4]&&tn(t),v="none"!==t[4]&&en(t);const $=[ln,on,sn,nn],b=[];function k(t,e){return"list"===t[4]?0:"new"===t[4]||"edit"===t[4]?1:"del"===t[4]?2:"load"===t[4]?3:-1}return~(a=k(t))&&(r=b[a]=$[a](t)),{c(){e=m("header"),g&&g.c(),n=h(),v&&v.c(),o=h(),l=m("main"),r&&r.c(),y(e,"class",s=u(t[5])+" svelte-ob3r67"),y(l,"class",i=u(t[5])+" svelte-ob3r67")},m(t,s){p(t,e,s),g&&g.m(e,null),d(e,n),v&&v.m(e,null),p(t,o,s),p(t,l,s),~a&&b[a].m(l,null),c=!0},p(t,[o]){"new"!==t[4]?g?(g.p(t,o),16&o&&X(g,1)):(g=tn(t),g.c(),X(g,1),g.m(e,n)):g&&(K(),Y(g,1,1,(()=>{g=null})),V()),"none"!==t[4]?v?(v.p(t,o),16&o&&X(v,1)):(v=en(t),v.c(),X(v,1),v.m(e,null)):v&&(K(),Y(v,1,1,(()=>{v=null})),V()),(!c||32&o&&s!==(s=u(t[5])+" svelte-ob3r67"))&&y(e,"class",s);let d=a;a=k(t),a===d?~a&&b[a].p(t,o):(r&&(K(),Y(b[d],1,1,(()=>{b[d]=null})),V()),~a?(r=b[a],r?r.p(t,o):(r=b[a]=$[a](t),r.c()),X(r,1),r.m(l,null)):r=null),(!c||32&o&&i!==(i=u(t[5])+" svelte-ob3r67"))&&y(l,"class",i)},i(t){c||(X(g),X(v),X(r),c=!0)},o(t){Y(g),Y(v),Y(r),c=!1},d(t){t&&f(e),g&&g.d(),v&&v.d(),t&&f(o),t&&f(l),~a&&b[a].d()}}}function rn(t,e,n){let s={id:0,name:""},o={},l={},a="",r="",i="",c="",u={};const d=t=>{var e;n(3,r=(e=t).id?e.name:gt.get("select-project")),s=t,dt.set("project",s)},p=t=>{if("list"===t){if(!s.id)return n(4,i="none");n(2,a="Priority,State,Task/Add")}else"new"===t?(n(0,o={}),n(2,a="Back/")):n(2,a="edit"===t?"Back/":"");n(4,i=t),"function"==typeof u.set&&u.set(a)},f=(t,e)=>{ft.send("task/list-data-"+t,s,(n=>{dt.set("tasks-"+t,n),g(n,e)}))},g=(t,e)=>{t=(t=>{const e=[],n=dt.get("filter_priority")||0;if(0===n)return t;for(const s in t)(1===n&&t[s].labels.indexOf("alta")>-1||2===n&&t[s].labels.indexOf("media")>-1||3===n&&t[s].labels.indexOf("baja")>-1)&&e.push(t[s]);return e})(t=(t=>{const e=[],n=dt.get("filter_state")||0;if(0===n)return t;for(const s in t)(1===n&&"opened"===t[s].state||2===n&&"closed"===t[s].state)&&e.push(t[s]);return e})(t)),n(1,l=t),e("list")},m=t=>{const e=dt.get("filter_tasks")||0;let n=dt.get("tasks-"+e)||[];n&&n.length?g(n,t):(p("load"),f(e,(()=>{t("list")})))},v=t=>{((t,e)=>{const n=t.split("_");n.length>1?(dt.set("filter_"+n[0],parseInt(n[1])),m(e)):e(t)})(t,(t=>{p("add"===t?"new":"back"===t?"list":t)}))};function $(t){for(const e in l)if(l[e].id===t)return l[e];return{}}return T((()=>{d(dt.get("project")||s),p("load"),f(dt.get("filter_tasks")||0,(()=>{p("list")}))})),[o,l,a,r,i,c,t=>{n(5,c=t.detail?"expand":"")},t=>{const e=t.detail;"function"==typeof e.set&&(u=e,u.set(a)),e.op&&(e.op,m((()=>{}))),e.opc&&v(e.opc)},t=>{const e=t.detail;e.data?(d(e.data),p("load"),f(dt.get("filter_tasks")||0,(()=>{p("list")}))):ft.send("project/search",{key:e.value},e.fun)},t=>{const e=t.split(":");"E"===e[0]?(n(0,o=$(parseInt(e[1]))),p("edit")):"D"===e[0]&&(n(0,o=$(parseInt(e[1]))),p("del"))}]}class cn extends nt{constructor(t){super(),et(this,t,rn,an,l,{})}}const{window:un}=J;function dn(t){let e,n,o,l,a,r,i=!1,c=()=>{i=!1};B(t[3]);var u=t[1];return u&&(o=new u({})),{c(){n=m("div"),o&&Q(o.$$.fragment),y(n,"class","anemona-app svelte-whzz5u")},m(s,u){p(s,n,u),o&&W(o,n,null),l=!0,a||(r=[k(un,"scroll",t[2]),k(un,"scroll",(()=>{i=!0,clearTimeout(e),e=setTimeout(c,100),t[3]()}))],a=!0)},p(t,[s]){if(1&s&&!i&&(i=!0,clearTimeout(e),scrollTo(un.pageXOffset,t[0]),e=setTimeout(c,100)),u!==(u=t[1])){if(o){K();const t=o;Y(t.$$.fragment,1,0,(()=>{Z(t,1)})),V()}u?(o=new u({}),Q(o.$$.fragment),X(o.$$.fragment,1),W(o,n,null)):o=null}},i(t){l||(o&&X(o.$$.fragment,t),l=!0)},o(t){o&&Y(o.$$.fragment,t),l=!1},d(t){t&&f(n),o&&Z(o),a=!1,s(r)}}}function pn(t,e,n){let s=0,o=rt,l="spinner",a={tasks:cn,dash:ie,login:$t,logout:kt};const r=t=>{n(1,o=t)},i=(t,e)=>{if(r(rt),l=t.shift(),l&&(l.indexOf("list-data")>-1&&(l="tasks"),pt.set(l),a[l]))return r(a[l])},c=()=>{dt.set("statistics",void 0)};return T((()=>{pt.addEventListener((t=>i([t]))),dt.addEventListener((t=>(t=>{if("refresh"===t)return c()})(t))),window.addEventListener("message",(async t=>{const e=t.data||{};if(ft.call(e))return;const n=e.cmd.split("/");switch(n.shift()){case"lang":return gt.load(e.dat);case"loading":return r(rt)}i(n)})),ft.send("session/valid",(t=>{!0===t.success?(gt.load(t.lang||"en"),pt.put(pt.last()||"dash"),c()):pt.put("login")}))})),[s,o,function(){n(0,s=s||(dt.get("scroll_"+l)||.01)),dt.set("scroll_"+l,s)},function(){n(0,s=un.pageYOffset)}]}return new class extends nt{constructor(t){super(),et(this,t,pn,dn,l,{})}}({target:document.body})}();
